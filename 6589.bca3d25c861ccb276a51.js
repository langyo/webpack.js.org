"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6589],{6589:function(a,e,t){t.r(e),t(7378);var n=t(2682);function s(){return s=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},s.apply(this,arguments)}function p(a){let{components:e,...t}=a;return(0,n.kt)("wrapper",s({components:e},t),(0,n.kt)("div",{align:"center"}),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://npmjs.com/package/html-loader",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/npm/v/html-loader.svg",alt:"npm",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://nodejs.org",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/node/v/html-loader.svg",alt:"node",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://david-dm.org/webpack-contrib/html-loader",parentName:"p"},(0,n.kt)("img",{src:"https://david-dm.org/webpack-contrib/html-loader.svg",alt:"deps",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://github.com/webpack-contrib/html-loader/actions",parentName:"p"},(0,n.kt)("img",{src:"https://github.com/webpack-contrib/html-loader/workflows/html-loader/badge.svg",alt:"tests",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://codecov.io/gh/webpack-contrib/html-loader",parentName:"p"},(0,n.kt)("img",{src:"https://codecov.io/gh/webpack-contrib/html-loader/branch/master/graph/badge.svg",alt:"coverage",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://gitter.im/webpack/webpack",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg",alt:"chat",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://packagephobia.now.sh/result?p=html-loader",parentName:"p"},(0,n.kt)("img",{src:"https://packagephobia.now.sh/badge?p=html-loader",alt:"size",parentName:"a"}))),(0,n.kt)("p",null,"将 HTML 导出为字符串。当编译器需要时，将压缩 HTML 字符串。"),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"getting-started",parentName:"h2"}),"快速开始",(0,n.kt)("a",{href:"#getting-started","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"首先，你需要安装 ",(0,n.kt)("inlineCode",{parentName:"p"},"html-loader")," ："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-console",parentName:"pre"},"npm install --save-dev html-loader\n")),(0,n.kt)("p",null,"然后将插件添加到你的 ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack")," 配置中。例如："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," html ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./file.html'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"options",parentName:"h2"}),"选项",(0,n.kt)("a",{href:"#options","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{align:"center",parentName:"tr"},"名称"),(0,n.kt)("th",{align:"center",parentName:"tr"},"类型"),(0,n.kt)("th",{align:"center",parentName:"tr"},"默认值"),(0,n.kt)("th",{align:"left",parentName:"tr"},"描述"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"名称",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("strong",{parentName:"span"},(0,n.kt)("a",{href:"#sources",parentName:"strong"},(0,n.kt)("inlineCode",{parentName:"a"},"sources"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{Boolean|Object}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"true"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"启用/禁用 sources 处理"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"名称",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("strong",{parentName:"span"},(0,n.kt)("a",{href:"#preprocessor",parentName:"strong"},(0,n.kt)("inlineCode",{parentName:"a"},"preprocessor"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{Function}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"undefined"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"允许在处理前对内容进行预处理"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"名称",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("strong",{parentName:"span"},(0,n.kt)("a",{href:"#minimize",parentName:"strong"},(0,n.kt)("inlineCode",{parentName:"a"},"minimize"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{Boolean|Object}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"在生产模式下为 ",(0,n.kt)("inlineCode",{parentName:"span"},"true"),"，其他情况为 ",(0,n.kt)("inlineCode",{parentName:"span"},"false"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"通知 ",(0,n.kt)("inlineCode",{parentName:"span"},"html-loader")," 压缩 HTML"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"名称",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("strong",{parentName:"span"},(0,n.kt)("a",{href:"#esmodule",parentName:"strong"},(0,n.kt)("inlineCode",{parentName:"a"},"esModule"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{Boolean}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"true"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"启用/禁用 ES modules 语法"))))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"sources",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"sources"),(0,n.kt)("a",{href:"#sources","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"类型： ",(0,n.kt)("inlineCode",{parentName:"p"},"Boolean|Object"),"\n默认值： ",(0,n.kt)("inlineCode",{parentName:"p"},"true")),(0,n.kt)("p",null,"默认情况下，每个可加载属性（例如 - ",(0,n.kt)("inlineCode",{parentName:"p"},'<img src="image.png"/>')," ）都将被导入（ ",(0,n.kt)("inlineCode",{parentName:"p"},"const img = require ('./image.png')")," 或 ",(0,n.kt)("inlineCode",{parentName:"p"},'import img from "./image.png""')," ）。\n你可能需要为配置中的图片指定 loader（推荐使用 ",(0,n.kt)("a",{href:"/guides/asset-modules/",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"asset modules")),"）。"),(0,n.kt)("p",null,"支持的标签和属性："),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"audio")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"src")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"embed")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"src")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"img")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"src")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"img")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"srcset")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"input")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"src")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"object")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"data")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"script")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"src")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"script")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"href")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"script")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"xlink:href")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"source")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"src")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"source")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"srcset")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"track")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"src")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"video")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"poster")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"video")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"src")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"image")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"xlink:href")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"image")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"href")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"use")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"xlink:href")," 属性"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"use")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"href")," 属性"),(0,n.kt)("li",{parentName:"ul"},"当 ",(0,n.kt)("inlineCode",{parentName:"li"},"rel")," 属性值包含 ",(0,n.kt)("inlineCode",{parentName:"li"},"stylesheet"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"icon"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"shortcut icon"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"mask-icon"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"apple-touch-icon"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"apple-touch-icon-precomposed"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"apple-touch-startup-image"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"manifest"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"prefetch"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"preload")," 或者当 ",(0,n.kt)("inlineCode",{parentName:"li"},"itemprop")," 属性为 ",(0,n.kt)("inlineCode",{parentName:"li"},"image"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"logo"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"screenshot"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"thumbnailurl"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"contenturl"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"downloadurl"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"duringmedia"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"embedurl"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"installurl"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"layoutimage")," 时，支持 ",(0,n.kt)("inlineCode",{parentName:"li"},"link")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"href")," 属性"),(0,n.kt)("li",{parentName:"ul"},"当 ",(0,n.kt)("inlineCode",{parentName:"li"},"rel")," 属性值包含 ",(0,n.kt)("inlineCode",{parentName:"li"},"stylesheet"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"icon"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"shortcut icon"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"mask-icon"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"apple-touch-icon"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"apple-touch-icon-precomposed"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"apple-touch-startup-image"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"manifest"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"prefetch"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"preload"),"时，支持 ",(0,n.kt)("inlineCode",{parentName:"li"},"link")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"imagesrcset")," 属性"),(0,n.kt)("li",{parentName:"ul"},"当 ",(0,n.kt)("inlineCode",{parentName:"li"},"name")," 属性为 ",(0,n.kt)("inlineCode",{parentName:"li"},"msapplication-tileimage"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"msapplication-square70x70logo"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"msapplication-square150x150logo"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"msapplication-wide310x150logo"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"msapplication-square310x310logo"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"msapplication-config"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"twitter:image")," 或者当 ",(0,n.kt)("inlineCode",{parentName:"li"},"property")," 属性为 ",(0,n.kt)("inlineCode",{parentName:"li"},"og:image"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"og:image:url"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"og:image:secure_url"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"og:audio"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"og:audio:secure_url"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"og:video"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"og:video:secure_url"),"、",(0,n.kt)("inlineCode",{parentName:"li"},"vk:image"),"，支持 ",(0,n.kt)("inlineCode",{parentName:"li"},"meta")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"content")," 属性。"),(0,n.kt)("li",{parentName:"ul"},"当 ",(0,n.kt)("inlineCode",{parentName:"li"},"name")," 属性为 ",(0,n.kt)("inlineCode",{parentName:"li"},"msapplication-task")," 时，支持 ",(0,n.kt)("inlineCode",{parentName:"li"},"meta")," 标签的 ",(0,n.kt)("inlineCode",{parentName:"li"},"content")," 属性中的 ",(0,n.kt)("inlineCode",{parentName:"li"},"icon-uri")," 值组件")),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"boolean",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"Boolean"),(0,n.kt)("a",{href:"#boolean","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"当设置为 ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," 时，则启用所有默认元素和属性的处理，而 ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," 则禁用所有属性的处理。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Disables attributes processing"),"\n          sources",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"object",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"Object"),(0,n.kt)("a",{href:"#object","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"你可以配置要处理的标签和属性，来过滤它们，过滤 URL 并处理以 ",(0,n.kt)("inlineCode",{parentName:"p"},"/")," 开头的资源地址。"),(0,n.kt)("p",null,"例如："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          sources",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            list",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// All default supported tags and attributes"),"\n              ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'...'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                tag",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'img'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                attribute",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'data-src'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'src'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                tag",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'img'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                attribute",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'data-srcset'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'srcset'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"urlFilter"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"attribute",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," value",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," resourcePath"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// `attribute` 参数包含一个 HTML 属性的名称。"),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// `value` 参数包含一个 HTML 属性的值。"),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// `resourcePath` 参数包含一个已加载 HTML 文件的路径。"),"\n\n              ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token regex",parentName:"code"},"/example\\.pdf$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"test"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"value",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n              ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"list",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"list"),(0,n.kt)("a",{href:"#list","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"类型：",(0,n.kt)("inlineCode",{parentName:"p"},"Array"),"\n默认值：",(0,n.kt)("a",{href:"#sources",parentName:"p"},"支持的标签和属性列表")),(0,n.kt)("p",null,"允许设置要处理的标签和属性以及处理方式，以及过滤其中一些标签和属性的能力。"),(0,n.kt)("p",null,"使用 ",(0,n.kt)("inlineCode",{parentName:"p"},"...")," 语法可以使用所有",(0,n.kt)("a",{href:"#sources",parentName:"p"},"默认支持的标签和属性"),"。"),(0,n.kt)("p",null,"例如："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          sources",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            list",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// All default supported tags and attributes"),"\n              ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'...'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                tag",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'img'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                attribute",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'data-src'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'src'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                tag",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'img'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                attribute",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'data-srcset'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'srcset'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Tag name"),"\n                tag",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'link'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Attribute name"),"\n                attribute",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'href'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Type of processing, can be `src` or `scrset`"),"\n                type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'src'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Allow to filter some attributes"),"\n                ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"filter"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"tag",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," attribute",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," attributes",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," resourcePath"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `tag` argument contains a name of the HTML tag."),"\n                  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `attribute` argument contains a name of the HTML attribute."),"\n                  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `attributes` argument contains all attributes of the tag."),"\n                  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `resourcePath` argument contains a path to the loaded HTML file."),"\n\n                  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token regex",parentName:"code"},"/my-html\\.html$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"test"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"resourcePath",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n                  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token operator",parentName:"code"},"!"),(0,n.kt)("span",{className:"token regex",parentName:"code"},"/stylesheet/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"test"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"attributes",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"rel",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n                  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n                    attributes",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"type ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"&&"),"\n                    attributes",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"type",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"trim"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"toLowerCase"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"!==")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'text/css'"),"\n                  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n                  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"如果未指定标签名称，它将处理所有标签。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"你可以使用自定义过滤器指定要处理的 html 元素。")),(0,n.kt)("p",null,"例如："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          sources",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            list",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Attribute name"),"\n                attribute",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'src'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Type of processing, can be `src` or `scrset`"),"\n                type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'src'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Allow to filter some attributes (optional)"),"\n                ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"filter"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"tag",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," attribute",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," attributes",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," resourcePath"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `tag` argument contains a name of the HTML tag."),"\n                  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `attribute` argument contains a name of the HTML attribute."),"\n                  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `attributes` argument contains all attributes of the tag."),"\n                  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `resourcePath` argument contains a path to the loaded HTML file."),"\n\n                  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// choose all HTML tags except img tag"),"\n                  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," tag",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"toLowerCase"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"!==")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'img'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"filter 也可以用来扩展支持的元素和属性。"),(0,n.kt)("p",null,"例如，filter 可以帮助处理引用资源的 meta 标签："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          sources",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            list",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                tag",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'meta'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                attribute",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'content'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'src'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"filter"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"tag",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," attribute",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," attributes",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," resourcePath"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n                    attributes",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"value ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"===")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'og:image'")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"||"),"\n                    attributes",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"name ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"===")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'twitter:image'"),"\n                  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n                  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"请注意：")," 带有 ",(0,n.kt)("inlineCode",{parentName:"p"},"tag")," 配置项的 source 优先级要比没有 ",(0,n.kt)("inlineCode",{parentName:"p"},"tag")," 配置项的高。"),(0,n.kt)("p",null,"filter 可以用于禁用默认 source。"),(0,n.kt)("p",null,"示例："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          sources",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            list",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n              ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'...'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                tag",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'img'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                attribute",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'src'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'src'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"filter"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"urlfilter",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"urlFilter"),(0,n.kt)("a",{href:"#urlfilter","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"类型：",(0,n.kt)("inlineCode",{parentName:"p"},"Function"),"\n默认值： ",(0,n.kt)("inlineCode",{parentName:"p"},"undefined")),(0,n.kt)("p",null,"允许配置要过滤的 url。所有过滤的 url 都参与解析（会保持原样）。\n默认情况下，所有非请求资源类型的值（例如 ",(0,n.kt)("inlineCode",{parentName:"p"},'<img src="javascript:void (0)" />')," ）都不处理。"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          sources",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"urlFilter"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"attribute",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," value",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," resourcePath"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `attribute` argument contains a name of the HTML attribute."),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `value` argument contains a value of the HTML attribute."),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// The `resourcePath` argument contains a path to the loaded HTML file."),"\n\n              ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token regex",parentName:"code"},"/example\\.pdf$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"test"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"value",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n              ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"preprocessor",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"preprocessor"),(0,n.kt)("a",{href:"#preprocessor","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"类型：",(0,n.kt)("inlineCode",{parentName:"p"},"Function"),"\n默认值：",(0,n.kt)("inlineCode",{parentName:"p"},"undefined")),(0,n.kt)("p",null,"允许在处理之前对内容进行预处理。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ 你应该始终返回有效的 HTML")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.hbs")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-hbs",parentName:"pre"},'<div>\n  <p>{{firstname}} {{lastname}}</p>\n  <img src="image.png" alt="alt" />\n<div>\n')),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"function",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"Function"),(0,n.kt)("a",{href:"#function","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"你可以将 ",(0,n.kt)("inlineCode",{parentName:"p"},"preprocessor")," 选项设置为 ",(0,n.kt)("inlineCode",{parentName:"p"},"Function")," 实例。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," Handlebars ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'handlebars'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.hbs$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"preprocessor"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," loaderContext"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"let")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"try")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              result ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," Handlebars",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"compile"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                firstname",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'Value'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                lastname",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'OtherValue'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"catch")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"error",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              loaderContext",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"emitError"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"error",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n              ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"你还可以将 ",(0,n.kt)("inlineCode",{parentName:"p"},"preprocessor")," 选项设置为异步函数实例。"),(0,n.kt)("p",null,"例如："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," Handlebars ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'handlebars'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.hbs$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"preprocessor"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"async")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," loaderContext"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"let")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"try")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              result ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"await")," Handlebars",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"compile"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                firstname",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'Value'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                lastname",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'OtherValue'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"catch")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"error",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"await")," loaderContext",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"emitError"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"error",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n              ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"minimize",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"minimize"),(0,n.kt)("a",{href:"#minimize","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"类型：",(0,n.kt)("inlineCode",{parentName:"p"},"Boolean|Object"),"\n默认值：在生产模式下为 ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," ，否则为 ",(0,n.kt)("inlineCode",{parentName:"p"},"false")),(0,n.kt)("p",null,"告诉 ",(0,n.kt)("inlineCode",{parentName:"p"},"html-loader")," 编译时需要压缩 HTML 字符串。"),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"boolean",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"Boolean"),(0,n.kt)("a",{href:"#boolean","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"默认情况下，启用压缩的规则如下："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  caseSensitive",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  collapseWhitespace",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  conservativeCollapse",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  keepClosingSlash",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  minifyCSS",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  minifyJS",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  removeComments",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  removeRedundantAttributes",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  removeScriptTypeAttributes",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  removeStyleLinkTypeAttributes",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          minimize",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"object",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"Object"),(0,n.kt)("a",{href:"#object","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("p",null,"关于可用选项的更多信息，请参阅 ",(0,n.kt)("a",{href:"https://github.com/DanielRuf/html-minifier-terser",parentName:"p"},"html-minifier-terser")," 文档。"),(0,n.kt)("p",null,"可以在 ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack.conf.js")," 中使用以下选项来禁用规则"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          minimize",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            removeComments",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            collapseWhitespace",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"esmodule",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"esModule"),(0,n.kt)("a",{href:"#esmodule","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"类型：",(0,n.kt)("inlineCode",{parentName:"p"},"Boolean"),"\n默认值：",(0,n.kt)("inlineCode",{parentName:"p"},"false")),(0,n.kt)("p",null,"默认情况下， ",(0,n.kt)("inlineCode",{parentName:"p"},"html-loader")," 生成使用 ES modules 语法的 JS 模块。\n在某些情况下，使用 ES modules 会更好，例如在进行",(0,n.kt)("a",{href:"/plugins/module-concatenation-plugin/",parentName:"p"},"模块合并"),"和 ",(0,n.kt)("a",{href:"/guides/tree-shaking/",parentName:"p"},"tree shaking")," 时。"),(0,n.kt)("p",null,"你可以使用以下方法启用 CommonJS 模块语法："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          esModule",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"examples",parentName:"h2"}),"示例",(0,n.kt)("a",{href:"#examples","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"disable-url-resolving-using-the--comment",parentName:"h3"}),"使用 ",(0,n.kt)("inlineCode",{parentName:"h3"},"\x3c!-- webpackIgnore: true --\x3e")," 注释禁用 url 解析",(0,n.kt)("a",{href:"#disable-url-resolving-using-the--comment","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"通过 ",(0,n.kt)("inlineCode",{parentName:"p"},"\x3c!-- webpackIgnore: true --\x3e")," 注释，可以禁止处理下一个标签的源。"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token comment",parentName:"code"},"\x3c!-- 禁止对 src 属性进行 url 处理 --\x3e"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"\x3c!-- webpackIgnore: true --\x3e"),"\n",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"img")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"src"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"image.png",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")),"\n\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"\x3c!-- 禁止对 src 与 srcset 属性进行 url 处理 --\x3e"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"\x3c!-- webpackIgnore: true --\x3e"),"\n",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"img"),"\n  ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"srcset"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"image.png 480w, image.png 768w",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"')),"\n  ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"src"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"image.png",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"')),"\n  ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"alt"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"Elva dressed as a fairy",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"')),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")),"\n\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"\x3c!-- 禁止对 content 属性进行 url 处理 --\x3e"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"\x3c!-- webpackIgnore: true --\x3e"),"\n",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"meta")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"itemprop"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"image",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"content"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"./image.png",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")),"\n\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"\x3c!-- 禁止对 href 属性进行 url 处理 --\x3e"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"\x3c!-- webpackIgnore: true --\x3e"),"\n",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"link")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"rel"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"icon",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"type"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"image/png",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"sizes"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"192x192",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"href"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"./image.png",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"roots",parentName:"h3"}),"roots",(0,n.kt)("a",{href:"#roots","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"使用 ",(0,n.kt)("a",{href:"/configuration/resolve/#resolveroots",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"resolve.roots"))," 可以指定解析相对服务端的 URL（以 '/' 开头）请求的目录列表。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  context",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," __dirname",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.jpg$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  resolve",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    roots",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"path",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"resolve"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"__dirname",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'fixtures'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.html")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"img")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"src"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"/image.jpg",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token comment",parentName:"code"},"// => image.jpg in __dirname/fixtures will be resolved"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"cdn",parentName:"h3"}),"CDN",(0,n.kt)("a",{href:"#cdn","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.jpg$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.png$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'asset/inline'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  output",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    publicPath",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'http://cdn.example.com/[fullhash]/'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.html")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"img")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"src"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"image.jpg",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"data-src"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"image2x.png",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"index.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader!./file.html'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},'// => \'<img src="http://cdn.example.com/49eba9f/a992ca.jpg" data-src="image2x.png"/>\''))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},'\'html-loader?{"sources":{"list":[{"tag":"img","attribute":"data-src","type":"src"}]}}!./file.html\''),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},'// => \'<img src="image.jpg" data-src="data:image/png;base64,..." />\''))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},'\'html-loader?{"sources":{"list":[{"tag":"img","attribute":"src","type":"src"},{"tag":"img","attribute":"data-src","type":"src"}]}}!./file.html\''),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},'// => \'<img src="http://cdn.example.com/49eba9f/a992ca.jpg" data-src="data:image/png;base64,..." />\''))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"process-script-and-link-tags",parentName:"h3"}),"处理 ",(0,n.kt)("inlineCode",{parentName:"h3"},"script")," 和 ",(0,n.kt)("inlineCode",{parentName:"h3"},"link")," 标签",(0,n.kt)("a",{href:"#process-script-and-link-tags","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"script.file.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"console",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"log"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"style.file.css")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-css",parentName:"pre"},(0,n.kt)("span",{className:"token selector",parentName:"code"},"a")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},":")," red",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.html")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token doctype",parentName:"code"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<!"),(0,n.kt)("span",{className:"token doctype-tag",parentName:"span"},"DOCTYPE")," ",(0,n.kt)("span",{className:"token name",parentName:"span"},"html"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"\n",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"html"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"\n  ",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"head"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"\n    ",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"meta")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"charset"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"UTF-8",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")),"\n    ",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"title"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"Title of the document",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"title"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"\n    ",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"link")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"rel"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"stylesheet",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"type"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"text/css",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"href"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"./style.file.css",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")),"\n  ",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"head"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"\n  ",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"body"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"\n    Content of the document......\n    ",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"script")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"src"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"./script.file.js",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"')),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),(0,n.kt)("span",{className:"token script",parentName:"code"}),(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"script"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"\n  ",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"body"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"\n",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"html"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        generator",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          filename",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'[name][ext]'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'extract-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.js$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        exclude",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.file.js$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'babel-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.file.js$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        exclude",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.file.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.file.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"templating",parentName:"h3"}),"模板",(0,n.kt)("a",{href:"#templating","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"你可以使用任何模板系统。以下是 ",(0,n.kt)("a",{href:"https://handlebarsjs.com/",parentName:"p"},"handlebars")," 的示例。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.hbs")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-hbs",parentName:"pre"},'<div>\n  <p>{{firstname}} {{lastname}}</p>\n  <img src="image.png" alt="alt" />\n<div>\n')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," Handlebars ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'handlebars'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.hbs$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"preprocessor"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," loaderContext"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"let")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"try")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              result ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," Handlebars",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"compile"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                firstname",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'Value'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                lastname",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'OtherValue'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"catch")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"error",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              loaderContext",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"emitError"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"error",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n              ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"posthtml",parentName:"h3"}),"PostHTML",(0,n.kt)("a",{href:"#posthtml","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"你可以使用 ",(0,n.kt)("a",{href:"https://github.com/posthtml/posthtml",parentName:"p"},"PostHTML")," 而无需任何其他加载程序。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.html")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"img")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"src"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"image.jpg",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," posthtml ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'posthtml'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," posthtmlWebp ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'posthtml-webp'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.hbs$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"preprocessor"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," loaderContext"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"let")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"try")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              result ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"posthtml"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"use"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"plugin",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"process"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," sync",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"catch")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"error",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              loaderContext",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"emitError"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"error",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n              ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n            ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"html",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"export-into-html-files",parentName:"h3"}),"导出为 HTML 文件",(0,n.kt)("a",{href:"#export-into-html-files","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"一种非常常见的情况是将 HTML 导出到自己的 ",(0,n.kt)("em",{parentName:"p"},".html")," 文件中，以直接使用，\n而非注入到 javascript。\n可以使用以下 2 种 loader 的组合来实现："),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{href:"https://github.com/peerigon/extract-loader",parentName:"li"},"extract-loader")),(0,n.kt)("li",{parentName:"ul"},"html-loader")),(0,n.kt)("p",null,"还有 ",(0,n.kt)("a",{href:"/guides/asset-modules/",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"asset modules"))),(0,n.kt)("p",null,"html-loader 将解析 URL，同时引入图片以及你需要的所有内容。\nextract loader 会将 javascript 解析为正确的 html 文件，\n然后确保图片被引入且路径正确，\n",(0,n.kt)("a",{href:"/guides/asset-modules/",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"asset modules"))," 会为你生成 ",(0,n.kt)("em",{parentName:"p"},".html")," 文件。例如："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  output",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    assetModuleFilename",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'[name][ext]'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        generator",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          filename",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'[name][ext]'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.html$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'extract-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'html-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"contributing",parentName:"h2"}),"贡献",(0,n.kt)("a",{href:"#contributing","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"如果你还没有阅读，请花一点时间阅读我们的贡献指南。"),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/webpack-contrib/html-loader/blob/master/.github/CONTRIBUTING.md",parentName:"p"},"贡献")),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"license",parentName:"h2"}),"许可证",(0,n.kt)("a",{href:"#license","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/webpack-contrib/html-loader/blob/master/LICENSE",parentName:"p"},"MIT")))}p.isMDXComponent=!0,e.default=p}}]);