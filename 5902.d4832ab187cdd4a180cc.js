"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5902],{5902:function(e,a,n){n.r(a),n(7378);var t=n(2682);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s.apply(this,arguments)}function p(e){let{components:a,...n}=e;return(0,t.kt)("wrapper",s({components:a},n),(0,t.kt)("p",null,"webpack 开箱即用，可以无需使用任何配置文件。然而，webpack 会假定项目的入口起点为 ",(0,t.kt)("inlineCode",{parentName:"p"},"src/index.js"),"，然后会在 ",(0,t.kt)("inlineCode",{parentName:"p"},"dist/main.js")," 输出结果，并且在生产环境开启压缩和优化。"),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{className:"tip__prefix",parentName:"aside"},"提示"),(0,t.kt)("p",{parentName:"aside"},(0,t.kt)("a",{href:"https://createapp.dev/webpack",parentName:"p"},"createapp.dev")," 是一个创建自定义 webpack 配置的在线工具。它允许你选择各种特性，其将会被添加到最后的配置文件中。它也会基于生成的 webpack 配置初始化一个示例项目，你可以在浏览器中查看该项目并且下载。")),(0,t.kt)("p",null,"通常你的项目还需要继续扩展此能力，为此你可以在项目根目录下创建一个 ",(0,t.kt)("inlineCode",{parentName:"p"},"webpack.config.js")," 文件，然后 webpack 会自动使用它。"),(0,t.kt)("p",null,"下面指定了所有可用的配置选项。"),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{className:"tip__prefix",parentName:"aside"},"提示"),(0,t.kt)("p",{parentName:"aside"},"刚开始学习 webpack？请查看我们提供的指南，从 webpack 一些 ",(0,t.kt)("a",{href:"/concepts",parentName:"p"},"核心概念")," 开始学习吧！")),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"use-different-configuration-file",parentName:"h2"}),"使用不同的配置文件",(0,t.kt)("a",{href:"#use-different-configuration-file","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"如果出于某些原因，需要根据特定情况使用不同的配置文件，则可以通过在命令行中使用 ",(0,t.kt)("inlineCode",{parentName:"p"},"--config")," 标志修改。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"package.json")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-json",parentName:"pre"},(0,t.kt)("span",{className:"token property",parentName:"code"},'"scripts"'),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token property",parentName:"code"},'"build"'),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},'"webpack --config prod.config.js"'),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"set-up-a-new-webpack-project",parentName:"h2"}),"设置一个新的 webpack 项目",(0,t.kt)("a",{href:"#set-up-a-new-webpack-project","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("aside",{className:"warning"},(0,t.kt)("h6",{className:"warning__prefix",parentName:"aside"},"警告"),(0,t.kt)("p",{parentName:"aside"},"在应用 ",(0,t.kt)("a",{href:"/contribute/writing-a-plugin/#configuration-defaults",parentName:"p"},"插件默认值")," 之后，webpack 将应用配置默认值。")),(0,t.kt)("p",null,"Webpack 有大量的配置项，可能会让你不知所措，请利用 ",(0,t.kt)("a",{href:"/api/cli/#init",parentName:"p"},"webpack-cli 的 init 命令"),"，它可以根据你的项目需求快速生成 webpack 配置文件，它会在创建配置文件之前询问你几个问题。"),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-bash",parentName:"pre"},"npx webpack init")),(0,t.kt)("p",null,"如果尚未在项目或全局安装 ",(0,t.kt)("inlineCode",{parentName:"p"},"@webpack-cli/generators"),"，npx 可能会提示你安装。根据你在配置生成过程中的选择，你也可能会安装额外的 package 到你的项目中。"),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-bash",parentName:"pre"},"$ npx webpack init\n\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"webpack-cli",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]")," For using this ",(0,t.kt)("span",{className:"token builtin class-name",parentName:"code"},"command")," you need to install: ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'@webpack-cli/generators'")," package.\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"webpack-cli",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]")," Would you like to ",(0,t.kt)("span",{className:"token function",parentName:"code"},"install")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'@webpack-cli/generators'")," package? ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"That will run ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'npm install -D @webpack-cli/generators'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"Y/n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),"\ndevDependencies:\n+ @webpack-cli/generators ",(0,t.kt)("span",{className:"token number",parentName:"code"},"2.5"),".0\n? Which of the following JS solutions ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"do")," you want to use? ES6\n? Do you want to use webpack-dev-server? Yes\n? Do you want to simplify the creation of HTML files ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"for")," your bundle? Yes\n? Do you want to ",(0,t.kt)("span",{className:"token function",parentName:"code"},"add")," PWA support? No\n? Which of the following CSS solutions ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"do")," you want to use? CSS only\n? Will you be using PostCSS ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"in")," your project? Yes\n? Do you want to extract CSS ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"for")," every file? Only ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"for")," Production\n? Do you like to ",(0,t.kt)("span",{className:"token function",parentName:"code"},"install")," prettier to ",(0,t.kt)("span",{className:"token function",parentName:"code"},"format")," generated configuration? Yes\n? Pick a package manager: ",(0,t.kt)("span",{className:"token function",parentName:"code"},"pnpm"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"webpack-cli",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]")," ℹ INFO  Initialising project",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},".."),".\n\ndevDependencies:\n+ @babel/core ",(0,t.kt)("span",{className:"token number",parentName:"code"},"7.19"),".3\n+ @babel/preset-env ",(0,t.kt)("span",{className:"token number",parentName:"code"},"7.19"),".4\n+ autoprefixer ",(0,t.kt)("span",{className:"token number",parentName:"code"},"10.4"),".12\n+ babel-loader ",(0,t.kt)("span",{className:"token number",parentName:"code"},"8.2"),".5\n+ css-loader ",(0,t.kt)("span",{className:"token number",parentName:"code"},"6.7"),".1\n+ html-webpack-plugin ",(0,t.kt)("span",{className:"token number",parentName:"code"},"5.5"),".0\n+ mini-css-extract-plugin ",(0,t.kt)("span",{className:"token number",parentName:"code"},"2.6"),".1\n+ postcss ",(0,t.kt)("span",{className:"token number",parentName:"code"},"8.4"),".17\n+ postcss-loader ",(0,t.kt)("span",{className:"token number",parentName:"code"},"7.0"),".1\n+ prettier ",(0,t.kt)("span",{className:"token number",parentName:"code"},"2.7"),".1\n+ style-loader ",(0,t.kt)("span",{className:"token number",parentName:"code"},"3.3"),".1\n+ webpack-dev-server ",(0,t.kt)("span",{className:"token number",parentName:"code"},"4.11"),".1\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"webpack-cli",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]")," Project has been initialised with webpack",(0,t.kt)("span",{className:"token operator",parentName:"code"},"!"))))}p.isMDXComponent=!0,a.default=p}}]);