<!DOCTYPE html><html lang="zh-cmn-Hans"><head><title data-rh="true">Loader Interface | webpack 中文文档</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="theme-color" content="#2B3A42"/><meta data-rh="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-rh="true" name="description" content="webpack 是一个模块打包器。它的主要目标是将 JavaScript 文件打包在一起，打包后的文件用于在浏览器中使用，但它也能够胜任转换、打包或包裹任何资源。"/><meta data-rh="true" property="og:site_name" content="webpack"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" property="og:title" content="Loader Interface | webpack 中文文档"/><meta data-rh="true" property="og:description" name="description" content="webpack 是一个模块打包器。它的主要目标是将 JavaScript 文件打包在一起，打包后的文件用于在浏览器中使用，但它也能够胜任转换、打包或包裹任何资源。"/><meta data-rh="true" property="og:image" content="https://webpack.js.org/icon-pwa-512x512.d3dae4189855b3a72ff9.png"/><meta data-rh="true" property="twitter:card" content="summary"/><meta data-rh="true" property="twitter:site" content="@webpack"/><meta data-rh="true" property="twitter:creator" content="@webpack"/><meta data-rh="true" property="twitter:domain" content="https://webpack.js.org/"/><meta data-rh="true" name="keywords" content="webpack5, webpack, webpack 中文文档, webpack 官方中文, webpack 5 官方中文, 印记中文, docschina, docschina.org, webpack.docschina.org, doc.react-china.org, nodejs.cn, vue.docschina.org, babel.docschina.org, parceljs.docschina.org, rollup.docschina.org, koajs.docschina.org"/><meta data-rh="true" name="mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-status-bar-style" content="black"/><meta data-rh="true" name="apple-mobile-web-app-title" content="webpack"/><meta data-rh="true" name="msapplication-TileImage" content="/icon_150x150.png"/><meta data-rh="true" name="msapplication-TileColor" content="#465e69"/><link data-rh="true" rel="icon" type="image/x-icon" href="/favicon.f326220248556af65f41.ico"/><link data-rh="true" rel="manifest" href="/manifest.json"/><link data-rh="true" rel="canonical" href="https://webpack.docschina.org/api/loaders/"/><link data-rh="true" rel="icon" sizes="192x192" href="/icon_192x192.png"/><link data-rh="true" rel="icon" sizes="512x512" href="/icon_512x512.png"/><link data-rh="true" rel="apple-touch-icon" href="/icon_180x180.png"/><link data-rh="true" rel="mask-icon" href="/logo-on-white-bg.47eff95f9c01c5972f6f.svg" color="#465e69"/><link rel="stylesheet" href=/index.c114afea0778b47a418a.css /><link rel="stylesheet" href=/9517.acfe42251eae743e4e22.css /></head><body><div id="root"><div class="site"><div class="site__header"><header class="bg-blue-800 dark:bg-gray-900"><div class="flex items-center py-10 px-[16px] justify-between md:px-[24px] md:max-w-[1024px] md:mx-auto md:justify-start"><button class="bg-transparent border-none md:hidden"><svg viewBox="-62 138 25 25" width="20" height="20" class="fill-current text-white"><path fill="currentColor" d="M-60.2 140.2h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8M-60.2 148.7h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8M-60.2 157.2h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8"></path></svg></button><a class="md:mr-auto" href="/"><img class="logo" src="/site-logo.1fcab817090e78435061.svg" alt="webpack logo" width="122" height="35"/></a><nav class="hidden md:inline-grid md:grid-flow-col md:gap-x-[18px]"><a class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/concepts/">中文文档</a><a class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/contribute/">参与贡献</a><a class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/blog/">博客</a><a href="https://docschina.org" target="_blank" rel="noopener noreferrer" class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200">印记中文</a><a href="https://github.com/webpack/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-100 dark:text-gray-200 hover:text-blue-200" title="webpack on GitHub"><svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor" width="16"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 6.8 9.5c.5 0 .7-.2.7-.5v-1.7C6.7 20 6.1 18 6.1 18c-.4-1.2-1-1.5-1-1.5-1-.6 0-.6 0-.6 1 0 1.5 1 1.5 1 .9 1.6 2.4 1.1 3 .9 0-.7.3-1.1.6-1.4-2.2-.2-4.6-1-4.6-4.9 0-1.1.4-2 1-2.7 0-.3-.4-1.3.2-2.7 0 0 .8-.2 2.7 1a9.4 9.4 0 0 1 5 0c2-1.2 2.8-1 2.8-1 .5 1.4.1 2.4 0 2.7.7.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.5 5 .4.2.7.8.7 1.8V21c0 .3.2.6.7.5 4-1.3 6.8-5 6.8-9.5A10 10 0 0 0 12 2"></path></svg></a><a href="https://twitter.com/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-100 dark:text-gray-200 hover:text-blue-200" title="webpack on Twitter"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" aria-hidden="true" fill="currentColor" width="16"><path d="M28 6.937c-.957.425-1.985.711-3.064.84a5.343 5.343 0 0 0 2.345-2.951 10.696 10.696 0 0 1-3.388 1.295 5.334 5.334 0 0 0-9.089 4.864A15.143 15.143 0 0 1 3.809 5.411a5.321 5.321 0 0 0-.721 2.683 5.33 5.33 0 0 0 2.372 4.439 5.323 5.323 0 0 1-2.416-.667v.067a5.335 5.335 0 0 0 4.279 5.23 5.336 5.336 0 0 1-2.409.092 5.34 5.34 0 0 0 4.983 3.705 10.699 10.699 0 0 1-6.625 2.284c-.43 0-.855-.025-1.273-.075a15.102 15.102 0 0 0 8.177 2.396c9.812 0 15.176-8.128 15.176-15.177 0-.231-.005-.461-.015-.69A10.855 10.855 0 0 0 28 6.937z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-100 dark:text-gray-200 hover:text-blue-200" title="webpack on StackOverflow"><svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor" width="16"><path d="M17.4 20.2v-5.4h1.8V22H3v-7.2h1.8v5.4zM6.8 14.3l.3-1.7 8.8 1.8-.3 1.8zm1.1-4.2.8-1.6 8.1 3.8-.7 1.6zm2.3-4 1.1-1.4 7 5.8-1.2 1.4L10 6m4.7-4L20 9l-1.4 1-5.4-7 1.4-1m-8 16.5v-1.8h9v1.8z"></path></svg></a><nav class="dropdown "><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><svg viewBox="0 0 610 560" xmlns="http://www.w3.org/2000/svg" class="dropdown__language text-gray-100 hover:text-blue-200 transition-colors duration-200"><path d="m304.8 99.2-162.5-57.3v353.6l162.5-52.6z"></path><path d="m300.9 99 168.7-57.3v353.6l-168.7-52.5zm-200.7 358.4 200.7-66.9v-291.5l-200.7 66.9z" fill="currentColor"></path><path d="m392.4 461.8 28.4 46.8 15-43.5zm-223.9-262.3c-1.1-1 1.4 8.6 4.8 12 6.1 6.1 10.8 6.9 13.3 7 5.6.2 12.5-1.4 16.5-3.1s10.9-5.2 13.5-10.4c.6-1.1 2.1-3 1.1-7.5-.7-3.5-3-4.8-5.7-4.6s-11 2.4-15 3.6-12.2 3.7-15.8 4.5-11.5-.3-12.7-1.5zm101.2 114.8c-1.6-.6-34.3-14.1-38.9-16.4a368 368 0 0 0 -17.5-7.5c12.3-19 20.1-33.4 21.2-35.6 1.9-4 15-29.5 15.3-31.1s.7-7.5.4-8.9-5.1 1.3-11.6 3.5-18.9 10.2-23.7 11.2-20.1 6.8-28 9.4c-7.8 2.6-22.7 7.1-28.8 8.8-6.1 1.6-11.4 1.8-14.9 2.8 0 0 .5 4.8 1.4 6.2s4.1 5 7.9 5.9c3.8 1 10 .6 12.8-.1s7.7-3.1 8.4-4.1c.7-1.1-.3-4.3.8-5.3s16.1-4.5 21.7-6.2 27.2-9.2 30.1-8.8a916 916 0 0 1 -23.9 47.7 821 821 0 0 1 -45 63.3c-5.3 6-18 21.5-22.4 25 1.1.3 9-.4 10.4-1.3 8.9-5.5 23.8-24.1 28.6-29.7a489.1 489.1 0 0 0 36.7-49.4c1.9.8 17.6 13.6 21.7 16.4a293 293 0 0 0 23.7 13.3c3.5 1.5 16.9 7.7 17.5 5.6.7-1.8-2.3-14.1-3.9-14.7z"></path><path clip-rule="evenodd" d="m194.1 484.7a204.9 204.9 0 0 0 30.7 14.5 233.6 233.6 0 0 0 46.4 12c.5 0 16 1.9 19.2 1.9h15.7c6.1-.5 11.8-.9 17.9-1.7 4.9-.7 10.3-1.6 15.5-2.8 3.8-.9 7.8-1.7 11.7-3 3.7-1 7.8-2.4 11.8-3.8l8.2-3.1c2.3-1 5.1-2.3 7.7-3.3a243 243 0 0 0 19.2-10c2.3-1.2 7.5-5.2 10.3-5.2 3.1 0 5.2 2.8 5.2 5.2 0 5.1-6.8 6.6-9.9 8.9-3.3 2.3-7.3 4-10.8 5.9-7 3.7-14.1 6.8-20.9 9.4a251 251 0 0 1 -27.3 8.5c-3.3.7-6.6 1.6-9.9 2.1-1.7.3-19.9 3.1-24.9 3.1h-23a293.9 293.9 0 0 1 -35.1-5.2 196 196 0 0 1 -33.1-10.3c-12-4.5-24.6-10.5-36.4-18.3-2.1-1.4-2.3-2.8-2.3-4.4a5 5 0 0 1 5.1-5.1c2.4.1 8 4.2 9 4.7zm101.4-98.1-189.9 63.2v-280.1l189.9-63.2zm10.6-288.3v292.7a6 6 0 0 1 -1.2 2.6c-.3.5-1 1.2-1.6 1.4a14621 14621 0 0 1 -203.1 67.6c-2.1 0-4-1.4-5.1-3.7 0-.2-.2-.3-.2-.7v-292.8c.3-.9.5-2.1 1.2-2.8 1.4-1.9 3.8-2.3 5.4-2.8 3-1 196.1-65.8 198.9-65.8 1.9 0 5.7 1.2 5.7 4.3z" fill-rule="evenodd"></path><path clip-rule="evenodd" d="m464.3 388-158-49.1v-236l158-53.7zm10.6-345.8v352.4c-.2 4-3 5.7-5.6 5.7-2.3 0-18.6-5.6-21.4-6.4l-65.8-20.4-14.6-4.7-12.9-4c-18.6-5.7-37.6-11.5-56.3-17.8-.7-.2-2.4-2.6-2.4-3.1v-246.1c.3-.9.7-1.9 1.6-2.6 1.4-1.6 61.1-21.4 84.7-29.3 6.3-2.3 84.8-29.3 87.3-29.3 3 .1 5.4 2.3 5.4 5.6z" fill-rule="evenodd"></path><path d="m515 461.8-211.1-67.3.9-292.8 210.2 66.9z"></path><path clip-rule="evenodd" d="m408.6 232.5-20.7 50.1 38.1 11.5zm-12.4-47.2 27.2 8.2 49.5 178.6-27.9-8.5-10-36.7-57.7-17.5-12.4 29.9-27.9-8.5z" fill="currentColor" fill-rule="evenodd"></path></svg><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="https://webpack.js.org/api/loaders/" class="px-5 block"><span>English</span></a></li><li><a href="https://webpack.docschina.org/api/loaders/" class="px-5 block"><span lang="zh">中文</span></a></li><li><a href="https://webpack.kr/api/loaders/" class="px-5 block"><span lang="ko">한국어</span></a></li></ul></div></nav></nav><div class="inline-flex items-center ml-[18px]"><button aria-label="Switch to dark theme" class="bg-transparent border-none cursor-pointer text-[16px] p-0 inline-flex items-center text-gray-100 hover:text-blue-200 transition-colors duration-200" data-testid="hello-darkness"><svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18.1406C11.6016 18.1406 11.2782 18.464 11.2782 18.8624V21.0281C11.2782 21.4265 11.6016 21.7499 12 21.7499C12.3985 21.7499 12.7219 21.4265 12.7219 21.0281V18.8624C12.7219 18.464 12.3985 18.1406 12 18.1406V18.1406Z" fill="currentColor"></path><path d="M12 2.25006C11.6016 2.25006 11.2782 2.5735 11.2782 2.97194V5.13756C11.2782 5.536 11.6016 5.85944 12 5.85944C12.3985 5.85944 12.7219 5.536 12.7219 5.13756V2.97194C12.7219 2.5735 12.3985 2.25006 12 2.25006V2.25006Z" fill="currentColor"></path><path d="M5.85936 12C5.85936 11.6015 5.53592 11.2781 5.13749 11.2781H2.97186C2.57342 11.2781 2.24999 11.6015 2.24999 12C2.24999 12.3984 2.57342 12.7218 2.97186 12.7218H5.13749C5.53592 12.7218 5.85936 12.3984 5.85936 12V12Z" fill="currentColor"></path><path d="M21.0281 11.2781H18.8625C18.4641 11.2781 18.1406 11.6015 18.1406 12C18.1406 12.3984 18.4641 12.7218 18.8625 12.7218H21.0281C21.4266 12.7218 21.75 12.3984 21.75 12C21.75 11.6015 21.4266 11.2781 21.0281 11.2781V11.2781Z" fill="currentColor"></path><path d="M7.14841 16.1298C6.95622 16.1298 6.77341 16.2048 6.63747 16.3407L5.10466 17.8735C4.96872 18.0094 4.89372 18.1923 4.89372 18.3844C4.89372 18.5766 4.96872 18.7594 5.10466 18.8954C5.2406 19.0313 5.42341 19.1063 5.6156 19.1063C5.80779 19.1063 5.9906 19.0313 6.12654 18.8954L7.65935 17.3626C7.9406 17.0813 7.9406 16.6219 7.65935 16.3407C7.52341 16.2048 7.3406 16.1298 7.14841 16.1298V16.1298Z" fill="currentColor"></path><path d="M16.8516 7.87036C17.0437 7.87036 17.2266 7.79536 17.3625 7.65942L18.8953 6.12661C19.0312 5.99067 19.1062 5.80786 19.1062 5.61567C19.1062 5.42349 19.0312 5.24067 18.8953 5.10474C18.7594 4.9688 18.5766 4.8938 18.3844 4.8938C18.1922 4.8938 18.0094 4.9688 17.8734 5.10474L16.3406 6.63755C16.2047 6.77349 16.1297 6.9563 16.1297 7.14849C16.1297 7.34067 16.2047 7.52349 16.3406 7.65942C16.4766 7.79536 16.6594 7.87036 16.8516 7.87036V7.87036Z" fill="currentColor"></path><path d="M6.12654 5.10474C5.9906 4.9688 5.80779 4.8938 5.6156 4.8938C5.42341 4.8938 5.2406 4.9688 5.10466 5.10474C4.96872 5.24067 4.89372 5.42349 4.89372 5.61567C4.89372 5.80786 4.96872 5.99067 5.10466 6.12661L6.63747 7.65942C6.77341 7.79536 6.95622 7.87036 7.14841 7.87036C7.3406 7.87036 7.52341 7.79536 7.65935 7.65942C7.79529 7.52349 7.87029 7.34067 7.87029 7.14849C7.87029 6.9563 7.79529 6.77349 7.65935 6.63755L6.12654 5.10474V5.10474Z" fill="currentColor"></path><path d="M17.3625 16.3407C17.2266 16.2048 17.0437 16.1298 16.8516 16.1298C16.6594 16.1298 16.4766 16.2048 16.3406 16.3407C16.0594 16.6219 16.0594 17.0813 16.3406 17.3626L17.8734 18.8954C18.0094 19.0313 18.1922 19.1063 18.3844 19.1063C18.5766 19.1063 18.7594 19.0313 18.8953 18.8954C19.0312 18.7594 19.1062 18.5766 19.1062 18.3844C19.1062 18.1923 19.0312 18.0094 18.8953 17.8735L17.3625 16.3407V16.3407Z" fill="currentColor"></path><path d="M12 7.5C9.52031 7.5 7.5 9.52031 7.5 12C7.5 14.4797 9.52031 16.5 12 16.5C14.4797 16.5 16.5 14.4797 16.5 12C16.5 9.52031 14.4797 7.5 12 7.5Z" fill="currentColor"></path></svg></button><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="bg-gray-100 dark:bg-gray-800 hidden md:block"><div class="md:max-w-[1024px] md:mx-auto md:grid md:grid-flow-col md:justify-end md:gap-x-[20px] md:px-[24px]" data-testid="sub-navigation"><a title="api" aria-current="page" class="!text-black dark:!text-white text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/api/">API</a><a title="概念" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/concepts/">概念</a><a title="配置" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/configuration/">配置</a><a title="指南" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/guides/">指南</a><a title="loader" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/loaders/">loader</a><a title="迁移" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/migrate/">迁移</a><a title="plugin" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" href="/plugins/">plugin</a></div></div></header></div><div class="container site__content"><div class="sponsors"><a href="https://docschina.org" target="_blank" rel="noopener noreferrer" class="sponsors__content"><img class="sponsors__img__docschina" src="/docschina-logo.59f03f74b3c450856c01.png"/><div class="sponsors__content-cont">翻译/文档内容有任何问题，请联系我们</div><div class="wwads-cn wwads-horizontal wwads-sticky" data-id="306" style="max-width:350px"></div></a></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="relative z-0 bg-white dark:bg-gray-100 "><select class="text-gray-600 text-14 px-5 py-5 appearance-none box-border border border-gray-200 border-solid flex-col flex w-full rounded-none bg-transparent bg-none"><option selected="" value="5">Webpack 5</option><option value="4">Webpack 4</option></select><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="absolute right-5 top-5 fill-current text-gray-300 z-[-1]" width="20" height="20"><path d="M4.5 7.5c.5-.4 1-.4 1.6 0l3.9 3.8 4-3.8c.4-.4 1-.4 1.5 0 .4.5.4 1.2 0 1.7l-4.7 4.5a1 1 0 0 1-1.6 0L4.5 9.2c-.4-.5-.4-1.2 0-1.7z"></path></svg></div><div class="sidebar-item sidebar-item--disabled`"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8s.5.4.8.4c.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8s-.5-.4-.8-.4z"></path></svg><a class="sidebar-item__title sidebar-link__print" href="/api/printable/" rel="nofollow noopener noreferrer" alt="Print" title="Print" target="_blank">Print Section<img src="/icon-print.d4d2cfa27f8b9a98e34a.svg" width="27" height="20" alt="Printer Icon"/></a></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/">简介</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="CLI "><a aria-current="page" class="active" href="/api/#cli">CLI </a></li><li class="sidebar-item__anchor" title="模块 "><a aria-current="page" class="active" href="/api/#module">模块 </a></li><li class="sidebar-item__anchor" title="Node "><a aria-current="page" class="active" href="/api/#node">Node </a></li><li class="sidebar-item__anchor" title="Loaders "><a aria-current="page" class="active" href="/api/#loaders">Loaders </a></li><li class="sidebar-item__anchor" title="插件 "><a aria-current="page" class="active" href="/api/#plugins">插件 </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/cli/">命令行接口（CLI）</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="命令 "><a class="" href="/api/cli/#commands">命令 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Build "><a class="" href="/api/cli/#build">Build </a></li><li class="sidebar-item__anchor" title="Init "><a class="" href="/api/cli/#init">Init </a></li><li class="sidebar-item__anchor" title="Loader "><a class="" href="/api/cli/#loader">Loader </a></li><li class="sidebar-item__anchor" title="Plugin "><a class="" href="/api/cli/#plugin">Plugin </a></li><li class="sidebar-item__anchor" title="Info "><a class="" href="/api/cli/#info">Info </a></li><li class="sidebar-item__anchor" title="Configtest "><a class="" href="/api/cli/#configtest">Configtest </a></li><li class="sidebar-item__anchor" title="Serve "><a class="" href="/api/cli/#serve">Serve </a></li><li class="sidebar-item__anchor" title="Watch "><a class="" href="/api/cli/#watch">Watch </a></li></ul></li><li class="sidebar-item__anchor" title="Flags "><a class="" href="/api/cli/#flags">Flags </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Negated Flags "><a class="" href="/api/cli/#negated-flags">Negated Flags </a></li><li class="sidebar-item__anchor" title="核心 Flags "><a class="" href="/api/cli/#core-flags">核心 Flags </a></li></ul></li><li class="sidebar-item__anchor" title="用法 "><a class="" href="/api/cli/#usage">用法 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="使用配置文件 "><a class="" href="/api/cli/#with-configuration-file">使用配置文件 </a></li><li class="sidebar-item__anchor" title="不使用配置文件 "><a class="" href="/api/cli/#without-configuration-file">不使用配置文件 </a></li></ul></li><li class="sidebar-item__anchor" title="默认配置 "><a class="" href="/api/cli/#default-configurations">默认配置 </a></li><li class="sidebar-item__anchor" title="通用配置 "><a class="" href="/api/cli/#common-options">通用配置 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="help "><a class="" href="/api/cli/#help">help </a></li><li class="sidebar-item__anchor" title="version "><a class="" href="/api/cli/#version">version </a></li><li class="sidebar-item__anchor" title="config "><a class="" href="/api/cli/#config">config </a></li><li class="sidebar-item__anchor" title="config-name "><a class="" href="/api/cli/#config-name">config-name </a></li><li class="sidebar-item__anchor" title="merge "><a class="" href="/api/cli/#merge">merge </a></li><li class="sidebar-item__anchor" title="json "><a class="" href="/api/cli/#json">json </a></li></ul></li><li class="sidebar-item__anchor" title="Environment 选项 "><a class="" href="/api/cli/#environment-options">Environment 选项 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="env"><a class="" href="/api/cli/#env">env</a></li><li class="sidebar-item__anchor" title="node-env "><a class="" href="/api/cli/#node-env">node-env </a></li></ul></li><li class="sidebar-item__anchor" title="配置选项 "><a class="" href="/api/cli/#configuration-options">配置选项 </a></li><li class="sidebar-item__anchor" title="分析 Bundle "><a class="" href="/api/cli/#analyzing-bundle">分析 Bundle </a></li><li class="sidebar-item__anchor" title="Progress "><a class="" href="/api/cli/#progress">Progress </a></li><li class="sidebar-item__anchor" title="将 CLI 参数传递给 Node.js "><a class="" href="/api/cli/#pass-cli-arguments-to-nodejs">将 CLI 参数传递给 Node.js </a></li><li class="sidebar-item__anchor" title="退出代码及其含义 "><a class="" href="/api/cli/#exit-codes-and-their-meanings">退出代码及其含义 </a></li><li class="sidebar-item__anchor" title="CLI 环境变量 "><a class="" href="/api/cli/#cli-environment-variables">CLI 环境变量 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="WEBPACK_PACKAGE "><a class="" href="/api/cli/#webpack_package">WEBPACK_PACKAGE </a></li></ul></li><li class="sidebar-item__anchor" title="Troubleshooting"><a class="" href="/api/cli/#Troubleshooting">Troubleshooting</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension &quot;.ts&quot; for ./webpack.config.ts"><a class="" href="/api/cli/#TypeError-ERR_UNKNOWN_FILE_EXTENSION-Unknown-file-extension-ts-for-webpackconfigts">TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension &quot;.ts&quot; for ./webpack.config.ts</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/node/">Node 接口</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="安装(Installation) "><a class="" href="/api/node/#installation">安装(Installation) </a></li><li class="sidebar-item__anchor" title="webpack() "><a class="" href="/api/node/#webpack">webpack() </a></li><li class="sidebar-item__anchor" title="Compiler 实例（Compiler Instance） "><a class="" href="/api/node/#compiler-instance">Compiler 实例（Compiler Instance） </a></li><li class="sidebar-item__anchor" title="执行（Run） "><a class="" href="/api/node/#run">执行（Run） </a></li><li class="sidebar-item__anchor" title="监听(Watching) "><a class="" href="/api/node/#watching">监听(Watching) </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="关闭 Watching (Close Watching) "><a class="" href="/api/node/#close-watching">关闭 Watching (Close Watching) </a></li><li class="sidebar-item__anchor" title="Invalidate Watching "><a class="" href="/api/node/#invalidate-watching">Invalidate Watching </a></li></ul></li><li class="sidebar-item__anchor" title="Stats 对象(Stats Object) "><a class="" href="/api/node/#stats-object">Stats 对象(Stats Object) </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="stats.hasErrors() "><a class="" href="/api/node/#statshaserrors">stats.hasErrors() </a></li><li class="sidebar-item__anchor" title="stats.hasWarnings() "><a class="" href="/api/node/#statshaswarnings">stats.hasWarnings() </a></li><li class="sidebar-item__anchor" title="stats.toJson(options) "><a class="" href="/api/node/#statstojsonoptions">stats.toJson(options) </a></li><li class="sidebar-item__anchor" title="stats.toString(options) "><a class="" href="/api/node/#statstostringoptions">stats.toString(options) </a></li></ul></li><li class="sidebar-item__anchor" title="MultiCompiler "><a class="" href="/api/node/#multicompiler">MultiCompiler </a></li><li class="sidebar-item__anchor" title="错误处理(Error Handling) "><a class="" href="/api/node/#error-handling">错误处理(Error Handling) </a></li><li class="sidebar-item__anchor" title="自定义文件系统(Custom File Systems) "><a class="" href="/api/node/#custom-file-systems">自定义文件系统(Custom File Systems) </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/stats/">Stats Data</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="配置结构（Structure） "><a class="" href="/api/stats/#structure">配置结构（Structure） </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Asset 对象 "><a class="" href="/api/stats/#asset-objects">Asset 对象 </a></li><li class="sidebar-item__anchor" title="Chunk 对象 "><a class="" href="/api/stats/#chunk-objects">Chunk 对象 </a></li><li class="sidebar-item__anchor" title="Module 对象 "><a class="" href="/api/stats/#module-objects">Module 对象 </a></li><li class="sidebar-item__anchor" title="Entry 对象 "><a class="" href="/api/stats/#entry-objects">Entry 对象 </a></li><li class="sidebar-item__anchor" title="错误和告警信息 "><a class="" href="/api/stats/#errors-and-warnings">错误和告警信息 </a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/webpack-dev-server/">webpack-dev-server API</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Installation"><a class="" href="/api/webpack-dev-server/#Installation">Installation</a></li><li class="sidebar-item__anchor" title="start"><a class="" href="/api/webpack-dev-server/#start">start</a></li><li class="sidebar-item__anchor" title="startCallback(callback)"><a class="" href="/api/webpack-dev-server/#startCallbackcallback">startCallback(callback)</a></li><li class="sidebar-item__anchor" title="stop"><a class="" href="/api/webpack-dev-server/#stop">stop</a></li><li class="sidebar-item__anchor" title="stopCallback(callback)"><a class="" href="/api/webpack-dev-server/#stopCallbackcallback">stopCallback(callback)</a></li><li class="sidebar-item__anchor" title="internalIP(family: &quot;v4&quot; | &quot;v6&quot;)"><a class="" href="/api/webpack-dev-server/#internalIPfamily-v4--v6">internalIP(family: &quot;v4&quot; | &quot;v6&quot;)</a></li><li class="sidebar-item__anchor" title="internalIPSync(family: &quot;v4&quot; | &quot;v6&quot;)"><a class="" href="/api/webpack-dev-server/#internalIPSyncfamily-v4--v6">internalIPSync(family: &quot;v4&quot; | &quot;v6&quot;)</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/hot-module-replacement/">Hot Module Replacement</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="模块 API "><a class="" href="/api/hot-module-replacement/#module-api">模块 API </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="accept "><a class="" href="/api/hot-module-replacement/#accept">accept </a></li><li class="sidebar-item__anchor" title="accept (self) "><a class="" href="/api/hot-module-replacement/#accept-self">accept (self) </a></li><li class="sidebar-item__anchor" title="decline "><a class="" href="/api/hot-module-replacement/#decline">decline </a></li><li class="sidebar-item__anchor" title="decline (self) "><a class="" href="/api/hot-module-replacement/#decline-self">decline (self) </a></li><li class="sidebar-item__anchor" title="dispose (or addDisposeHandler) "><a class="" href="/api/hot-module-replacement/#dispose-or-adddisposehandler">dispose (or addDisposeHandler) </a></li><li class="sidebar-item__anchor" title="invalidate "><a class="" href="/api/hot-module-replacement/#invalidate">invalidate </a></li><li class="sidebar-item__anchor" title="removeDisposeHandler "><a class="" href="/api/hot-module-replacement/#removedisposehandler">removeDisposeHandler </a></li></ul></li><li class="sidebar-item__anchor" title="API 管理 "><a class="" href="/api/hot-module-replacement/#management-api">API 管理 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="status "><a class="" href="/api/hot-module-replacement/#status">status </a></li><li class="sidebar-item__anchor" title="check "><a class="" href="/api/hot-module-replacement/#check">check </a></li><li class="sidebar-item__anchor" title="apply "><a class="" href="/api/hot-module-replacement/#apply">apply </a></li><li class="sidebar-item__anchor" title="addStatusHandler "><a class="" href="/api/hot-module-replacement/#addstatushandler">addStatusHandler </a></li><li class="sidebar-item__anchor" title="removeStatusHandler "><a class="" href="/api/hot-module-replacement/#removestatushandler">removeStatusHandler </a></li></ul></li></ul></div></div><div><div class="sidebar-item sidebar-item--open "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a aria-current="page" class="sidebar-item__title active" href="/api/loaders/">Loader Interface</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="示例 "><a aria-current="page" class="active" href="/api/loaders/#examples">示例 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="同步 Loaders "><a aria-current="page" class="active" href="/api/loaders/#synchronous-loaders">同步 Loaders </a></li><li class="sidebar-item__anchor" title="异步 Loaders "><a aria-current="page" class="active" href="/api/loaders/#asynchronous-loaders">异步 Loaders </a></li><li class="sidebar-item__anchor" title="&quot;Raw&quot; Loader "><a aria-current="page" class="active" href="/api/loaders/#raw-loader">&quot;Raw&quot; Loader </a></li><li class="sidebar-item__anchor" title="Pitching Loader "><a aria-current="page" class="active" href="/api/loaders/#pitching-loader">Pitching Loader </a></li></ul></li><li class="sidebar-item__anchor" title="The Loader Context "><a aria-current="page" class="active" href="/api/loaders/#the-loader-context">The Loader Context </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="loader 上下文示例 "><a aria-current="page" class="active" href="/api/loaders/#example-for-the-loader-context">loader 上下文示例 </a></li><li class="sidebar-item__anchor" title="this.addContextDependency "><a aria-current="page" class="active" href="/api/loaders/#thisaddcontextdependency">this.addContextDependency </a></li><li class="sidebar-item__anchor" title="this.addDependency "><a aria-current="page" class="active" href="/api/loaders/#thisadddependency">this.addDependency </a></li><li class="sidebar-item__anchor" title="this.addMissingDependency "><a aria-current="page" class="active" href="/api/loaders/#thisaddmissingdependency">this.addMissingDependency </a></li><li class="sidebar-item__anchor" title="this.async "><a aria-current="page" class="active" href="/api/loaders/#thisasync">this.async </a></li><li class="sidebar-item__anchor" title="this.cacheable "><a aria-current="page" class="active" href="/api/loaders/#thiscacheable">this.cacheable </a></li><li class="sidebar-item__anchor" title="this.callback "><a aria-current="page" class="active" href="/api/loaders/#thiscallback">this.callback </a></li><li class="sidebar-item__anchor" title="this.clearDependencies "><a aria-current="page" class="active" href="/api/loaders/#thiscleardependencies">this.clearDependencies </a></li><li class="sidebar-item__anchor" title="this.context "><a aria-current="page" class="active" href="/api/loaders/#thiscontext">this.context </a></li><li class="sidebar-item__anchor" title="this.data "><a aria-current="page" class="active" href="/api/loaders/#thisdata">this.data </a></li><li class="sidebar-item__anchor" title="this.emitError "><a aria-current="page" class="active" href="/api/loaders/#thisemiterror">this.emitError </a></li><li class="sidebar-item__anchor" title="this.emitFile "><a aria-current="page" class="active" href="/api/loaders/#thisemitfile">this.emitFile </a></li><li class="sidebar-item__anchor" title="this.emitWarning "><a aria-current="page" class="active" href="/api/loaders/#thisemitwarning">this.emitWarning </a></li><li class="sidebar-item__anchor" title="this.fs "><a aria-current="page" class="active" href="/api/loaders/#thisfs">this.fs </a></li><li class="sidebar-item__anchor" title="this.getOptions(schema) "><a aria-current="page" class="active" href="/api/loaders/#thisgetoptionsschema">this.getOptions(schema) </a></li><li class="sidebar-item__anchor" title="this.getResolve "><a aria-current="page" class="active" href="/api/loaders/#thisgetresolve">this.getResolve </a></li><li class="sidebar-item__anchor" title="this.hot "><a aria-current="page" class="active" href="/api/loaders/#thishot">this.hot </a></li><li class="sidebar-item__anchor" title="this.importModule "><a aria-current="page" class="active" href="/api/loaders/#thisimportmodule">this.importModule </a></li><li class="sidebar-item__anchor" title="this.loaderIndex "><a aria-current="page" class="active" href="/api/loaders/#thisloaderindex">this.loaderIndex </a></li><li class="sidebar-item__anchor" title="this.loadModule "><a aria-current="page" class="active" href="/api/loaders/#thisloadmodule">this.loadModule </a></li><li class="sidebar-item__anchor" title="this.loaders "><a aria-current="page" class="active" href="/api/loaders/#thisloaders">this.loaders </a></li><li class="sidebar-item__anchor" title="this.mode "><a aria-current="page" class="active" href="/api/loaders/#thismode">this.mode </a></li><li class="sidebar-item__anchor" title="this.query "><a aria-current="page" class="active" href="/api/loaders/#thisquery">this.query </a></li><li class="sidebar-item__anchor" title="this.request "><a aria-current="page" class="active" href="/api/loaders/#thisrequest">this.request </a></li><li class="sidebar-item__anchor" title="this.resolve "><a aria-current="page" class="active" href="/api/loaders/#thisresolve">this.resolve </a></li><li class="sidebar-item__anchor" title="this.resource "><a aria-current="page" class="active" href="/api/loaders/#thisresource">this.resource </a></li><li class="sidebar-item__anchor" title="this.resourcePath "><a aria-current="page" class="active" href="/api/loaders/#thisresourcepath">this.resourcePath </a></li><li class="sidebar-item__anchor" title="this.resourceQuery "><a aria-current="page" class="active" href="/api/loaders/#thisresourcequery">this.resourceQuery </a></li><li class="sidebar-item__anchor" title="this.rootContext "><a aria-current="page" class="active" href="/api/loaders/#thisrootcontext">this.rootContext </a></li><li class="sidebar-item__anchor" title="this.sourceMap "><a aria-current="page" class="active" href="/api/loaders/#thissourcemap">this.sourceMap </a></li><li class="sidebar-item__anchor" title="this.target "><a aria-current="page" class="active" href="/api/loaders/#thistarget">this.target </a></li><li class="sidebar-item__anchor" title="this.utils "><a aria-current="page" class="active" href="/api/loaders/#thisutils">this.utils </a></li><li class="sidebar-item__anchor" title="this.version "><a aria-current="page" class="active" href="/api/loaders/#thisversion">this.version </a></li><li class="sidebar-item__anchor" title="this.webpack "><a aria-current="page" class="active" href="/api/loaders/#thiswebpack">this.webpack </a></li></ul></li><li class="sidebar-item__anchor" title="Webpack 特有属性 "><a aria-current="page" class="active" href="/api/loaders/#webpack-specific-properties">Webpack 特有属性 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="this._compilation "><a aria-current="page" class="active" href="/api/loaders/#this_compilation">this._compilation </a></li><li class="sidebar-item__anchor" title="this._compiler "><a aria-current="page" class="active" href="/api/loaders/#this_compiler">this._compiler </a></li></ul></li><li class="sidebar-item__anchor" title="过时的上下文属性 "><a aria-current="page" class="active" href="/api/loaders/#deprecated-context-properties">过时的上下文属性 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="this.debug "><a aria-current="page" class="active" href="/api/loaders/#thisdebug">this.debug </a></li><li class="sidebar-item__anchor" title="this.inputValue "><a aria-current="page" class="active" href="/api/loaders/#thisinputvalue">this.inputValue </a></li><li class="sidebar-item__anchor" title="this.minimize "><a aria-current="page" class="active" href="/api/loaders/#thisminimize">this.minimize </a></li><li class="sidebar-item__anchor" title="this.value "><a aria-current="page" class="active" href="/api/loaders/#thisvalue">this.value </a></li><li class="sidebar-item__anchor" title="this._module "><a aria-current="page" class="active" href="/api/loaders/#this_module">this._module </a></li></ul></li><li class="sidebar-item__anchor" title="错误报告 "><a aria-current="page" class="active" href="/api/loaders/#error-reporting">错误报告 </a></li><li class="sidebar-item__anchor" title="Inline matchResource "><a aria-current="page" class="active" href="/api/loaders/#inline-matchresource">Inline matchResource </a></li><li class="sidebar-item__anchor" title="Logging "><a aria-current="page" class="active" href="/api/loaders/#logging">Logging </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/logging/">Logger 接口</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Examples of how to get and use webpack logger in loaders and plugins "><a class="" href="/api/logging/#examples-of-how-to-get-and-use-webpack-logger-in-loaders-and-plugins">Examples of how to get and use webpack logger in loaders and plugins </a></li><li class="sidebar-item__anchor" title="Logger methods "><a class="" href="/api/logging/#logger-methods">Logger methods </a></li><li class="sidebar-item__anchor" title="Runtime Logger API "><a class="" href="/api/logging/#runtime-logger-api">Runtime Logger API </a></li></ul></div></div><div><h4 class="sidebar__group">Modules</h4><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/module-methods/">模块方法</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="ES6 (推荐) "><a class="" href="/api/module-methods/#es6-recommended">ES6 (推荐) </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="import "><a class="" href="/api/module-methods/#import">import </a></li><li class="sidebar-item__anchor" title="export "><a class="" href="/api/module-methods/#export">export </a></li><li class="sidebar-item__anchor" title="import() "><a class="" href="/api/module-methods/#import">import() </a></li><li class="sidebar-item__anchor" title="import() 中的表达式 "><a class="" href="/api/module-methods/#dynamic-expressions-in-import">import() 中的表达式 </a></li></ul></li><li class="sidebar-item__anchor" title="CommonJS "><a class="" href="/api/module-methods/#commonjs">CommonJS </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="require "><a class="" href="/api/module-methods/#require">require </a></li><li class="sidebar-item__anchor" title="require.resolve "><a class="" href="/api/module-methods/#requireresolve">require.resolve </a></li><li class="sidebar-item__anchor" title="require.cache "><a class="" href="/api/module-methods/#requirecache">require.cache </a></li><li class="sidebar-item__anchor" title="require.ensure "><a class="" href="/api/module-methods/#requireensure">require.ensure </a></li></ul></li><li class="sidebar-item__anchor" title="AMD "><a class="" href="/api/module-methods/#amd">AMD </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="define (with factory) "><a class="" href="/api/module-methods/#define-with-factory">define (with factory) </a></li><li class="sidebar-item__anchor" title="define (with value) "><a class="" href="/api/module-methods/#define-with-value">define (with value) </a></li><li class="sidebar-item__anchor" title="require (amd-version) "><a class="" href="/api/module-methods/#require-amd-version">require (amd-version) </a></li></ul></li><li class="sidebar-item__anchor" title="标签模块(Labeled Modules) "><a class="" href="/api/module-methods/#labeled-modules">标签模块(Labeled Modules) </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="export label "><a class="" href="/api/module-methods/#export-label">export label </a></li><li class="sidebar-item__anchor" title="require label "><a class="" href="/api/module-methods/#require-label">require label </a></li></ul></li><li class="sidebar-item__anchor" title="Webpack "><a class="" href="/api/module-methods/#webpack">Webpack </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="require.context "><a class="" href="/api/module-methods/#requirecontext">require.context </a></li><li class="sidebar-item__anchor" title="require.include "><a class="" href="/api/module-methods/#requireinclude">require.include </a></li><li class="sidebar-item__anchor" title="require.resolveWeak "><a class="" href="/api/module-methods/#requireresolveweak">require.resolveWeak </a></li><li class="sidebar-item__anchor" title="warning"><a class="" href="/api/module-methods/#warning">warning</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/module-variables/">Module Variables</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="module.loaded (NodeJS) "><a class="" href="/api/module-variables/#moduleloaded-nodejs">module.loaded (NodeJS) </a></li><li class="sidebar-item__anchor" title="module.hot (webpack-specific) "><a class="" href="/api/module-variables/#modulehot-webpack-specific">module.hot (webpack-specific) </a></li><li class="sidebar-item__anchor" title="module.id (CommonJS) "><a class="" href="/api/module-variables/#moduleid-commonjs">module.id (CommonJS) </a></li><li class="sidebar-item__anchor" title="module.exports (CommonJS) "><a class="" href="/api/module-variables/#moduleexports-commonjs">module.exports (CommonJS) </a></li><li class="sidebar-item__anchor" title="exports (CommonJS) "><a class="" href="/api/module-variables/#exports-commonjs">exports (CommonJS) </a></li><li class="sidebar-item__anchor" title="global (NodeJS) "><a class="" href="/api/module-variables/#global-nodejs">global (NodeJS) </a></li><li class="sidebar-item__anchor" title="__dirname (NodeJS) "><a class="" href="/api/module-variables/#__dirname-nodejs">__dirname (NodeJS) </a></li><li class="sidebar-item__anchor" title="import.meta.url"><a class="" href="/api/module-variables/#importmetaurl">import.meta.url</a></li><li class="sidebar-item__anchor" title="import.meta.webpack"><a class="" href="/api/module-variables/#importmetawebpack">import.meta.webpack</a></li><li class="sidebar-item__anchor" title="import.meta.webpackHot"><a class="" href="/api/module-variables/#importmetawebpackHot">import.meta.webpackHot</a></li><li class="sidebar-item__anchor" title="import.meta.webpackContext"><a class="" href="/api/module-variables/#importmetawebpackContext">import.meta.webpackContext</a></li><li class="sidebar-item__anchor" title="__filename (NodeJS)"><a class="" href="/api/module-variables/#__filename-NodeJS">__filename (NodeJS)</a></li><li class="sidebar-item__anchor" title="__resourceQuery (webpack-specific) "><a class="" href="/api/module-variables/#__resourcequery-webpack-specific">__resourceQuery (webpack-specific) </a></li><li class="sidebar-item__anchor" title="__webpack_public_path__ (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_public_path__-webpack-specific">__webpack_public_path__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_require__ (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_require__-webpack-specific">__webpack_require__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_chunk_load__ (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_chunk_load__-webpack-specific">__webpack_chunk_load__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_module__ (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_module__-webpack-specific">__webpack_module__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_module__.id (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_module__id-webpack-specific">__webpack_module__.id (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_modules__ (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_modules__-webpack-specific">__webpack_modules__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_hash__ (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_hash__-webpack-specific">__webpack_hash__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_get_script_filename__ (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_get_script_filename__-webpack-specific">__webpack_get_script_filename__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__non_webpack_require__ (webpack-specific)"><a class="" href="/api/module-variables/#__non_webpack_require__-webpack-specific">__non_webpack_require__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_exports_info__ (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_exports_info__-webpack-specific">__webpack_exports_info__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_is_included__ (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_is_included__-webpack-specific">__webpack_is_included__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_base_uri__ (webpack-specific)"><a class="" href="/api/module-variables/#__webpack_base_uri__-webpack-specific">__webpack_base_uri__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_runtime_id__"><a class="" href="/api/module-variables/#__webpack_runtime_id__">__webpack_runtime_id__</a></li><li class="sidebar-item__anchor" title="DEBUG (webpack-specific)"><a class="" href="/api/module-variables/#DEBUG-webpack-specific">DEBUG (webpack-specific)</a></li></ul></div></div><div><h4 class="sidebar__group">Objects</h4><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/compilation-object/">Compilation Object</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="compilation 对象方法 "><a class="" href="/api/compilation-object/#compilation-object-methods">compilation 对象方法 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="getStats "><a class="" href="/api/compilation-object/#getstats">getStats </a></li><li class="sidebar-item__anchor" title="addModule "><a class="" href="/api/compilation-object/#addmodule">addModule </a></li><li class="sidebar-item__anchor" title="getModule "><a class="" href="/api/compilation-object/#getmodule">getModule </a></li><li class="sidebar-item__anchor" title="findModule "><a class="" href="/api/compilation-object/#findmodule">findModule </a></li><li class="sidebar-item__anchor" title="buildModule "><a class="" href="/api/compilation-object/#buildmodule">buildModule </a></li><li class="sidebar-item__anchor" title="processModuleDependencies "><a class="" href="/api/compilation-object/#processmoduledependencies">processModuleDependencies </a></li><li class="sidebar-item__anchor" title="addEntry "><a class="" href="/api/compilation-object/#addentry">addEntry </a></li><li class="sidebar-item__anchor" title="rebuildModule "><a class="" href="/api/compilation-object/#rebuildmodule">rebuildModule </a></li><li class="sidebar-item__anchor" title="finish "><a class="" href="/api/compilation-object/#finish">finish </a></li><li class="sidebar-item__anchor" title="seal "><a class="" href="/api/compilation-object/#seal">seal </a></li><li class="sidebar-item__anchor" title="unseal "><a class="" href="/api/compilation-object/#unseal">unseal </a></li><li class="sidebar-item__anchor" title="reportDependencyErrorsAndWarnings "><a class="" href="/api/compilation-object/#reportdependencyerrorsandwarnings">reportDependencyErrorsAndWarnings </a></li><li class="sidebar-item__anchor" title="addChunkInGroup "><a class="" href="/api/compilation-object/#addchunkingroup">addChunkInGroup </a></li><li class="sidebar-item__anchor" title="addChunk "><a class="" href="/api/compilation-object/#addchunk">addChunk </a></li><li class="sidebar-item__anchor" title="assignDepth "><a class="" href="/api/compilation-object/#assigndepth">assignDepth </a></li><li class="sidebar-item__anchor" title="getDependencyReference "><a class="" href="/api/compilation-object/#getdependencyreference">getDependencyReference </a></li><li class="sidebar-item__anchor" title="processDependenciesBlocksForChunkGroups "><a class="" href="/api/compilation-object/#processdependenciesblocksforchunkgroups">processDependenciesBlocksForChunkGroups </a></li><li class="sidebar-item__anchor" title="removeReasonsOfDependencyBlock "><a class="" href="/api/compilation-object/#removereasonsofdependencyblock">removeReasonsOfDependencyBlock </a></li><li class="sidebar-item__anchor" title="patchChunksAfterReasonRemoval "><a class="" href="/api/compilation-object/#patchchunksafterreasonremoval">patchChunksAfterReasonRemoval </a></li><li class="sidebar-item__anchor" title="removeChunkFromDependencies "><a class="" href="/api/compilation-object/#removechunkfromdependencies">removeChunkFromDependencies </a></li><li class="sidebar-item__anchor" title="sortItemsWithChunkIds "><a class="" href="/api/compilation-object/#sortitemswithmoduleids">sortItemsWithChunkIds </a></li><li class="sidebar-item__anchor" title="summarizeDependencies "><a class="" href="/api/compilation-object/#summarizedependencies">summarizeDependencies </a></li><li class="sidebar-item__anchor" title="createHash "><a class="" href="/api/compilation-object/#createhash">createHash </a></li><li class="sidebar-item__anchor" title="createModuleAssets "><a class="" href="/api/compilation-object/#createmoduleassets">createModuleAssets </a></li><li class="sidebar-item__anchor" title="createChunkAssets "><a class="" href="/api/compilation-object/#createchunkassets">createChunkAssets </a></li><li class="sidebar-item__anchor" title="getPath "><a class="" href="/api/compilation-object/#getpath">getPath </a></li><li class="sidebar-item__anchor" title="getPathWithInfo "><a class="" href="/api/compilation-object/#getpathwithinfo">getPathWithInfo </a></li><li class="sidebar-item__anchor" title="createChildCompiler "><a class="" href="/api/compilation-object/#createchildcompiler">createChildCompiler </a></li><li class="sidebar-item__anchor" title="checkConstraints "><a class="" href="/api/compilation-object/#checkconstraints">checkConstraints </a></li><li class="sidebar-item__anchor" title="emitAsset "><a class="" href="/api/compilation-object/#emitasset">emitAsset </a></li><li class="sidebar-item__anchor" title="updateAsset "><a class="" href="/api/compilation-object/#updateasset">updateAsset </a></li><li class="sidebar-item__anchor" title="deleteAsset "><a class="" href="/api/compilation-object/#deleteasset">deleteAsset </a></li><li class="sidebar-item__anchor" title="getAssets "><a class="" href="/api/compilation-object/#getassets">getAssets </a></li><li class="sidebar-item__anchor" title="getAsset "><a class="" href="/api/compilation-object/#getasset">getAsset </a></li></ul></li></ul></div></div><div><h4 class="sidebar__group">Plugins</h4><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/compiler-hooks/">compiler 钩子</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="监听(watching) "><a class="" href="/api/compiler-hooks/#watching">监听(watching) </a></li><li class="sidebar-item__anchor" title="钩子 "><a class="" href="/api/compiler-hooks/#hooks">钩子 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="environment "><a class="" href="/api/compiler-hooks/#environment">environment </a></li><li class="sidebar-item__anchor" title="afterEnvironment $#afterEnvironment$"><a class="" href="/api/compiler-hooks/#afterEnvironment-afterEnvironment">afterEnvironment $#afterEnvironment$</a></li><li class="sidebar-item__anchor" title="entryOption "><a class="" href="/api/compiler-hooks/#entryoption">entryOption </a></li><li class="sidebar-item__anchor" title="afterPlugins "><a class="" href="/api/compiler-hooks/#afterplugins">afterPlugins </a></li><li class="sidebar-item__anchor" title="afterResolvers "><a class="" href="/api/compiler-hooks/#afterresolvers">afterResolvers </a></li><li class="sidebar-item__anchor" title="initialize "><a class="" href="/api/compiler-hooks/#initialize">initialize </a></li><li class="sidebar-item__anchor" title="beforeRun "><a class="" href="/api/compiler-hooks/#beforerun">beforeRun </a></li><li class="sidebar-item__anchor" title="run "><a class="" href="/api/compiler-hooks/#run">run </a></li><li class="sidebar-item__anchor" title="watchRun "><a class="" href="/api/compiler-hooks/#watchrun">watchRun </a></li><li class="sidebar-item__anchor" title="normalModuleFactory "><a class="" href="/api/compiler-hooks/#normalmodulefactory">normalModuleFactory </a></li><li class="sidebar-item__anchor" title="contextModuleFactory "><a class="" href="/api/compiler-hooks/#contextmodulefactory">contextModuleFactory </a></li><li class="sidebar-item__anchor" title="beforeCompile "><a class="" href="/api/compiler-hooks/#beforecompile">beforeCompile </a></li><li class="sidebar-item__anchor" title="compile "><a class="" href="/api/compiler-hooks/#compile">compile </a></li><li class="sidebar-item__anchor" title="thisCompilation "><a class="" href="/api/compiler-hooks/#thiscompilation">thisCompilation </a></li><li class="sidebar-item__anchor" title="compilation "><a class="" href="/api/compiler-hooks/#compilation">compilation </a></li><li class="sidebar-item__anchor" title="make "><a class="" href="/api/compiler-hooks/#make">make </a></li><li class="sidebar-item__anchor" title="afterCompile "><a class="" href="/api/compiler-hooks/#aftercompile">afterCompile </a></li><li class="sidebar-item__anchor" title="shouldEmit "><a class="" href="/api/compiler-hooks/#shouldemit">shouldEmit </a></li><li class="sidebar-item__anchor" title="emit "><a class="" href="/api/compiler-hooks/#emit">emit </a></li><li class="sidebar-item__anchor" title="afterEmit "><a class="" href="/api/compiler-hooks/#afteremit">afterEmit </a></li><li class="sidebar-item__anchor" title="assetEmitted "><a class="" href="/api/compiler-hooks/#assetemitted">assetEmitted </a></li><li class="sidebar-item__anchor" title="done "><a class="" href="/api/compiler-hooks/#done">done </a></li><li class="sidebar-item__anchor" title="additionalPass"><a class="" href="/api/compiler-hooks/#additionalPass">additionalPass</a></li><li class="sidebar-item__anchor" title="failed "><a class="" href="/api/compiler-hooks/#failed">failed </a></li><li class="sidebar-item__anchor" title="invalid "><a class="" href="/api/compiler-hooks/#invalid">invalid </a></li><li class="sidebar-item__anchor" title="watchClose "><a class="" href="/api/compiler-hooks/#watchclose">watchClose </a></li><li class="sidebar-item__anchor" title="shutdown"><a class="" href="/api/compiler-hooks/#shutdown">shutdown</a></li><li class="sidebar-item__anchor" title="infrastructureLog"><a class="" href="/api/compiler-hooks/#infrastructureLog">infrastructureLog</a></li><li class="sidebar-item__anchor" title="log "><a class="" href="/api/compiler-hooks/#log">log </a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/compilation-hooks/">compilation 钩子</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="buildModule "><a class="" href="/api/compilation-hooks/#buildmodule">buildModule </a></li><li class="sidebar-item__anchor" title="rebuildModule "><a class="" href="/api/compilation-hooks/#rebuildmodule">rebuildModule </a></li><li class="sidebar-item__anchor" title="failedModule "><a class="" href="/api/compilation-hooks/#failedmodule">failedModule </a></li><li class="sidebar-item__anchor" title="succeedModule "><a class="" href="/api/compilation-hooks/#succeedmodule">succeedModule </a></li><li class="sidebar-item__anchor" title="finishModules "><a class="" href="/api/compilation-hooks/#finishmodules">finishModules </a></li><li class="sidebar-item__anchor" title="finishRebuildingModule "><a class="" href="/api/compilation-hooks/#finishrebuildingmodule">finishRebuildingModule </a></li><li class="sidebar-item__anchor" title="seal "><a class="" href="/api/compilation-hooks/#seal">seal </a></li><li class="sidebar-item__anchor" title="unseal "><a class="" href="/api/compilation-hooks/#unseal">unseal </a></li><li class="sidebar-item__anchor" title="optimizeDependencies "><a class="" href="/api/compilation-hooks/#optimizedependencies">optimizeDependencies </a></li><li class="sidebar-item__anchor" title="afterOptimizeDependencies "><a class="" href="/api/compilation-hooks/#afteroptimizedependencies">afterOptimizeDependencies </a></li><li class="sidebar-item__anchor" title="optimize "><a class="" href="/api/compilation-hooks/#optimize">optimize </a></li><li class="sidebar-item__anchor" title="optimizeModules "><a class="" href="/api/compilation-hooks/#optimizemodules">optimizeModules </a></li><li class="sidebar-item__anchor" title="afterOptimizeModules "><a class="" href="/api/compilation-hooks/#afteroptimizemodules">afterOptimizeModules </a></li><li class="sidebar-item__anchor" title="optimizeChunks "><a class="" href="/api/compilation-hooks/#optimizechunks">optimizeChunks </a></li><li class="sidebar-item__anchor" title="afterOptimizeChunks "><a class="" href="/api/compilation-hooks/#afteroptimizechunks">afterOptimizeChunks </a></li><li class="sidebar-item__anchor" title="optimizeTree "><a class="" href="/api/compilation-hooks/#optimizetree">optimizeTree </a></li><li class="sidebar-item__anchor" title="afterOptimizeTree "><a class="" href="/api/compilation-hooks/#afteroptimizetree">afterOptimizeTree </a></li><li class="sidebar-item__anchor" title="optimizeChunkModules "><a class="" href="/api/compilation-hooks/#optimizechunkmodules">optimizeChunkModules </a></li><li class="sidebar-item__anchor" title="afterOptimizeChunkModules "><a class="" href="/api/compilation-hooks/#afteroptimizechunkmodules">afterOptimizeChunkModules </a></li><li class="sidebar-item__anchor" title="shouldRecord "><a class="" href="/api/compilation-hooks/#shouldrecord">shouldRecord </a></li><li class="sidebar-item__anchor" title="reviveModules "><a class="" href="/api/compilation-hooks/#revivemodules">reviveModules </a></li><li class="sidebar-item__anchor" title="beforeModuleIds "><a class="" href="/api/compilation-hooks/#beforemoduleids">beforeModuleIds </a></li><li class="sidebar-item__anchor" title="moduleIds "><a class="" href="/api/compilation-hooks/#moduleids">moduleIds </a></li><li class="sidebar-item__anchor" title="optimizeModuleIds "><a class="" href="/api/compilation-hooks/#optimizemoduleids">optimizeModuleIds </a></li><li class="sidebar-item__anchor" title="afterOptimizeModuleIds "><a class="" href="/api/compilation-hooks/#afteroptimizemoduleids">afterOptimizeModuleIds </a></li><li class="sidebar-item__anchor" title="reviveChunks "><a class="" href="/api/compilation-hooks/#revivechunks">reviveChunks </a></li><li class="sidebar-item__anchor" title="beforeChunkIds "><a class="" href="/api/compilation-hooks/#beforechunkids">beforeChunkIds </a></li><li class="sidebar-item__anchor" title="chunkIds "><a class="" href="/api/compilation-hooks/#chunkids">chunkIds </a></li><li class="sidebar-item__anchor" title="optimizeChunkIds "><a class="" href="/api/compilation-hooks/#optimizechunkids">optimizeChunkIds </a></li><li class="sidebar-item__anchor" title="afterOptimizeChunkIds "><a class="" href="/api/compilation-hooks/#afteroptimizechunkids">afterOptimizeChunkIds </a></li><li class="sidebar-item__anchor" title="recordModules "><a class="" href="/api/compilation-hooks/#recordmodules">recordModules </a></li><li class="sidebar-item__anchor" title="recordChunks "><a class="" href="/api/compilation-hooks/#recordchunks">recordChunks </a></li><li class="sidebar-item__anchor" title="beforeModuleHash "><a class="" href="/api/compilation-hooks/#beforemodulehash">beforeModuleHash </a></li><li class="sidebar-item__anchor" title="afterModuleHash "><a class="" href="/api/compilation-hooks/#aftermodulehash">afterModuleHash </a></li><li class="sidebar-item__anchor" title="beforeHash "><a class="" href="/api/compilation-hooks/#beforehash">beforeHash </a></li><li class="sidebar-item__anchor" title="afterHash "><a class="" href="/api/compilation-hooks/#afterhash">afterHash </a></li><li class="sidebar-item__anchor" title="recordHash "><a class="" href="/api/compilation-hooks/#recordhash">recordHash </a></li><li class="sidebar-item__anchor" title="record "><a class="" href="/api/compilation-hooks/#record">record </a></li><li class="sidebar-item__anchor" title="beforeModuleAssets "><a class="" href="/api/compilation-hooks/#beforemoduleassets">beforeModuleAssets </a></li><li class="sidebar-item__anchor" title="additionalChunkAssets "><a class="" href="/api/compilation-hooks/#additionalchunkassets">additionalChunkAssets </a></li><li class="sidebar-item__anchor" title="shouldGenerateChunkAssets "><a class="" href="/api/compilation-hooks/#shouldgeneratechunkassets">shouldGenerateChunkAssets </a></li><li class="sidebar-item__anchor" title="beforeChunkAssets "><a class="" href="/api/compilation-hooks/#beforechunkassets">beforeChunkAssets </a></li><li class="sidebar-item__anchor" title="additionalAssets "><a class="" href="/api/compilation-hooks/#additionalassets">additionalAssets </a></li><li class="sidebar-item__anchor" title="optimizeChunkAssets "><a class="" href="/api/compilation-hooks/#optimizechunkassets">optimizeChunkAssets </a></li><li class="sidebar-item__anchor" title="afterOptimizeChunkAssets "><a class="" href="/api/compilation-hooks/#afteroptimizechunkassets">afterOptimizeChunkAssets </a></li><li class="sidebar-item__anchor" title="optimizeAssets "><a class="" href="/api/compilation-hooks/#optimizeassets">optimizeAssets </a></li><li class="sidebar-item__anchor" title="afterOptimizeAssets "><a class="" href="/api/compilation-hooks/#afteroptimizeassets">afterOptimizeAssets </a></li><li class="sidebar-item__anchor" title="processAssets "><a class="" href="/api/compilation-hooks/#processassets">processAssets </a></li><li class="sidebar-item__anchor" title="afterProcessAssets "><a class="" href="/api/compilation-hooks/#afterprocessassets">afterProcessAssets </a></li><li class="sidebar-item__anchor" title="needAdditionalSeal "><a class="" href="/api/compilation-hooks/#needadditionalseal">needAdditionalSeal </a></li><li class="sidebar-item__anchor" title="afterSeal "><a class="" href="/api/compilation-hooks/#afterseal">afterSeal </a></li><li class="sidebar-item__anchor" title="chunkHash "><a class="" href="/api/compilation-hooks/#chunkhash">chunkHash </a></li><li class="sidebar-item__anchor" title="moduleAsset "><a class="" href="/api/compilation-hooks/#moduleasset">moduleAsset </a></li><li class="sidebar-item__anchor" title="chunkAsset "><a class="" href="/api/compilation-hooks/#chunkasset">chunkAsset </a></li><li class="sidebar-item__anchor" title="assetPath "><a class="" href="/api/compilation-hooks/#assetpath">assetPath </a></li><li class="sidebar-item__anchor" title="needAdditionalPass "><a class="" href="/api/compilation-hooks/#needadditionalpass">needAdditionalPass </a></li><li class="sidebar-item__anchor" title="childCompiler "><a class="" href="/api/compilation-hooks/#childcompiler">childCompiler </a></li><li class="sidebar-item__anchor" title="normalModuleLoader "><a class="" href="/api/compilation-hooks/#normalmoduleloader">normalModuleLoader </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/contextmodulefactory-hooks/">ContextModuleFactory Hooks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="beforeResolve "><a class="" href="/api/contextmodulefactory-hooks/#beforeresolve">beforeResolve </a></li><li class="sidebar-item__anchor" title="afterResolve "><a class="" href="/api/contextmodulefactory-hooks/#afterresolve">afterResolve </a></li><li class="sidebar-item__anchor" title="contextModuleFiles "><a class="" href="/api/contextmodulefactory-hooks/#contextmodulefiles">contextModuleFiles </a></li><li class="sidebar-item__anchor" title="alternativeRequests "><a class="" href="/api/contextmodulefactory-hooks/#alternativerequests">alternativeRequests </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/parser/">JavascriptParser Hooks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="钩子 "><a class="" href="/api/parser/#hooks">钩子 </a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="evaluateTypeof "><a class="" href="/api/parser/#evaluatetypeof">evaluateTypeof </a></li><li class="sidebar-item__anchor" title="evaluate "><a class="" href="/api/parser/#evaluate">evaluate </a></li><li class="sidebar-item__anchor" title="evaluateIdentifier "><a class="" href="/api/parser/#evaluateidentifier">evaluateIdentifier </a></li><li class="sidebar-item__anchor" title="evaluateDefinedIdentifier "><a class="" href="/api/parser/#evaluatedefinedidentifier">evaluateDefinedIdentifier </a></li><li class="sidebar-item__anchor" title="evaluateCallExpressionMember "><a class="" href="/api/parser/#evaluatecallexpressionmember">evaluateCallExpressionMember </a></li><li class="sidebar-item__anchor" title="statement "><a class="" href="/api/parser/#statement">statement </a></li><li class="sidebar-item__anchor" title="statementIf "><a class="" href="/api/parser/#statementif">statementIf </a></li><li class="sidebar-item__anchor" title="label "><a class="" href="/api/parser/#label">label </a></li><li class="sidebar-item__anchor" title="import "><a class="" href="/api/parser/#import">import </a></li><li class="sidebar-item__anchor" title="importSpecifier "><a class="" href="/api/parser/#importspecifier">importSpecifier </a></li><li class="sidebar-item__anchor" title="export "><a class="" href="/api/parser/#export">export </a></li><li class="sidebar-item__anchor" title="exportImport "><a class="" href="/api/parser/#exportimport">exportImport </a></li><li class="sidebar-item__anchor" title="exportDeclaration "><a class="" href="/api/parser/#exportdeclaration">exportDeclaration </a></li><li class="sidebar-item__anchor" title="exportExpression "><a class="" href="/api/parser/#exportexpression">exportExpression </a></li><li class="sidebar-item__anchor" title="exportSpecifier "><a class="" href="/api/parser/#exportspecifier">exportSpecifier </a></li><li class="sidebar-item__anchor" title="exportImportSpecifier "><a class="" href="/api/parser/#exportimportspecifier">exportImportSpecifier </a></li><li class="sidebar-item__anchor" title="varDeclaration "><a class="" href="/api/parser/#vardeclaration">varDeclaration </a></li><li class="sidebar-item__anchor" title="varDeclarationLet "><a class="" href="/api/parser/#vardeclarationlet">varDeclarationLet </a></li><li class="sidebar-item__anchor" title="varDeclarationConst "><a class="" href="/api/parser/#vardeclarationconst">varDeclarationConst </a></li><li class="sidebar-item__anchor" title="varDeclarationVar "><a class="" href="/api/parser/#vardeclarationvar">varDeclarationVar </a></li><li class="sidebar-item__anchor" title="canRename "><a class="" href="/api/parser/#canrename">canRename </a></li><li class="sidebar-item__anchor" title="rename "><a class="" href="/api/parser/#rename">rename </a></li><li class="sidebar-item__anchor" title="assigned "><a class="" href="/api/parser/#assigned">assigned </a></li><li class="sidebar-item__anchor" title="assign "><a class="" href="/api/parser/#assign">assign </a></li><li class="sidebar-item__anchor" title="typeof "><a class="" href="/api/parser/#typeof">typeof </a></li><li class="sidebar-item__anchor" title="call "><a class="" href="/api/parser/#call">call </a></li><li class="sidebar-item__anchor" title="callMemberChain "><a class="" href="/api/parser/#callmemberchain">callMemberChain </a></li><li class="sidebar-item__anchor" title="new "><a class="" href="/api/parser/#new">new </a></li><li class="sidebar-item__anchor" title="expression "><a class="" href="/api/parser/#expression">expression </a></li><li class="sidebar-item__anchor" title="expressionConditionalOperator "><a class="" href="/api/parser/#expressionconditionaloperator">expressionConditionalOperator </a></li><li class="sidebar-item__anchor" title="program "><a class="" href="/api/parser/#program">program </a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/normalmodulefactory-hooks/">NormalModuleFactory Hooks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="beforeResolve "><a class="" href="/api/normalmodulefactory-hooks/#beforeresolve">beforeResolve </a></li><li class="sidebar-item__anchor" title="factorize "><a class="" href="/api/normalmodulefactory-hooks/#factorize">factorize </a></li><li class="sidebar-item__anchor" title="resolve "><a class="" href="/api/normalmodulefactory-hooks/#resolve">resolve </a></li><li class="sidebar-item__anchor" title="resolveForScheme "><a class="" href="/api/normalmodulefactory-hooks/#resolveforscheme">resolveForScheme </a></li><li class="sidebar-item__anchor" title="afterResolve "><a class="" href="/api/normalmodulefactory-hooks/#afterresolve">afterResolve </a></li><li class="sidebar-item__anchor" title="createModule "><a class="" href="/api/normalmodulefactory-hooks/#createmodule">createModule </a></li><li class="sidebar-item__anchor" title="module "><a class="" href="/api/normalmodulefactory-hooks/#module">module </a></li><li class="sidebar-item__anchor" title="createParser "><a class="" href="/api/normalmodulefactory-hooks/#createparser">createParser </a></li><li class="sidebar-item__anchor" title="parser "><a class="" href="/api/normalmodulefactory-hooks/#parser">parser </a></li><li class="sidebar-item__anchor" title="createGenerator "><a class="" href="/api/normalmodulefactory-hooks/#creategenerator">createGenerator </a></li><li class="sidebar-item__anchor" title="generator "><a class="" href="/api/normalmodulefactory-hooks/#generator">generator </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/plugins/">Plugin API</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Tapable "><a class="" href="/api/plugins/#tapable">Tapable </a></li><li class="sidebar-item__anchor" title="插件类型 "><a class="" href="/api/plugins/#plugin-types">插件类型 </a></li><li class="sidebar-item__anchor" title="自定义钩子 "><a class="" href="/api/plugins/#custom-hooks">自定义钩子 </a></li><li class="sidebar-item__anchor" title="进度报告 "><a class="" href="/api/plugins/#reporting-progress">进度报告 </a></li><li class="sidebar-item__anchor" title="日志 "><a class="" href="/api/plugins/#logging">日志 </a></li><li class="sidebar-item__anchor" title="下一步 "><a class="" href="/api/plugins/#next-steps">下一步 </a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/api/resolvers/">解析器（Resolvers）</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="类型 "><a class="" href="/api/resolvers/#types">类型 </a></li><li class="sidebar-item__anchor" title="配置选项 "><a class="" href="/api/resolvers/#configuration-options">配置选项 </a></li></ul></div></div></div></nav><section class="page"><div class="markdown"><h1>Loader Interface</h1><div id="md-content"><p>loader 本质上是导出为函数的 JavaScript 模块。<a href="https://github.com/webpack/loader-runner">loader runner</a> 会调用此函数，然后将上一个 loader 产生的结果或者资源文件传入进去。函数中的 <code>this</code> 作为上下文会被 webpack 填充，并且 <a href="https://github.com/webpack/loader-runner">loader runner</a> 中包含一些实用的方法，比如可以使 loader 调用方式变为异步，或者获取 query 参数。</p><p>起始 loader 只有一个入参：资源文件的内容。compiler 预期得到最后一个 loader 产生的处理结果。这个处理结果应该为 <code>String</code> 或者 <code>Buffer</code>（能够被转换为 string）类型，代表了模块的 JavaScript 源码。另外，还可以传递一个可选的 SourceMap 结果（格式为 JSON 对象）。</p><p>如果是单个处理结果，可以在 <a href="#synchronous-loaders">同步模式</a> 中直接返回。如果有多个处理结果，则必须调用 <code>this.callback()</code>。在 <a href="#asynchronous-loaders">异步模式</a> 中，必须调用 <code>this.async()</code> 来告知 <a href="https://github.com/webpack/loader-runner">loader runner</a> 等待异步结果，它会返回 <code>this.callback()</code> 回调函数。随后 loader 必须返回 <code>undefined</code> 并且调用该回调函数。</p><pre><code class="hljs language-js"><span class="token comment">/**
 *
 * @param {string|Buffer} content 源文件的内容
 * @param {object} [map] 可以被 https://github.com/mozilla/source-map 使用的 SourceMap 数据
 * @param {any} [meta] meta 数据，可以是任何内容
 */</span>
<span class="token keyword">function</span> <span class="token function">webpackLoader</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 你的 webpack loader 代码</span>
<span class="token punctuation">}</span></code></pre><h2><span id="examples"></span>示例<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>以下部分提供了不同类型的 loader 的一些基本示例。注意，<code>map</code> 和 <code>meta</code> 参数是可选的，查看下面的 <a href="#thiscallback"><code>this.callback</code></a>。</p><h3><span id="synchronous-loaders"></span>同步 Loaders<a href="#synchronous-loaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>无论是 <code>return</code> 还是 <code>this.callback</code> 都可以同步地返回转换后的 <code>content</code> 值：</p><p><strong>sync-loader.js</strong></p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">someSyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><code>this.callback</code> 方法则更灵活，因为它允许传递多个参数，而不仅仅是 <code>content</code>。</p><p><strong>sync-loader-with-multiple-results.js</strong></p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token function">someSyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// 当调用 callback() 函数时，总是返回 undefined</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="asynchronous-loaders"></span>异步 Loaders<a href="#asynchronous-loaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>对于异步 loader，使用 <a href="#thisasync"><code>this.async</code></a> 来获取 <code>callback</code> 函数：</p><p><strong>async-loader.js</strong></p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">someAsyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> result<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>async-loader-with-multiple-results.js</strong></p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">someAsyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result<span class="token punctuation">,</span> sourceMaps<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> result<span class="token punctuation">,</span> sourceMaps<span class="token punctuation">,</span> meta<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><aside class="tip"><h6 class="tip__prefix">提示</h6><p>loader 最初被设计为可以在同步 loader pipelines（如 Node.js ，使用 <a href="https://github.com/webpack/enhanced-require">enhanced-require</a>)，<em>以及</em> 在异步 pipelines（如 webpack）中运行。然而，由于同步计算过于耗时，在 Node.js 这样的单线程环境下进行此操作并不是好的方案，我们建议尽可能地使你的 loader 异步化。但如果计算量很小，同步 loader 也是可以的。</p></aside><h3><span id="raw-loader"></span>&quot;Raw&quot; Loader<a href="#raw-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>默认情况下，资源文件会被转化为 UTF-8 字符串，然后传给 loader。通过设置 <code>raw</code> 为 <code>true</code>，loader 可以接收原始的 <code>Buffer</code>。每一个 loader 都可以用 <code>String</code> 或者 <code>Buffer</code> 的形式传递它的处理结果。complier 将会把它们在 loader 之间相互转换。</p><p><strong>raw-loader.js</strong></p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span>content <span class="token keyword">instanceof</span> <span class="token class-name">Buffer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">someSyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 返回值也可以是一个 `Buffer`</span>
  <span class="token comment">// 即使不是 &quot;raw&quot;，loader 也没问题</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>raw <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code></pre><h3><span id="pitching-loader"></span>Pitching Loader<a href="#pitching-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>loader <strong>总是</strong> 从右到左被调用。有些情况下，loader 只关心 request 后面的 <strong>元数据(metadata)</strong>，并且忽略前一个 loader 的结果。在实际（从右到左）执行 loader 之前，会先 <strong>从左到右</strong> 调用 loader 上的 <code>pitch</code> 方法。</p><aside class="tip"><h6 class="tip__prefix">提示</h6><p>loader 可以通过 request 添加或者禁用内联前缀，这将影响到 pitch 和执行的顺序。更多详情请查阅 <a href="/configuration/module/#ruleenforce"><code>Rule.enforce</code></a>。</p></aside><p>对于以下 <a href="/configuration/module/#ruleuse"><code>use</code></a> 配置：</p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;a-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;b-loader&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;c-loader&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>将会发生这些步骤：</p><pre><code class="hljs language-diff">|- a-loader `pitch`
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> |- b-loader `pitch`
</span><span class="token prefix unchanged"> </span><span class="token line">   |- c-loader `pitch`
</span><span class="token prefix unchanged"> </span><span class="token line">     |- requested module is picked up as a dependency
</span><span class="token prefix unchanged"> </span><span class="token line">   |- c-loader normal execution
</span><span class="token prefix unchanged"> </span><span class="token line"> |- b-loader normal execution
</span></span>|- a-loader normal execution</code></pre><p>那么，为什么 loader 可以利用 &quot;pitching&quot; 阶段呢？</p><p>首先，传递给 <code>pitch</code> 方法的 <code>data</code>，在执行阶段也会暴露在 <code>this.data</code> 之下，并且可以用于在循环时，捕获并共享前面的信息。</p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">someSyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">pitch</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">remainingRequest<span class="token punctuation">,</span> precedingRequest<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>其次，如果某个 loader 在 <code>pitch</code> 方法中给出一个结果，那么这个过程会回过身来，并跳过剩下的 loader。在我们上面的例子中，如果 <code>b-loader</code> 的 <code>pitch</code> 方法返回了一些东西：</p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">someSyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">pitch</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">remainingRequest<span class="token punctuation">,</span> precedingRequest<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">someCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token string">&#x27;module.exports = require(&#x27;</span> <span class="token operator">+</span>
      <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">&#x27;-!&#x27;</span> <span class="token operator">+</span> remainingRequest<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">&#x27;);&#x27;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>上面的步骤将被缩短为：</p><pre><code class="hljs language-diff">|- a-loader `pitch`
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> |- b-loader `pitch` returns a module
</span></span>|- a-loader normal execution</code></pre><h2><span id="the-loader-context"></span>The Loader Context<a href="#the-loader-context" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>loader context 表示在 loader 内使用 <code>this</code> 可以访问的一些方法或属性。</p><h3><span id="example-for-the-loader-context"></span>loader 上下文示例<a href="#example-for-the-loader-context" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>下面提供一个例子，将使用 require 进行调用：</p><p>在 <code>/abc/file.js</code> 中：</p><pre><code class="hljs language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./loader1?xyz!loader2!./resource?rrr&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3><span id="thisaddcontextdependency"></span>this.addContextDependency<a href="#thisaddcontextdependency" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-typescript"><span class="token function">addContextDependency</span><span class="token punctuation">(</span>directory<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span></code></pre><p>添加目录作为 loader 结果的依赖。</p><h3><span id="thisadddependency"></span>this.addDependency<a href="#thisadddependency" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-typescript"><span class="token function">addDependency</span><span class="token punctuation">(</span>file<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span>
<span class="token function">dependency</span><span class="token punctuation">(</span>file<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token comment">// shortcut</span></code></pre><p>添加一个文件作为产生 loader 结果的依赖，使它们的任何变化可以被监听到。例如，<a href="https://github.com/webpack-contrib/sass-loader"><code>sass-loader</code></a>, <a href="https://github.com/webpack-contrib/less-loader"><code>less-loader</code></a> 就使用了这个技巧，当它发现无论何时导入的 <code>css</code> 文件发生变化时就会重新编译。</p><h3><span id="thisaddmissingdependency"></span>this.addMissingDependency<a href="#thisaddmissingdependency" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-typescript"><span class="token function">addMissingDependency</span><span class="token punctuation">(</span>file<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span></code></pre><p>添加一个不存在的文件作为 loader 结果的依赖项，以使它们可监听。类似于 <code>addDependency</code>，但是会在正确附加观察者之前处理在编译期间文件的创建。</p><h3><span id="thisasync"></span>this.async<a href="#thisasync" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>告诉 <a href="https://github.com/webpack/loader-runner">loader-runner</a> 这个 loader 将会异步地回调。返回 <code>this.callback</code>。</p><h3><span id="thiscacheable"></span>this.cacheable<a href="#thiscacheable" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>设置是否可缓存标志的函数：</p><pre><code class="hljs language-typescript"><span class="token function">cacheable</span><span class="token punctuation">(</span>flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span></code></pre><p>默认情况下，loader 的处理结果会被标记为可缓存。调用这个方法然后传入 <code>false</code>，可以关闭 loader 处理结果的缓存能力。</p><p>一个可缓存的 loader 在输入和相关依赖没有变化时，必须返回相同的结果。这意味着 loader 除了 <code>this.addDependency</code> 里指定的以外，不应该有其它任何外部依赖。</p><h3><span id="thiscallback"></span>this.callback<a href="#thiscallback" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>可以同步或者异步调用的并返回多个结果的函数。预期的参数是：</p><pre><code class="hljs language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>
  err<span class="token operator">:</span> Error <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  content<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> Buffer<span class="token punctuation">,</span>
  sourceMap<span class="token operator">?</span><span class="token operator">:</span> SourceMap<span class="token punctuation">,</span>
  meta<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ol><li>第一个参数必须是 <code>Error</code> 或者 <code>null</code></li><li>第二个参数是一个 <code>string</code> 或者 <a href="https://nodejs.org/api/buffer.html"><code>Buffer</code></a>。</li><li>可选的：第三个参数必须是一个可以被 <a href="https://github.com/mozilla/source-map">this module</a> 解析的 source map。</li><li>可选的：第四个参数，会被 webpack 忽略，可以是任何东西（例如一些元数据）。</li></ol><aside class="tip"><h6 class="tip__prefix">提示</h6><p>如果希望在 loader 之间共享公共的 AST，可以将抽象语法树 AST（例如 <a href="https://github.com/estree/estree"><code>ESTree</code></a>）作为第四个参数（<code>meta</code>）传递，以加快构建时间。</p></aside><p>如果这个函数被调用的话，你应该返回 undefined 从而避免含糊的 loader 结果。</p><h3><span id="thiscleardependencies"></span>this.clearDependencies<a href="#thiscleardependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-typescript"><span class="token function">clearDependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>移除 loader 结果的所有依赖，甚至自己和其它 loader 的初始依赖。考虑使用 <code>pitch</code>。</p><h3><span id="thiscontext"></span>this.context<a href="#thiscontext" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>模块所在的目录</strong> 可以用作解析其他模块成员的上下文。</p><p>在我们的 <a href="#example-for-the-loader-context">例子</a> 中：因为 <code>resource.js</code> 在这个目录中，这个属性的值为 <code>/abc</code></p><h3><span id="thisdata"></span>this.data<a href="#thisdata" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>在 pitch 阶段和 normal 阶段之间共享的 data 对象。</p><h3><span id="thisemiterror"></span>this.emitError<a href="#thisemiterror" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-typescript"><span class="token function">emitError</span><span class="token punctuation">(</span>error<span class="token operator">:</span> Error<span class="token punctuation">)</span></code></pre><p>emit 一个错误，也可以在输出中显示。</p><pre><code class="hljs language-bash">ERROR <span class="token keyword">in</span> ./src/lib.js <span class="token punctuation">(</span>./src/loader.js<span class="token operator">!</span>./src/lib.js<span class="token punctuation">)</span>
Module Error <span class="token punctuation">(</span>from ./src/loader.js<span class="token punctuation">)</span>:
Here is an Error<span class="token operator">!</span>
 @ ./src/index.js <span class="token number">1</span>:0-25</code></pre><aside class="tip"><h6 class="tip__prefix">提示</h6><p>与抛出错误中断运行不同，它不会中断当前模块的编译过程。</p></aside><h3><span id="thisemitfile"></span>this.emitFile<a href="#thisemitfile" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-typescript"><span class="token function">emitFile</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> content<span class="token operator">:</span> Buffer<span class="token operator">|</span><span class="token builtin">string</span><span class="token punctuation">,</span> sourceMap<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>产生一个文件。这是 webpack 特有的。</p><h3><span id="thisemitwarning"></span>this.emitWarning<a href="#thisemitwarning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-typescript"><span class="token function">emitWarning</span><span class="token punctuation">(</span>warning<span class="token operator">:</span> Error<span class="token punctuation">)</span></code></pre><p>发出一个警告，在输出中显示如下：</p><pre><code class="hljs language-bash">WARNING <span class="token keyword">in</span> ./src/lib.js <span class="token punctuation">(</span>./src/loader.js<span class="token operator">!</span>./src/lib.js<span class="token punctuation">)</span>
Module Warning <span class="token punctuation">(</span>from ./src/loader.js<span class="token punctuation">)</span>:
Here is a Warning<span class="token operator">!</span>
 @ ./src/index.js <span class="token number">1</span>:0-25</code></pre><aside class="tip"><h6 class="tip__prefix">提示</h6><p>请注意，如果 <code>stats.warnings</code> 设置为 <code>false</code>，警告信息将不会显示。或者其他一些省略设置被用做 <code>status</code>，例如 <code>none</code> 或者 <code>errors-only</code>。</p></aside><h3><span id="thisfs"></span>this.fs<a href="#thisfs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>用于访问 compilation 的 inputFileSystem 属性。</p><h3><span id="thisgetoptionsschema"></span>this.getOptions(schema)<a href="#thisgetoptionsschema" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>提取给定的 loader 选项，接受一个可选的 JSON schema 作为参数</p><aside class="tip"><h6 class="tip__prefix">提示</h6><p>从 webpack 5 开始，<code>this.getOptions</code> 可以获取到 loader 上下文对象。它用来替代来自 <a href="https://github.com/webpack/loader-utils#getoptions">loader-utils</a> 中的 <code>getOptions</code> 方法。</p></aside><h3><span id="thisgetresolve"></span>this.getResolve<a href="#thisgetresolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-typescript"><span class="token function">getResolve</span><span class="token punctuation">(</span>options<span class="token operator">:</span> ResolveOptions<span class="token punctuation">)</span><span class="token operator">:</span> resolve

<span class="token function">resolve</span><span class="token punctuation">(</span>context<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> request<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> result<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">resolve</span><span class="token punctuation">(</span>context<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> request<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></code></pre><p>创建一个类似于 <a href="#thisresolve"><code>this.resolve</code></a> 的解析函数。</p><p>在 webpack <a href="/configuration/resolve/#resolve"><code>resolve</code> 选项</a> 下的任意配置项都是可能的。他们会被合并进 <code>resolve</code> 配置项中。请注意，<code>&quot;...&quot;</code> 可以在数组中使用，用于拓展 <code>resolve</code> 配置项的值。例如：<code>{ extensions: [&quot;.sass&quot;, &quot;...&quot;] }</code>。</p><p><code>options.dependencyType</code> 是一个额外的配置。它允许我们指定依赖类型，用于从 <code>resolve</code> 配置项中解析 <code>byDependency</code>。</p><p>解析操作的所有依赖项都会自动作为依赖项添加到当前模块中。</p><h3><span id="thishot"></span>this.hot<a href="#thishot" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>loaders 的 HMR（模块热替换）相关信息。</p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hot<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true if HMR is enabled via --hot flag or webpack configuration</span>
  <span class="token keyword">return</span> source<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="thisimportmodule"></span>this.importModule<a href="#thisimportmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><span class="badge">5.32.0+</span><p><code>this.importModule(request, options, [callback]): Promise</code></p><p>一种可以选择的轻量级解决方案，用于子编译器在构建时编译和执行请求。</p><ul><li><code>request</code>: 加载模块的请求字符串</li><li><code>options</code>:<ul><li><code>layer</code>：指定该模块放置/编译的层</li><li><code>publicPath</code>：用于构建模块的公共路径</li></ul></li><li><code>callback</code>：一个可选的 Node.js 风格的回调，返回模块的 exports 或 ESM 的命名空间对象。如果没有提供回调，<code>importModule</code>将返回一个 Promise。</li></ul><p><strong>webpack.config.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/stylesheet\.js$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;./a-pitching-loader.js&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#x27;asset/source&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 我们将 type 设置为 &#x27;asset/source&#x27;，其会返回一个字符串。</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>a-pitching-loader.js</strong></p><pre><code class="hljs language-js">exports<span class="token punctuation">.</span><span class="token function-variable function">pitch</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">remaining</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">importModule</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>resourcePath <span class="token operator">+</span> <span class="token string">&#x27;.webpack[javascript/auto]&#x27;</span> <span class="token operator">+</span> <span class="token string">&#x27;!=!&#x27;</span> <span class="token operator">+</span> remaining
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">.</span>default <span class="token operator">||</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>src/stylesheet.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> green<span class="token punctuation">,</span> red <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./colors.js&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">body { background: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>red<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">; color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>green<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">; }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre><p><strong>src/colors.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> red <span class="token operator">=</span> <span class="token string">&#x27;#f00&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> green <span class="token operator">=</span> <span class="token string">&#x27;#0f0&#x27;</span><span class="token punctuation">;</span></code></pre><p><strong>src/index.js</strong></p><pre><code class="hljs language-js"><span class="token keyword">import</span> stylesheet <span class="token keyword">from</span> <span class="token string">&#x27;./stylesheet.js&#x27;</span><span class="token punctuation">;</span>
<span class="token comment">// stylesheet 在构建时会成为一个字符串：`body { background: #f00; color: #0f0; }`。</span></code></pre><p>在上面的例子中你可能会注意到一些东西：</p><ol><li>我们有一个 <a href="#pitching-loader">pitching loader</a>，</li><li>我们在 pitching loader 中使用 <code>!=!</code> 语法来为请求设置 <a href="#inline-matchresource">matchResource</a>，例如，我们将使用 <code>this.resourcePath + &#x27;.webpack[javascript/auto]&#x27;</code> 而不是原始资源匹配 <a href="/configuration/module/#modulerules"><code>module.rules</code></a>，</li><li><code>.webpack[javascript/auto]</code> 是 <code>.webpack[type]</code> 模式的伪拓展，当没有指定其他模块类型时，我们使用它指定一个默认 <a href="/configuration/module/#ruletype">模块类型</a>，它通常和 <code>!=!</code> 语法一起使用。</li></ol><p>注意，上面的示例是一个简化的示例，你可以查看 <a href="https://github.com/webpack/webpack/tree/master/test/configCases/loader-import-module/css">webpack 仓库的完整示例</a>。</p><h3><span id="thisloaderindex"></span>this.loaderIndex<a href="#thisloaderindex" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>当前 loader 在 loader 数组中的索引。</p><p>在<a href="#example-for-the-loader-context">示例</a>中：loader1 中得到：<code>0</code>，loader2 中得到：<code>1</code></p><h3><span id="thisloadmodule"></span>this.loadModule<a href="#thisloadmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-typescript"><span class="token function">loadModule</span><span class="token punctuation">(</span>request<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> source<span class="token punctuation">,</span> sourceMap<span class="token punctuation">,</span> <span class="token keyword">module</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>解析给定的 request 到模块，应用所有配置的 loader，并且在回调函数中传入生成的 source、sourceMap 和模块实例（通常是 <a href="https://github.com/webpack/webpack/blob/master/lib/NormalModule.js"><code>NormalModule</code></a> 的一个实例）。如果你需要获取其他模块的源代码来生成结果的话，你可以使用这个函数。</p><p><code>this.loadModule</code> 在 loader 上下文中默认使用 CommonJS 来解析规则。用一个合适的 <code>dependencyType</code> 使用 <code>this.getResolve</code>。例如，在使用不同的语义之前使用 <code>&#x27;esm&#x27;</code>、<code>&#x27;commonjs&#x27;</code> 或者一个自定义的。</p><h3><span id="thisloaders"></span>this.loaders<a href="#thisloaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>所有 loader 组成的数组。它在 pitch 阶段的时候是可以写入的。</p><pre><code class="hljs language-ts">loaders <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>request<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> query<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">module</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><p>在此<a href="#example-for-the-loader-context">示例</a>中：</p><pre><code class="hljs language-javascript"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    request<span class="token operator">:</span> <span class="token string">&#x27;/abc/loader1.js?xyz&#x27;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">&#x27;/abc/loader1.js&#x27;</span><span class="token punctuation">,</span>
    query<span class="token operator">:</span> <span class="token string">&#x27;?xyz&#x27;</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    request<span class="token operator">:</span> <span class="token string">&#x27;/abc/node_modules/loader2/index.js&#x27;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">&#x27;/abc/node_modules/loader2/index.js&#x27;</span><span class="token punctuation">,</span>
    query<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h3><span id="thismode"></span>this.mode<a href="#thismode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>当 webpack 运行时读取 <a href="/configuration/mode/"><code>mode</code></a> 的值</p><p>可能的值为：<code>&#x27;production&#x27;</code>, <code>&#x27;development&#x27;</code>, <code>&#x27;none&#x27;</code></p><h3><span id="thisquery"></span>this.query<a href="#thisquery" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><ol><li>如果这个 loader 配置了 <a href="/configuration/module/#useentry"><code>options</code></a> 对象的话，this 就指向这个对象。</li><li>如果 loader 中没有 <code>options</code>，而是以 query 字符串作为参数调用时，this.query 就是一个以 <code>?</code> 开头的字符串。</li></ol><h3><span id="thisrequest"></span>this.request<a href="#thisrequest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>被解析出来的 request 字符串。</p><p>在我们的<a href="#example-for-the-loader-context">示例</a>中：<code>&#x27;/abc/loader1.js?xyz!/abc/node_modules/loader2/index.js!/abc/resource.js?rrr&#x27;</code></p><h3><span id="thisresolve"></span>this.resolve<a href="#thisresolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><pre><code class="hljs language-typescript"><span class="token function">resolve</span><span class="token punctuation">(</span>context<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> request<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> result<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>像 require 表达式一样解析一个 request。</p><ul><li><code>context</code> 必须是一个目录的绝对路径。此目录用作解析的起始位置。</li><li><code>request</code> 是要被解析的 request。通常情况下，像 <code>./relative</code> 的相对请求或者像 <code>module/path</code> 的模块请求会被使用，但是像 <code>/some/path</code> 也有可能被当做 request。</li><li><code>callback</code> 是一个给出解析路径的 Node.js 风格的回调函数。</li></ul><p>解析操作的所有依赖项都会自动作为依赖项添加到当前模块中。</p><h3><span id="thisresource"></span>this.resource<a href="#thisresource" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>request 中的资源部分，包括 query 参数。</p><p>在<a href="#example-for-the-loader-context">示例</a>中：<code>&#x27;/abc/resource.js?rrr&#x27;</code></p><h3><span id="thisresourcepath"></span>this.resourcePath<a href="#thisresourcepath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>资源文件的路径。</p><p>在【示例](#example-for-the-loader-context)中：<code>&#x27;/abc/resource.js&#x27;</code></p><h3><span id="thisresourcequery"></span>this.resourceQuery<a href="#thisresourcequery" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>资源的 query 参数。</p><p>在<a href="#example-for-the-loader-context">示例</a>中：<code>&#x27;?rrr&#x27;</code></p><h3><span id="thisrootcontext"></span>this.rootContext<a href="#thisrootcontext" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>从 webpack 4 开始，原先的 <code>this.options.context</code> 被改为 <code>this.rootContext</code>。</p><h3><span id="thissourcemap"></span>this.sourceMap<a href="#thissourcemap" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>是否应该生成一个 source map。因为生成 source map 可能会非常耗时，你应该确认 source map 确实需要。</p><h3><span id="thistarget"></span>this.target<a href="#thistarget" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>compilation 的目标。从配置选项中传递。</p><p>示例：&#x27;<code>web&#x27;</code>, <code>&#x27;node&#x27;</code></p><h3><span id="thisutils"></span>this.utils<a href="#thisutils" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><span class="badge">5.27.0+</span><p>可以访问 <code>contextify</code> 与 <code>absolutify</code> 功能。</p><ul><li><code>contextify</code>: 返回一个新的请求字符串，尽可能避免使用绝对路径。</li><li><code>absolutify</code>: 尽可能使用相对路径返回一个新的请求字符串。</li></ul><p><strong>my-sync-loader.js</strong></p><pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">contextify</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">absolutify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span> <span class="token string">&#x27;./index.js&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">absolutify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// …</span>
  <span class="token keyword">return</span> content<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3><span id="thisversion"></span>this.version<a href="#thisversion" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p><strong>loader API 的版本号</strong> 目前是 <code>2</code>。这对于向后兼容性有一些用处。通过这个版本号，你可以自定义逻辑或者降级处理。</p><h3><span id="thiswebpack"></span>this.webpack<a href="#thiswebpack" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>如果是由 webpack 编译的，这个布尔值会被设置为 true。</p><aside class="tip"><h6 class="tip__prefix">提示</h6><p>loader 最初被设计为可以同时当 Babel transform 用。如果你编写了一个 loader 可以同时兼容二者，那么可以使用这个属性了解是否存在可用的 loaderContext 和 webpack 特性。</p></aside><h2><span id="webpack-specific-properties"></span>Webpack 特有属性<a href="#webpack-specific-properties" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>loader 接口提供所有模块的相关信息。然而，在极少数情况下，你可能需要访问 compiler api 本身。</p><aside class="warning"><h6 class="warning__prefix">警告</h6><p>请注意，使用这些 webpack 特定的属性会对 loader 的兼容性产生负面影响。</p></aside><p>因此，你应该把它们作为最后的手段。使用它们将降低 loader 的可移植性。</p><h3><span id="this_compilation"></span>this._compilation<a href="#this_compilation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>用于访问 webpack 的当前 Compilation 对象。</p><h3><span id="this_compiler"></span>this._compiler<a href="#this_compiler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>用于访问 webpack 的当前 Compiler 对象。</p><h2><span id="deprecated-context-properties"></span>过时的上下文属性<a href="#deprecated-context-properties" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>由于我们计划将这些属性从上下文中移除，因此不鼓励使用这些属性。它们仍然列在这里，以备参考。</p><h3><span id="thisdebug"></span>this.debug<a href="#thisdebug" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>一个布尔值，当处于 debug 模式时为 true。</p><h3><span id="thisinputvalue"></span>this.inputValue<a href="#thisinputvalue" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>从上一个 loader 那里传递过来的值。如果你会以模块的方式处理输入参数，建议预先读入这个变量（为了性能因素）。</p><h3><span id="thisminimize"></span>this.minimize<a href="#thisminimize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>决定处理结果是否应该被压缩。</p><h3><span id="thisvalue"></span>this.value<a href="#thisvalue" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>向下一个 loader 传值。如果你知道了作为模块执行后的结果，请在这里赋值（以元素数组的形式）。</p><h3><span id="this_module"></span>this._module<a href="#this_module" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3><p>一种 hack 写法。用于访问当前加载的 Module 对象。</p><h2><span id="error-reporting"></span>错误报告<a href="#error-reporting" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>您可以通过以下方式从 loader 内部报告错误：</p><ul><li>使用 <a href="/api/loaders/#thisemiterror">this.emitError</a>. 将在不中断模块编译的情况下报告错误。</li><li>使用 <code>throw</code>（或其他未捕获的意外异常）。loader 运行时引发错误将导致当前模块编译失败。</li><li>使用 <code>callback</code>（异步模式）。向回调传递错误也会导致模块编译失败。</li></ul><p>示例：</p><p><strong>./src/index.js</strong></p><pre><code class="hljs language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./loader!./lib&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>从 loader 当中抛出错误：</p><p><strong>./src/loader.js</strong></p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;This is a Fatal Error!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>或者在异步模式下，传入一个错误给 callback：</p><p><strong>./src/loader.js</strong></p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//...</span>
  <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;This is a Fatal Error!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>这个模块将获取像下面的 bundle：</p><pre><code class="hljs language-text">/***/ &quot;./src/loader.js!./src/lib.js&quot;:
/*!************************************!*\
  !*** ./src/loader.js!./src/lib.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

throw new Error(&quot;Module build failed (from ./src/loader.js):\nError: This is a Fatal Error!\n    at Object.module.exports (/workspace/src/loader.js:3:9)&quot;);

/***/ })
</code></pre><p>然后构建输出结果将显示错误，与 <code>this.emitError</code> 相似:</p><pre><code class="hljs language-bash">ERROR <span class="token keyword">in</span> ./src/lib.js <span class="token punctuation">(</span>./src/loader.js<span class="token operator">!</span>./src/lib.js<span class="token punctuation">)</span>
Module build failed <span class="token punctuation">(</span>from ./src/loader.js<span class="token punctuation">)</span>:
Error: This is a Fatal Error<span class="token operator">!</span>
    at Object.module.exports <span class="token punctuation">(</span>/workspace/src/loader.js:2:9<span class="token punctuation">)</span>
 @ ./src/index.js <span class="token number">1</span>:0-25</code></pre><p>如下所示，不仅有错误消息，还提供了有关所涉及的 loader 和模块的详细信息：</p><ul><li>模块路径：<code>ERROR in ./src/lib.js</code></li><li>request 字符串：<code>(./src/loader.js!./src/lib.js)</code></li><li>loader 路径：<code>(from ./src/loader.js)</code></li><li>调用路径：<code>@ ./src/index.js 1:0-25</code></li></ul><aside class="warning"><h6 class="warning__prefix">警告</h6><p>从 webpack 4.12 开始，loader 路径将在报错信息中显示。</p></aside><aside class="tip"><h6 class="tip__prefix">提示</h6><p>所有的报错和警告信息将被记录到 <code>stats</code> 当中。详情请查看 <a href="/api/stats/#errors-and-warnings">Stats Data</a>。</p></aside><h2><span id="inline-matchresource"></span>Inline matchResource<a href="#inline-matchresource" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>在 webpack v4 中引入了一种新的内联请求语法。前缀为 <code>&lt;match-resource&gt;!=!</code> 将为此请求设置 <code>matchResource</code>。</p><aside class="warning"><h6 class="warning__prefix">警告</h6><p>不建议在应用程序代码中使用此语法。
内联请求语法仅用于 loader 生成的代码。
不遵循此建议将使您的代码不遵循 webpack 标准和规范。</p></aside><aside class="tip"><h6 class="tip__prefix">提示</h6><p>相对的 <code>matchResource</code> 将相对包含模块的当前上下文进行解析。</p></aside><p>当 <code>matchResource</code> 被设置时，它将会被用作匹配 <a href="/configuration/module/#modulerules"><code>module.rules</code></a> 而不是源文件。如果需要对资源应用进一步的 loader，或者需要更改模块类型，这可能会很有用。 它也显示在统计数据中，用于匹配 <a href="/configuration/module/#ruleissuer"><code>Rule.issuer</code></a> 和 <a href="/plugins/split-chunks-plugin/#splitchunkscachegroupscachegrouptest"><code>test</code> in <code>splitChunks</code></a>。</p><p>示例：</p><p><strong>file.js</strong></p><pre><code class="hljs language-javascript"><span class="token comment">/* STYLE: body { background: red; } */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;yep&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>loader 可以将文件转换为以下文件，并使用 <code>matchResource</code> 应用用户指定的 CSS 处理规则：</p><p><strong>file.js</strong> (transformed by loader)</p><pre><code class="hljs language-javascript"><span class="token keyword">import</span> <span class="token string">&#x27;./file.js.css!=!extract-style-loader/getStyles!./file.js&#x27;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;yep&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>这将会向 <code>extract-style-loader/getStyles!./file.js</code> 中添加一个依赖，并将结果视为 <code>file.js.css</code>。因为 <a href="/configuration/module/#modulerules"><code>module.rules</code></a> 有一条匹配 <code>/\.css$/</code> 的规则，并且将会应用到依赖中。</p><p>这个 loader 就像是这样：</p><p><strong>extract-style-loader/index.js</strong></p><pre><code class="hljs language-javascript"><span class="token keyword">const</span> getStylesLoader <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;./getStyles&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">STYLES_REGEXP</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    source <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token constant">STYLES_REGEXP</span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">import </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">contextify</span><span class="token punctuation">(</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rootContext<span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>resource<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.css!=!</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>getStylesLoader<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>remainingRequest<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>source<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> source<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>extract-style-loader/getStyles.js</strong></p><pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> match <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token constant">STYLES_REGEXP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2><span id="logging"></span>Logging<a href="#logging" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2><p>自 webpack 4.37 发布以来，Logging API 就可用了。当 <a href="/configuration/stats/#statslogging"><code>stats configuration</code></a> 或者 <a href="/configuration/other-options/#infrastructurelogging"><code>infrastructure logging</code></a> 中启用 <code>logging</code> 时，loader 可以记录消息，这些消息将以相应的日志格式（stats，infrastructure）打印出来。</p><ul><li>Loaders 最好使用 <code>this.getLogger()</code> 进行日志记录，这是指向 <code>compilation.getLogger()</code> 具有 loader 路径和已处理的文件。这种日志记录被存储到 Stats 中并相应地格式化。它可以被 webpack 用户过滤和导出。</li><li>Loaders 可以使用 <code>this.getLogger(&#x27;name&#x27;)</code> 获取具有子名称的独立记录器。仍会添加 loader 路径和已处理的文件。</li><li>Loaders 可以使用特殊的回退逻辑来检测日志支持 <code>this.getLogger() ? this.getLogger() : console</code>。在使用不支持 <code>getLogger</code> 方法的旧 webpack 版本时提供回退方法。</li></ul></div><div class="print:hidden mt-20"><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline" href="https://github.com/docschina/webpack.js.org/edit/cn/src/content/api/loaders.mdx">编辑此页</a><span class="mx-5 text-black font-bold dark:text-white">·</span><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline">打印文档</a></div><div class="adjacent-links print:hidden"><div class="adjacent-links__prev"><div>« Previous</div><a class="adjacent-links__link" href="/api/hot-module-replacement/">Hot Module Replacement</a></div><div class="adjacent-links__next"><div class="adjacent-links__label--next">Next »</div><a class="adjacent-links__link" href="/api/logging/">Logger 接口</a></div></div><div class="contributors__section"><h3 class="!font-sans !font-normal">2<!-- --> <!-- -->位译者</h3><div class="translators"><div class="translators__list"><a class="translator" href="https://github.com/jacob-lcs"><img alt="jacob-lcs" src="/icon-square-small-slack.9281492bb267314634b4.png"/><span class="translator__name"> <!-- -->jacob-lcs</span></a><a class="translator" href="https://github.com/QC-L"><img alt="QC-L" src="/icon-square-small-slack.9281492bb267314634b4.png"/><span class="translator__name"> <!-- -->QC-L</span></a></div></div></div><div data-testid="contributors" class="print:hidden"><h2 class="!font-sans !font-normal">12<!-- --> <!-- -->位贡献者</h2><div><div class="grid gap-[10px] lg:gap-[15px] grid-cols-contributors"><a href="https://github.com/TheLarkInn"><img width="45" height="45" alt="TheLarkInn" title="TheLarkInn" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/jhnns"><img width="45" height="45" alt="jhnns" title="jhnns" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/tbroadley"><img width="45" height="45" alt="tbroadley" title="tbroadley" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/byzyk"><img width="45" height="45" alt="byzyk" title="byzyk" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/sokra"><img width="45" height="45" alt="sokra" title="sokra" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/EugeneHlushko"><img width="45" height="45" alt="EugeneHlushko" title="EugeneHlushko" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/jantimon"><img width="45" height="45" alt="jantimon" title="jantimon" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/superburrito"><img width="45" height="45" alt="superburrito" title="superburrito" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/wizardofhogwarts"><img width="45" height="45" alt="wizardofhogwarts" title="wizardofhogwarts" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/snitin315"><img width="45" height="45" alt="snitin315" title="snitin315" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/chenxsan"><img width="45" height="45" alt="chenxsan" title="chenxsan" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a><a href="https://github.com/jamesgeorge007"><img width="45" height="45" alt="jamesgeorge007" title="jamesgeorge007" class="w-full rounded-full shadow" src="/icon-square-small-slack.9281492bb267314634b4.png"/></a></div></div></div></div></section></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="/guides/getting-started/">快速开始</a><a class="footer__link" href="/comparison/">对比</a><a href="https://privacy-policy.openjsf.org/" target="_blank" rel="noopener noreferrer" class="footer__link">Privacy Policy</a></section><section class="footer__middle"><a class="footer__icon" href="/"><img src="/icon-square-small.85ba630cf0c5f29ae3e3.svg" alt="webpack icon" width="35" height="35"/></a></section><section class="footer__right"><a href="https://webpack.threadless.com/" target="_blank" rel="noopener noreferrer" class="footer__link">周边</a><a class="footer__link" href="/awesome-webpack/">Awesome webpack</a><a class="footer__link" href="/glossary/">术语</a><a class="footer__link" href="/branding/">品牌</a><a href="https://gitter.im/webpack/webpack" target="_blank" rel="noopener noreferrer" class="footer__link">Gitter</a><a href="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener noreferrer" class="footer__link">更新日志</a><a class="footer__link footer__license" href="/license"><img alt="Creative Commons License" src="/cc.ab77d813bf219c6e34ff.svg" width="25" height="25"/><img alt="Creative Commons License" src="/by.1360bb2e6d1fc28cdd9e.svg" width="25" height="25"/></a></section></div></footer></div></div><script src="/vendor.e63a9c1308a47f528841.js"></script><script src="/index.9021dfa1363de1c1e288.js"></script><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?f92e0e48311f635665d2de225751a349";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script></body>