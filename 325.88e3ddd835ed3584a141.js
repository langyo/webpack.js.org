"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[325],{325:function(e,a,t){t.r(a),t(7378);var n=t(2682);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},p.apply(this,arguments)}function o(e){let{components:a,...t}=e;return(0,n.kt)("wrapper",p({components:a},t),(0,n.kt)("div",{align:"center"}),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://npmjs.com/package/coffee-loader",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/npm/v/coffee-loader.svg",alt:"npm",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://nodejs.org",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/node/v/coffee-loader.svg",alt:"node",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://david-dm.org/webpack-contrib/coffee-loader",parentName:"p"},(0,n.kt)("img",{src:"https://david-dm.org/webpack-contrib/coffee-loader.svg",alt:"deps",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://github.com/webpack-contrib/coffee-loader/actions",parentName:"p"},(0,n.kt)("img",{src:"https://github.com/webpack-contrib/coffee-loader/workflows/coffee-loader/badge.svg",alt:"tests",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://codecov.io/gh/webpack-contrib/coffee-loader",parentName:"p"},(0,n.kt)("img",{src:"https://codecov.io/gh/webpack-contrib/coffee-loader/branch/master/graph/badge.svg",alt:"coverage",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://gitter.im/webpack/webpack",parentName:"p"},(0,n.kt)("img",{src:"https://badges.gitter.im/webpack/webpack.svg",alt:"chat",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://packagephobia.now.sh/result?p=coffee-loader",parentName:"p"},(0,n.kt)("img",{src:"https://packagephobia.now.sh/badge?p=coffee-loader",alt:"size",parentName:"a"}))),(0,n.kt)("p",null,"Compile ",(0,n.kt)("a",{href:"https://coffeescript.org/",parentName:"p"},"CoffeeScript")," to JavaScript."),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"getting-started",parentName:"h2"}),"起步",(0,n.kt)("a",{href:"#getting-started","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"安装 ",(0,n.kt)("inlineCode",{parentName:"p"},"coffeescript")," 和 ",(0,n.kt)("inlineCode",{parentName:"p"},"coffee-loader"),"："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-console",parentName:"pre"},"npm install --save-dev coffeescript coffee-loader\n")),(0,n.kt)("p",null,"然后添加 plugin 到 ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack")," 配置文件. 例："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.coffee")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-coffee",parentName:"pre"},'# 任务：\nnumber   = 42\nopposite = true\n\n# 条件：\nnumber = -42 if opposite\n\n# 函数：\nsquare = (x) -> x * x\n\n# 数组：\nlist = [1, 2, 3, 4, 5]\n\n# 对象：\nmath =\n  root:   Math.sqrt\n  square: square\n  cube:   (x) -> x * square x\n\n# Splats：\nrace = (winner, runners...) ->\n  print winner, runners\n\n# 存在性：\nalert "I knew it!" if elvis?\n\n# 数组推导（comprehensions）：\ncubes = (math.cube num for num in list)\n')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.coffee$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"coffee-loader"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"替代方案："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," coffee ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"coffee-loader!./file.coffee"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"然后按偏好运行 ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack")),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"options",parentName:"h2"}),"选项",(0,n.kt)("a",{href:"#options","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"类型：",(0,n.kt)("inlineCode",{parentName:"p"},"Object"),"\n默认：",(0,n.kt)("inlineCode",{parentName:"p"},"{ bare: true }")),(0,n.kt)("p",null,"所有 coffeescript 选项的文档 ",(0,n.kt)("a",{href:"https://coffeescript.org/#nodejs-usage",parentName:"p"},"点击查看"),"."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"transpile")," 选项的文档 ",(0,n.kt)("a",{href:"https://coffeescript.org/#transpilation",parentName:"p"},"点击查看"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"ℹ️ ",(0,n.kt)("inlineCode",{parentName:"p"},"sourceMap")," 选项从 ",(0,n.kt)("inlineCode",{parentName:"p"},"compiler.devtool")," 中选取一个值作为默认值。")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"ℹ️ ",(0,n.kt)("inlineCode",{parentName:"p"},"filename")," 选项从 webpack loader API 中选取一个值。 选项值将被忽略。")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.coffee$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"coffee-loader"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          bare",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          transpile",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            presets",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},'"@babel/env"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"examples",parentName:"h2"}),"示例",(0,n.kt)("a",{href:"#examples","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"coffeescript-and-babel",parentName:"h3"}),"CoffeeScript 与 Babel",(0,n.kt)("a",{href:"#coffeescript-and-babel","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"来自 CoffeeScript 2 的文档："),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"CoffeeScript 2 使用最新的句法生成 JavaScript。\n代码运行所在的运行时或浏览器有可能无法支持全部相关句法。\n这种情况下，新的 JavaScript 句法将被转换为旧的 JavaScript 句法，以便在较低版本 Node 环境或浏览器中运行这些代码。比如将 ",(0,n.kt)("inlineCode",{parentName:"p"},"{ a } = obj")," 转换为 ",(0,n.kt)("inlineCode",{parentName:"p"},"a = obj.a"),"。\n这个转换的过程是由一些诸如 Babel, Bublé or Traceur Compiler 等转换工具完成的。")),(0,n.kt)("p",null,"安装 ",(0,n.kt)("inlineCode",{parentName:"p"},"@babel/core")," 和 ",(0,n.kt)("inlineCode",{parentName:"p"},"@babel/preset-env")," 然后创建配置文件："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-console",parentName:"pre"},'npm install --save-dev @babel/core @babel/preset-env\necho \'{ "presets": ["@babel/env"] }\' > .babelrc\n')),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.coffee$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"coffee-loader"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          transpile",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            presets",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},'"@babel/env"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"literate-coffeescript",parentName:"h3"}),"Literate CoffeeScript",(0,n.kt)("a",{href:"#literate-coffeescript","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"开启 Literate CoffeeScript 时需要设置："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.coffee$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"coffee-loader"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          literate",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"contributing",parentName:"h2"}),"贡献",(0,n.kt)("a",{href:"#contributing","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"如果您尚未了解，建议您阅读以下贡献指引。"),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/webpack-contrib/coffee-loader/blob/master/.github/CONTRIBUTING.md",parentName:"p"},"CONTRIBUTING")),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"license",parentName:"h2"}),"许可",(0,n.kt)("a",{href:"#license","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/webpack-contrib/coffee-loader/blob/master/LICENSE",parentName:"p"},"MIT")))}o.isMDXComponent=!0,a.default=o}}]);