"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4628],{4628:function(e,a,n){n.r(a),n(7378);var t=n(2682);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},p.apply(this,arguments)}function o(e){let{components:a,...n}=e;return(0,t.kt)("wrapper",p({components:a},n),(0,t.kt)("p",null,"本插件可以为 source map 的生成提供更好更细粒度的控制。",(0,t.kt)("a",{href:"/configuration/devtool/",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"devtool"))," 中的某些配置会自动使用它。"),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.kt)("span",{className:"token class-name",parentName:"code"},"webpack",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},"."),"EvalSourceMapDevToolPlugin"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"options",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"options",parentName:"h2"}),"选项",(0,t.kt)("a",{href:"#options","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"支持以下选项："),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"test")," (",(0,t.kt)("inlineCode",{parentName:"li"},"string|RegExp|array"),"): 默认值为 ",(0,t.kt)("inlineCode",{parentName:"li"},".js")," 和 ",(0,t.kt)("inlineCode",{parentName:"li"},".css"),"，为与给定的模块扩展名相匹配的模块，添加 source map。"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"include")," (",(0,t.kt)("inlineCode",{parentName:"li"},"string|RegExp|array"),"): 为与给定路径相匹配的模块，添加 source map。"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"exclude")," (",(0,t.kt)("inlineCode",{parentName:"li"},"string|RegExp|array"),"): 排除一些与给定值相匹配的模块，不会为它们生成映射关系。"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"append")," (",(0,t.kt)("inlineCode",{parentName:"li"},"string"),"): 将给定的值添加到源代码中，通常是 ",(0,t.kt)("inlineCode",{parentName:"li"},"#sourceMappingURL")," 注释，",(0,t.kt)("inlineCode",{parentName:"li"},"[url]")," 在 source map 文件中将会被替换成 url，值为 ",(0,t.kt)("inlineCode",{parentName:"li"},"false")," 表示不添加。"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"moduleFilenameTemplate")," (",(0,t.kt)("inlineCode",{parentName:"li"},"string"),"): 查看 ",(0,t.kt)("a",{href:"/configuration/output/#outputdevtoolmodulefilenametemplate",parentName:"li"},(0,t.kt)("inlineCode",{parentName:"a"},"output.devtoolModuleFilenameTemplate")),"。"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"module")," (",(0,t.kt)("inlineCode",{parentName:"li"},"boolean"),"): 默认值为 ",(0,t.kt)("inlineCode",{parentName:"li"},"true"),"，表示是否为 loaders 添加 source map。"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"columns")," (",(0,t.kt)("inlineCode",{parentName:"li"},"boolean"),"): 默认值为 ",(0,t.kt)("inlineCode",{parentName:"li"},"true"),"，表示是否使用列映射(column mapping)。"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"protocol")," (",(0,t.kt)("inlineCode",{parentName:"li"},"string"),"): 默认协议名为 ",(0,t.kt)("inlineCode",{parentName:"li"},"webpack-internal://"),"，允许用户重新定义协议。")),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{className:"tip__prefix",parentName:"aside"},"提示"),(0,t.kt)("p",{parentName:"aside"},"将 ",(0,t.kt)("inlineCode",{parentName:"p"},"module")," 或者 ",(0,t.kt)("inlineCode",{parentName:"p"},"columns")," 设置为 ",(0,t.kt)("inlineCode",{parentName:"p"},"false")," 将产生较不精确的源映射，但会明显提高编译性能。")),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{className:"tip__prefix",parentName:"aside"},"提示"),(0,t.kt)("p",{parentName:"aside"},"如果要在 ",(0,t.kt)("a",{href:"/configuration/mode/#mode-development",parentName:"p"},"开发模式")," 下对此插件使用自定义配置，请确保禁用默认配置。 即设置 ",(0,t.kt)("inlineCode",{parentName:"p"},"devtool: false"),"。")),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"examples",parentName:"h2"}),"示例",(0,t.kt)("a",{href:"#examples","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"以下示例演示了此插件的一些常见用例。"),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"basic-use-case",parentName:"h3"}),"基本用例",(0,t.kt)("a",{href:"#basic-use-case","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"可以使用以下代码替换配置选项 ",(0,t.kt)("inlineCode",{parentName:"p"},"devtool: eval-source-map"),"，并使用等效的自定义插件配置："),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  devtool",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  plugins",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,t.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.kt)("span",{className:"token class-name",parentName:"code"},"webpack",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},"."),"EvalSourceMapDevToolPlugin"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"exclude-vendor-maps",parentName:"h3"}),"排除 Vendor(第三方库) Maps",(0,t.kt)("a",{href:"#exclude-vendor-maps","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"下面的代码将排除 ",(0,t.kt)("inlineCode",{parentName:"p"},"vendor.js")," 包中任何模块 source map 的生成："),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.kt)("span",{className:"token class-name",parentName:"code"},"webpack",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},"."),"EvalSourceMapDevToolPlugin"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  exclude",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,t.kt)("span",{className:"token string",parentName:"code"},"'vendor.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))}o.isMDXComponent=!0,a.default=o}}]);