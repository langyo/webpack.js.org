"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7349],{7349:function(a,e,t){t.r(e),t(7378);var n=t(2682);function s(){return s=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},s.apply(this,arguments)}function p(a){let{components:e,...t}=a;return(0,n.kt)("wrapper",s({components:e},t),(0,n.kt)("div",{align:"center"}),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://npmjs.com/package/style-loader",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/npm/v/style-loader.svg",alt:"npm",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://nodejs.org",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/node/v/style-loader.svg",alt:"node",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://david-dm.org/webpack-contrib/style-loader",parentName:"p"},(0,n.kt)("img",{src:"https://david-dm.org/webpack-contrib/style-loader.svg",alt:"deps",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://github.com/webpack-contrib/style-loader/actions",parentName:"p"},(0,n.kt)("img",{src:"https://github.com/webpack-contrib/style-loader/workflows/style-loader/badge.svg",alt:"tests",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://codecov.io/gh/webpack-contrib/style-loader",parentName:"p"},(0,n.kt)("img",{src:"https://codecov.io/gh/webpack-contrib/style-loader/branch/master/graph/badge.svg",alt:"coverage",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://gitter.im/webpack/webpack",parentName:"p"},(0,n.kt)("img",{src:"https://badges.gitter.im/webpack/webpack.svg",alt:"chat",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://packagephobia.now.sh/result?p=style-loader",parentName:"p"},(0,n.kt)("img",{src:"https://packagephobia.now.sh/badge?p=style-loader",alt:"size",parentName:"a"}))),(0,n.kt)("p",null,"把 CSS 插入到 DOM 中。"),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"getting-started",parentName:"h2"}),"快速开始",(0,n.kt)("a",{href:"#getting-started","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"首先，你需要安装 ",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader"),"："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-console",parentName:"pre"},"npm install --save-dev style-loader\n")),(0,n.kt)("p",null,"推荐将 ",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader")," 与 ",(0,n.kt)("a",{href:"/loaders/css-loader/",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"css-loader"))," 一起使用"),(0,n.kt)("p",null,"然后把 loader 添加到你的 ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack")," 配置中。比如："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"style.css")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-css",parentName:"pre"},(0,n.kt)("span",{className:"token selector",parentName:"code"},"body")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},"background"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},":")," green",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./style.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"options",parentName:"h2"}),"Options",(0,n.kt)("a",{href:"#options","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{align:"center",parentName:"tr"},"名称"),(0,n.kt)("th",{align:"center",parentName:"tr"},"类型"),(0,n.kt)("th",{align:"center",parentName:"tr"},"默认值"),(0,n.kt)("th",{align:"left",parentName:"tr"},"描述"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"名称",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("a",{href:"#injecttype",parentName:"span"},(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("inlineCode",{parentName:"strong"},"injectType"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{String}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"styleTag"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"配置把 styles 插入到 DOM 中的方式"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"名称",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("a",{href:"#attributes",parentName:"span"},(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("inlineCode",{parentName:"strong"},"attributes"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{Object}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{}"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"添加自定义属性到插入的标签中"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"名称",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("a",{href:"#insert",parentName:"span"},(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("inlineCode",{parentName:"strong"},"insert"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{String|Function}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"head"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"在指定的位置插入标签"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"名称",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("a",{href:"#styletagtransform",parentName:"span"},(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("inlineCode",{parentName:"strong"},"styleTagTransform"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{String|Function}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"undefined"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"当将 'style' 标签插入到 DOM 中时，转换标签和 css"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"名称",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("a",{href:"#base",parentName:"span"},(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("inlineCode",{parentName:"strong"},"base"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{Number}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"true"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"基于 (DLLPlugin) 设置 module ID"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{align:"center","data-th":"名称",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("a",{href:"#esmodule",parentName:"span"},(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("inlineCode",{parentName:"strong"},"esModule"))))),(0,n.kt)("td",{align:"center","data-th":"类型",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"{Boolean}"))),(0,n.kt)("td",{align:"center","data-th":"默认值",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"false"))),(0,n.kt)("td",{align:"left","data-th":"描述",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"使用 ES modules 语法"))))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"injecttype",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"injectType"),(0,n.kt)("a",{href:"#injecttype","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Type: ",(0,n.kt)("inlineCode",{parentName:"p"},"String"),"\nDefault: ",(0,n.kt)("inlineCode",{parentName:"p"},"styleTag")),(0,n.kt)("p",null,"配置把 styles 插入到 DOM 中的方式。"),(0,n.kt)("p",null,"可选值："),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"styleTag")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"singletonStyleTag")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"autoStyleTag")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"lazyStyleTag")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"lazySingletonStyleTag")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"lazyAutoStyleTag")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"linkTag"))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"styletag",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"styleTag"),(0,n.kt)("a",{href:"#styletag","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"通过使用多个 ",(0,n.kt)("inlineCode",{parentName:"p"},"<style></style>")," 自动把 styles 插入到 DOM 中。该方式是默认行为。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./styles.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"使用 Locals (CSS Modules) 的例子："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component-with-css-modules.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," styles ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./styles.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," divElement ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"createElement"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'div'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\ndivElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"className ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," styles",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'my-class'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"导入的对象保存着所有的 locals (class names)。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 由于是默认行为，`injectType` 选项可以省略"),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," injectType",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'styleTag'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"此 loader 插入的 style 效果如下："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),(0,n.kt)("span",{className:"token style",parentName:"code"},(0,n.kt)("span",{className:"token language-css",parentName:"span"},"\n  ",(0,n.kt)("span",{className:"token selector",parentName:"span"},".foo")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"span"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},":")," red",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"}"),"\n")),(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"\n",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),(0,n.kt)("span",{className:"token style",parentName:"code"},(0,n.kt)("span",{className:"token language-css",parentName:"span"},"\n  ",(0,n.kt)("span",{className:"token selector",parentName:"span"},".bar")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"span"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},":")," blue",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"}"),"\n")),(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"singletonstyletag",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"singletonStyleTag"),(0,n.kt)("a",{href:"#singletonstyletag","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"通过使用一个 ",(0,n.kt)("inlineCode",{parentName:"p"},"<style></style>")," 来自动把 styles 插入到 DOM 中。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ Source map 不起作用")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./styles.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component-with-css-modules.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," styles ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./styles.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," divElement ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"createElement"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'div'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\ndivElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"className ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," styles",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'my-class'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"导入的对象保存着所有的 locals (class names)。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," injectType",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'singletonStyleTag'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"loader 插入的 styles 如下："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),(0,n.kt)("span",{className:"token style",parentName:"code"},(0,n.kt)("span",{className:"token language-css",parentName:"span"},"\n  ",(0,n.kt)("span",{className:"token selector",parentName:"span"},".foo")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"span"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},":")," red",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"}"),"\n  ",(0,n.kt)("span",{className:"token selector",parentName:"span"},".bar")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"span"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},":")," blue",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"}"),"\n")),(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"autostyletag",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"autoStyleTag"),(0,n.kt)("a",{href:"#autostyletag","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"与 ",(0,n.kt)("a",{href:"#styletag",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"styleTag"))," 相同，但是当代码在 IE6-9 中运行时，请打开 ",(0,n.kt)("a",{href:"#singletonstyletag",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"singletonStyleTag"))," 模式。"),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"lazystyletag",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"lazyStyleTag"),(0,n.kt)("a",{href:"#lazystyletag","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"在需要时使用多个 ",(0,n.kt)("inlineCode",{parentName:"p"},"<style></style>")," 把 styles 插入到 DOM 中。"),(0,n.kt)("p",null,"推荐 lazy style 遵循使用 ",(0,n.kt)("inlineCode",{parentName:"p"},".lazy.css")," 作为后缀的命名约定，",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader")," 基本用法是使用 ",(0,n.kt)("inlineCode",{parentName:"p"},".css")," 作为文件后缀（其他文件也一样，比如：",(0,n.kt)("inlineCode",{parentName:"p"},".lazy.less")," 和 ",(0,n.kt)("inlineCode",{parentName:"p"},".less"),"）。"),(0,n.kt)("p",null,"当使用 ",(0,n.kt)("inlineCode",{parentName:"p"},"lazyStyleTag")," 时，",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader")," 将惰性插入 styles，在需要使用 styles 时可以通过 ",(0,n.kt)("inlineCode",{parentName:"p"},"style.use()")," / ",(0,n.kt)("inlineCode",{parentName:"p"},"style.unuse()")," 使 style 可用。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠️ 调用 ",(0,n.kt)("inlineCode",{parentName:"p"},"unuse")," 多于 ",(0,n.kt)("inlineCode",{parentName:"p"},"use")," 时，其表现会不确定。因此，请不要这么做。")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," styles ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./styles.lazy.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nstyles",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"use"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 要移除 styles 时你可以调用"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// styles.unuse();"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component-with-css-modules.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," styles ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./styles.lazy.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nstyles",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"use"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," divElement ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"createElement"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'div'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\ndivElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"className ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," styles",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"locals",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'my-class'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"导入的对象的 ",(0,n.kt)("inlineCode",{parentName:"p"},"locals")," 属性保存着所有的 locals (class names)。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        exclude",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.lazy\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.lazy\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," injectType",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'lazyStyleTag'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"此 loader 插入的 style 效果如下："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),(0,n.kt)("span",{className:"token style",parentName:"code"},(0,n.kt)("span",{className:"token language-css",parentName:"span"},"\n  ",(0,n.kt)("span",{className:"token selector",parentName:"span"},".foo")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"span"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},":")," red",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"}"),"\n")),(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),"\n",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),(0,n.kt)("span",{className:"token style",parentName:"code"},(0,n.kt)("span",{className:"token language-css",parentName:"span"},"\n  ",(0,n.kt)("span",{className:"token selector",parentName:"span"},".bar")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"span"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},":")," blue",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"}"),"\n")),(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"lazysingletonstyletag",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"lazySingletonStyleTag"),(0,n.kt)("a",{href:"#lazysingletonstyletag","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"在必要时，使用 ",(0,n.kt)("inlineCode",{parentName:"p"},"<style></style>")," 把 style 插入的 DOM 中。"),(0,n.kt)("p",null,"推荐 lazy style 遵循使用 ",(0,n.kt)("inlineCode",{parentName:"p"},".lazy.css")," 作为后缀的命名约定，",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader")," 基本用法是使用 ",(0,n.kt)("inlineCode",{parentName:"p"},".css")," 作为文件后缀（其他文件也一样，比如：",(0,n.kt)("inlineCode",{parentName:"p"},".lazy.less")," 和 ",(0,n.kt)("inlineCode",{parentName:"p"},".less"),"）。"),(0,n.kt)("p",null,"当使用 ",(0,n.kt)("inlineCode",{parentName:"p"},"lazySingletonStyleTag")," 时，",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader")," 将惰性插入 styles，在需要使用 styles 时可以通过 ",(0,n.kt)("inlineCode",{parentName:"p"},"style.use()")," / ",(0,n.kt)("inlineCode",{parentName:"p"},"style.unuse()")," 使 style 可用。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠️ Source maps 不起作用")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠️ 调用 ",(0,n.kt)("inlineCode",{parentName:"p"},"unuse")," 多于 ",(0,n.kt)("inlineCode",{parentName:"p"},"use")," 时，其表现会不确定。因此，请不要这么做。")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," styles ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./styles.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nstyles",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"use"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 要移除 styles 时你可以调用"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// styles.unuse();"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component-with-css-modules.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," styles ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./styles.lazy.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nstyles",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"use"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," divElement ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"createElement"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'div'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\ndivElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"className ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," styles",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"locals",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'my-class'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"导入的对象的 ",(0,n.kt)("inlineCode",{parentName:"p"},"locals")," 属性保存着所有的 locals (class names)。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        exclude",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.lazy\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.lazy\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," injectType",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'lazySingletonStyleTag'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"此 loader 生成的代码如下："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),(0,n.kt)("span",{className:"token style",parentName:"code"},(0,n.kt)("span",{className:"token language-css",parentName:"span"},"\n  ",(0,n.kt)("span",{className:"token selector",parentName:"span"},".foo")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"span"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},":")," red",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"}"),"\n  ",(0,n.kt)("span",{className:"token selector",parentName:"span"},".bar")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"span"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},":")," blue",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"}"),"\n")),(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"lazyautostyletag",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"lazyAutoStyleTag"),(0,n.kt)("a",{href:"#lazyautostyletag","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"与 ",(0,n.kt)("a",{href:"#lazystyletag",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"lazyStyleTag"))," 相同，但是当代码在 IE6-9 中运行时，请打开 ",(0,n.kt)("a",{href:"#lazysingletonstyletag",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"lazySingletonStyleTag"))," 模式。"),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"linktag",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"linkTag"),(0,n.kt)("a",{href:"#linktag","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"使用多个 ",(0,n.kt)("inlineCode",{parentName:"p"},'<link rel="stylesheet" href="path/to/file.css">')," 将 styles 插入到 DOM 中。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"ℹ️ 此 loader 会在运行时使用 JavaScript 动态地插入 ",(0,n.kt)("inlineCode",{parentName:"p"},'<link href="path/to/file.css" rel="stylesheet">'),"。要静态插入 ",(0,n.kt)("inlineCode",{parentName:"p"},'<link href="path/to/file.css" rel="stylesheet">')," 时请使用",(0,n.kt)("a",{href:"/plugins/mini-css-extract-plugin/",parentName:"p"},"MiniCssExtractPlugin"),"。")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./styles.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./other-styles.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.link\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," injectType",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'linkTag'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'file-loader'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"此 loader 生成的代码如下："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"link")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"rel"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"stylesheet",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"href"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"path/to/style.css",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")),"\n",(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"link")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"rel"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"stylesheet",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"href"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"path/to/other-styles.css",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"/>")))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"attributes",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"attributes"),(0,n.kt)("a",{href:"#attributes","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Type: ",(0,n.kt)("inlineCode",{parentName:"p"},"Object"),"\nDefault: ",(0,n.kt)("inlineCode",{parentName:"p"},"{}")),(0,n.kt)("p",null,"如果配置了 ",(0,n.kt)("inlineCode",{parentName:"p"},"attributes"),"，",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader")," 将会在 ",(0,n.kt)("inlineCode",{parentName:"p"},"<style>")," / ",(0,n.kt)("inlineCode",{parentName:"p"},"<link>")," 上绑定指定的 ",(0,n.kt)("inlineCode",{parentName:"p"},"attributes")," 以及它们的值。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," style ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./file.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," attributes",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," id",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'id'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"style")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"id"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"id",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"')),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),(0,n.kt)("span",{className:"token style",parentName:"code"}),(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"insert",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"insert"),(0,n.kt)("a",{href:"#insert","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Type: ",(0,n.kt)("inlineCode",{parentName:"p"},"String|Function"),"\nDefault: ",(0,n.kt)("inlineCode",{parentName:"p"},"head")),(0,n.kt)("p",null,"默认情况下，除非指定 ",(0,n.kt)("inlineCode",{parentName:"p"},"insert"),"，否则 ",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader")," 会把 ",(0,n.kt)("inlineCode",{parentName:"p"},"<style>")," / ",(0,n.kt)("inlineCode",{parentName:"p"},"<link>")," 添加到页面的 ",(0,n.kt)("inlineCode",{parentName:"p"},"<head>")," 标签尾部。"),(0,n.kt)("p",null,"这会使得 ",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader")," 创建的 CSS 比 ",(0,n.kt)("inlineCode",{parentName:"p"},"<head>")," 标签内已经存在的 CSS 拥有更高的优先级。\n当默认行为不能满足你的需求时，你可以使用其他值，但我们不推荐这么做。"),(0,n.kt)("p",null,"如果你指定 ",(0,n.kt)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement",parentName:"p"},"iframe")," 作为插入的目标时，请确保你有足够的访问权限，styles 将会被插入到 content document 的 head 标签中。"),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"string",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"String"),(0,n.kt)("a",{href:"#string","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("h5",null,(0,n.kt)("span",{id:"selector",parentName:"h5"}),(0,n.kt)("inlineCode",{parentName:"h5"},"Selector"),(0,n.kt)("a",{href:"#selector","aria-hidden":"true",tabIndex:"-1",parentName:"h5"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"配置 styles 插入 DOM 的自定义 ",(0,n.kt)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector",parentName:"p"},"query selector"),"。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              insert",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'body'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h5",null,(0,n.kt)("span",{id:"absolutepathtofunction",parentName:"h5"}),(0,n.kt)("inlineCode",{parentName:"h5"},"Absolute path to function"),(0,n.kt)("a",{href:"#absolutepathtofunction","aria-hidden":"true",tabIndex:"-1",parentName:"h5"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"允许设置自定义函数的绝对路径，该函数能够覆盖默认行为并且能够在任意位置插入样式。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ 不要忘了这个函数会在浏览器中调用，由于不是所有浏览器都支持最新的 ECMA 特性，如：",(0,n.kt)("inlineCode",{parentName:"p"},"let"),"，",(0,n.kt)("inlineCode",{parentName:"p"},"const"),"，",(0,n.kt)("inlineCode",{parentName:"p"},"arrow function expression")," 等。我们推荐使用 ",(0,n.kt)("a",{href:"/loaders/babel-loader/",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"babel-loader"))," 以支持最新的 ECMA 特性。\n⚠ 不要忘了版本较旧的浏览器中某些 DOM 方法并不可用，所以我们推荐只使用 ",(0,n.kt)("a",{href:"https://caniuse.com/#search=dom%20core",parentName:"p"},"DOM core level 2 properties"),"，但这取决于想要支持的浏览器版本。")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              insert",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," require",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"resolve"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'modulePath'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"一个新的 ",(0,n.kt)("inlineCode",{parentName:"p"},"<style>")," 或 ",(0,n.kt)("inlineCode",{parentName:"p"},"<link>")," 元素将会被插入到 ",(0,n.kt)("inlineCode",{parentName:"p"},"body")," 标签底部。"),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"function",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"Function"),(0,n.kt)("a",{href:"#function","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"允许覆盖默认行为并把 styles 插入到任意位置。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ 不要忘了这个函数会在浏览器中调用，由于不是所有浏览器都支持最新的 ECMA 特性，如：",(0,n.kt)("inlineCode",{parentName:"p"},"let"),"，",(0,n.kt)("inlineCode",{parentName:"p"},"const"),"，",(0,n.kt)("inlineCode",{parentName:"p"},"arrow function expression")," 等，我们推荐只使用 ECMA 5 特性，但这取决于你想要支持的浏览器版本。")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ 不要忘了版本较旧的浏览器中某些 DOM 方法并不可用，所以我们推荐只使用 ",(0,n.kt)("a",{href:"https://caniuse.com/#search=dom%20core",parentName:"p"},"DOM core level 2 properties"),"，但这取决于想要支持的浏览器版本。")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"insert"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"insertAtTop"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"element"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"var")," parent ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"querySelector"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'head'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// eslint-disable-next-line no-underscore-dangle"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"var")," lastInsertedElement ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),"\n                  window",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"_lastElementInsertedByStyleLoader",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token operator",parentName:"code"},"!"),"lastInsertedElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"insertBefore"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"firstChild",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"else")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"lastInsertedElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"nextSibling",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"insertBefore"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," lastInsertedElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"nextSibling",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"else")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"appendChild"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n                ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// eslint-disable-next-line no-underscore-dangle"),"\n                window",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"_lastElementInsertedByStyleLoader ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"在 ",(0,n.kt)("inlineCode",{parentName:"p"},"head")," 标签顶部插入 styles。"),(0,n.kt)("p",null,"你可以给 ",(0,n.kt)("inlineCode",{parentName:"p"},"style.use(options)")," 传递任何参数，并且这些值会被传递给 ",(0,n.kt)("inlineCode",{parentName:"p"},"insert")," 与 ",(0,n.kt)("inlineCode",{parentName:"p"},"styleTagTransform")," 函数。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              injectType",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'lazyStyleTag'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 不要忘记这些代码会在浏览器中使用，"),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 并且不是所有的浏览器都支持 `let`、`const`、箭头函数表达式等高级 ECMA 特性。"),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 我们建议只使用 ECMA 5 特性，"),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 但是这取决于你想支持的浏览器"),"\n              ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"insert"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"insertIntoTarget"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"element",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," options"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"var")," parent ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," options",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"target ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"||")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"head",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n                parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"appendChild"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"向指定元素添加样式，没有指定时将会插入到 ",(0,n.kt)("inlineCode",{parentName:"p"},"head")," 标签中。现在你可以向 Shadow DOM 注入样式了（或者其他元素）。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"custom-square.css")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-css",parentName:"pre"},(0,n.kt)("span",{className:"token selector",parentName:"code"},"div")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},"width"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},":")," 50px",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},"height"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},":")," 50px",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},"background-color"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},":")," red",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"custom-square.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," customSquareStyles ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./custom-square.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"class")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"CustomSquare")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"extends")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"HTMLElement")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token function",parentName:"code"},"constructor"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"super"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"attachShadow"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," mode",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'open'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," divElement ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"createElement"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'div'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    divElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"textContent ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'Text content.'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"shadowRoot",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"appendChild"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"divElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    customSquareStyles",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"use"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," target",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"shadowRoot ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 你可以覆盖注入的样式"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," bgPurple ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"CSSStyleSheet"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," width ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"getAttribute"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'w'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," height ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"getAttribute"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'h'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    bgPurple",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"replace"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token template-string",parentName:"code"},(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`"),(0,n.kt)("span",{className:"token string",parentName:"span"},"div { width: "),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),"width",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token string",parentName:"span"},"px; height: "),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),"height",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token string",parentName:"span"},"px; }"),(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`")),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"shadowRoot",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"adoptedStyleSheets ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"bgPurple",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// `divElement` 将会拥有 `100px` 宽，`100px` 高和 `red` 背景颜色"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\ncustomElements",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"define"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'custom-square'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," CustomSquare",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"default")," CustomSquare",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"styletagtransform",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"styleTagTransform"),(0,n.kt)("a",{href:"#styletagtransform","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"类型：",(0,n.kt)("inlineCode",{parentName:"p"},"String | Function"),"\n默认值：",(0,n.kt)("inlineCode",{parentName:"p"},"undefined")),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"string",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"String"),(0,n.kt)("a",{href:"#string","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"允许设置自定义函数的绝对路径，该函数能够覆盖 styleTagTransform 默认行为。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ 不要忘了这个函数会在浏览器中调用，由于不是所有浏览器都支持最新的 ECMA 特性，如：",(0,n.kt)("inlineCode",{parentName:"p"},"let"),"，",(0,n.kt)("inlineCode",{parentName:"p"},"const"),"，",(0,n.kt)("inlineCode",{parentName:"p"},"arrow function expression")," 等，我们推荐只使用 ECMA 5 特性，但这取决于你想要支持的浏览器版本。")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              injectType",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'styleTag'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              styleTagTransform",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," require",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"resolve"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'module-path'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"function",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"Function"),(0,n.kt)("a",{href:"#function","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"当将 'style' 标签插入到 DOM 中时，转换标签和 css。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ 不要忘记该代码会在浏览器中使用，并且不是所有的浏览器都支持想 ",(0,n.kt)("inlineCode",{parentName:"p"},"let"),"、",(0,n.kt)("inlineCode",{parentName:"p"},"const"),"、",(0,n.kt)("inlineCode",{parentName:"p"},"箭头函数")," 等最新的 ECMA 特性，我们建议仅使用 ECMA5 特性，但这取决于你想支持什么浏览器。\n⚠ 不要忘记有一些 DOM 方法在老的浏览器中是不可用的，我们推荐只使用 ",(0,n.kt)("a",{href:"https://caniuse.com/#search=dom%20core",parentName:"p"},"DOM core level 2 properties"),"，但这取决于你想支持什么浏览器。")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              injectType",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'styleTag'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"styleTagTransform"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"css",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," style"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Do something ..."),"\n                style",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"innerHTML ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token template-string",parentName:"code"},(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`"),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),"css",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token string",parentName:"span"},".modify{}\\n"),(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`")),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n                document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"head",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"appendChild"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"style",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"base",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"base"),(0,n.kt)("a",{href:"#base","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"这个配置主要是作为使用 ",(0,n.kt)("a",{href:"https://robertknight.me.uk/posts/webpack-dll-plugins/",parentName:"p"},"DllPlugin")," 时出现 ",(0,n.kt)("a",{href:"https://github.com/webpack-contrib/style-loader/issues/163",parentName:"p"},"css clashes")," 问题时的解决方案。",(0,n.kt)("inlineCode",{parentName:"p"},"base")," 允许你通过指定一个比 ",(0,n.kt)("em",{parentName:"p"},"DllPlugin1")," 使用的 css 模块 id 大的值，来避免应用程序中的 css (或者 DllPlugin2 的 css) 被 DllPlugin1 中的 css 覆盖问题。比如："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.dll1.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.dll2.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," base",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token number",parentName:"code"},"1000")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.app.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," base",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token number",parentName:"code"},"2000")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"esmodule",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"esModule"),(0,n.kt)("a",{href:"#esmodule","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Type: ",(0,n.kt)("inlineCode",{parentName:"p"},"Boolean"),"\nDefault: ",(0,n.kt)("inlineCode",{parentName:"p"},"true")),(0,n.kt)("p",null,"默认情况下，",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader")," 生成使用 ES 模块语法的 JS 模块。在某些情况下使用 ES 模块语法更好，比如：",(0,n.kt)("a",{href:"/plugins/module-concatenation-plugin/",parentName:"p"},"module concatenation")," 和 ",(0,n.kt)("a",{href:"/guides/tree-shaking/",parentName:"p"},"tree shaking")," 时。"),(0,n.kt)("p",null,"你可以使用下面的配置启用 CommonJS 模块语法："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          esModule",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"examples",parentName:"h2"}),"示例",(0,n.kt)("a",{href:"#examples","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"recommend",parentName:"h3"}),"推荐",(0,n.kt)("a",{href:"#recommend","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"对于 ",(0,n.kt)("inlineCode",{parentName:"p"},"production")," 模式的构建，建议从你的包中提取 CSS，以便以后能够使用 CSS/JS 资源的并行加载。\n可以使用 ",(0,n.kt)("a",{href:"/plugins/mini-css-extract-plugin/",parentName:"p"},"mini-css-extract-plugin")," 实现，因为它可以创建单独的 css 文件。\n对于 ",(0,n.kt)("inlineCode",{parentName:"p"},"development")," 模式（包括 ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack-dev-server"),"），你可以使用 ",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader"),"，因为他使用多个 ",(0,n.kt)("inlineCode",{parentName:"p"},"<style></style>")," 将 CSS 插入到 DOM 中，并且运行得会更快。"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ 不要将 ",(0,n.kt)("inlineCode",{parentName:"p"},"style-loader")," 于 ",(0,n.kt)("inlineCode",{parentName:"p"},"mini-css-extract-plugin")," 一起使用。")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," MiniCssExtractPlugin ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'mini-css-extract-plugin'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," devMode ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," process",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"env",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token constant",parentName:"code"},"NODE_ENV")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"!==")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'production'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.(sa|sc|c)ss$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          devMode ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"?")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," MiniCssExtractPlugin",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"loader",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'postcss-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'sass-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"concat"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"devMode ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"?")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"MiniCssExtractPlugin"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"namedexportforcssmodules",parentName:"h3"}),"Named export for CSS Modules",(0,n.kt)("a",{href:"#namedexportforcssmodules","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ 本地命名导出时，会将其名称转换为 ",(0,n.kt)("inlineCode",{parentName:"p"},"camelCase")," 的形式。")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ 并且不允许在 css 的 class 名中使用 JavaScript 的保留字。")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ 在 ",(0,n.kt)("inlineCode",{parentName:"p"},"css-loader")," 中，应启用 ",(0,n.kt)("inlineCode",{parentName:"p"},"esModule")," 和 ",(0,n.kt)("inlineCode",{parentName:"p"},"modules.namedExport")," 配置项。")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"styles.css")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-css",parentName:"pre"},(0,n.kt)("span",{className:"token selector",parentName:"code"},".foo-baz")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},":")," red",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,n.kt)("span",{className:"token selector",parentName:"code"},".bar")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},":")," blue",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"index.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," fooBaz",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," bar ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./styles.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nconsole",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"log"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"fooBaz",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," bar",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"你可以使用如下方法为 ES 模块启用命名导出功能："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              modules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                namedExport",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"sourcemap",parentName:"h3"}),"Source maps",(0,n.kt)("a",{href:"#sourcemap","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"因此，想要生成 source map，则需将 style-loader 之前执行 loader 的 ",(0,n.kt)("inlineCode",{parentName:"p"},"sourceMap")," 选项设置为",(0,n.kt)("inlineCode",{parentName:"p"},"true"),"。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," sourceMap",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"nonce",parentName:"h3"}),"Nonce",(0,n.kt)("a",{href:"#nonce","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"有两种方式使用 ",(0,n.kt)("inlineCode",{parentName:"p"},"nonce"),"："),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"使用 ",(0,n.kt)("inlineCode",{parentName:"li"},"attributes")," 选项"),(0,n.kt)("li",{parentName:"ul"},"使用 ",(0,n.kt)("inlineCode",{parentName:"li"},"__webpack_nonce__")," 变量")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"⚠ ",(0,n.kt)("inlineCode",{parentName:"p"},"attributes")," 拥有比 ",(0,n.kt)("inlineCode",{parentName:"p"},"__webpack_nonce__")," 更高的优先级")),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"attributes",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"attributes"),(0,n.kt)("a",{href:"#attributes","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./style.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              attributes",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                nonce",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'12345678'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"此 loader 生成代码如下："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"style")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"nonce"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"12345678",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"')),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),(0,n.kt)("span",{className:"token style",parentName:"code"},(0,n.kt)("span",{className:"token language-css",parentName:"span"},"\n  ",(0,n.kt)("span",{className:"token selector",parentName:"span"},".foo")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"span"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},":")," red",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"}"),"\n")),(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"webpack_nonce",parentName:"h4"}),"webpack_nonce",(0,n.kt)("a",{href:"#webpack_nonce","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"create-nonce.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"__webpack_nonce__ ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'12345678'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./create-nonce.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./style.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"使用 ",(0,n.kt)("inlineCode",{parentName:"p"},"require")," 的示例："),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"component.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"__webpack_nonce__ ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'12345678'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'./style.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"此 loader 生成代码如下："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"style")," ",(0,n.kt)("span",{className:"token attr-name",parentName:"span"},"nonce"),(0,n.kt)("span",{className:"token attr-value",parentName:"span"},(0,n.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"12345678",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},'"')),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")),(0,n.kt)("span",{className:"token style",parentName:"code"},(0,n.kt)("span",{className:"token language-css",parentName:"span"},"\n  ",(0,n.kt)("span",{className:"token selector",parentName:"span"},".foo")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"span"},"color"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},":")," red",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"}"),"\n")),(0,n.kt)("span",{className:"token tag",parentName:"code"},(0,n.kt)("span",{className:"token tag",parentName:"span"},(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"</"),"style"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},">")))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"insert-styles-at-top",parentName:"h4"}),"Insert styles at top",(0,n.kt)("a",{href:"#insert-styles-at-top","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"在 ",(0,n.kt)("inlineCode",{parentName:"p"},"head")," 标签顶部插入 style。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"insert"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"insertAtTop"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"element"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"var")," parent ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"querySelector"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'head'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"var")," lastInsertedElement ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),"\n                  window",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"_lastElementInsertedByStyleLoader",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token operator",parentName:"code"},"!"),"lastInsertedElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"insertBefore"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"firstChild",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"else")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"lastInsertedElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"nextSibling",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"insertBefore"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," lastInsertedElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"nextSibling",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"else")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"appendChild"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n                window",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"_lastElementInsertedByStyleLoader ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"insert-styles-before-target-element",parentName:"h4"}),"在目标元素前插入 style",(0,n.kt)("a",{href:"#insert-styles-before-target-element","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"在 ",(0,n.kt)("inlineCode",{parentName:"p"},"#id")," 元素前面插入 style。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"insert"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"insertBeforeAt"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"element"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," parent ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"querySelector"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'head'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," target ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"querySelector"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'#id'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," lastInsertedElement ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),"\n                  window",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"_lastElementInsertedByStyleLoader",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token operator",parentName:"code"},"!"),"lastInsertedElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"insertBefore"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," target",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"else")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"lastInsertedElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"nextSibling",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"insertBefore"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," lastInsertedElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"nextSibling",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"else")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"appendChild"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n                ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n                window",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"_lastElementInsertedByStyleLoader ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"customelements",parentName:"h4"}),"Custom Elements (Shadow DOM)",(0,n.kt)("a",{href:"#customelements","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"你可以为 ",(0,n.kt)("inlineCode",{parentName:"p"},"lazyStyleTag")," 类型定义自定义目标。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              injectType",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'lazyStyleTag'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 不要忘记这些代码会在浏览器中使用，"),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 并且不是所有的浏览器都支持 `let`、`const`、箭头函数表达式等高级 ECMA 特性。"),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 我们建议只使用 ECMA 5 特性，"),"\n              ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 但是这取决于你想支持的浏览器"),"\n              ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"insert"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"insertIntoTarget"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"element",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," options"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"var")," parent ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," options",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"target ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"||")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"head",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n                parent",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"appendChild"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"element",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n              ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"向指定元素添加样式，没有指定时将会插入到 ",(0,n.kt)("inlineCode",{parentName:"p"},"head")," 标签中。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"custom-square.css")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-css",parentName:"pre"},(0,n.kt)("span",{className:"token selector",parentName:"code"},"div")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},"width"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},":")," 50px",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},"height"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},":")," 50px",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},"background-color"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},":")," red",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"custom-square.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," customSquareStyles ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./custom-square.css'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"class")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"CustomSquare")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"extends")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"HTMLElement")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token function",parentName:"code"},"constructor"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"super"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"attachShadow"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," mode",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'open'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," divElement ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"createElement"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'div'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    divElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"textContent ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'Text content.'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"shadowRoot",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"appendChild"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"divElement",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    customSquareStyles",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"use"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," target",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"shadowRoot ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// 你可以覆盖注入的样式"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," bgPurple ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"CSSStyleSheet"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," width ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"getAttribute"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'w'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," height ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"getAttribute"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'h'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    bgPurple",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"replace"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token template-string",parentName:"code"},(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`"),(0,n.kt)("span",{className:"token string",parentName:"span"},"div { width: "),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),"width",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token string",parentName:"span"},"px; height: "),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),"height",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token string",parentName:"span"},"px; }"),(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`")),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"shadowRoot",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"adoptedStyleSheets ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"bgPurple",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n    ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// `divElement` 将会拥有 `100px` 宽，`100px` 高和 `red` 背景颜色"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\ncustomElements",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"define"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'custom-square'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," CustomSquare",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"default")," CustomSquare",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"contributing",parentName:"h2"}),"Contributing",(0,n.kt)("a",{href:"#contributing","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Please take a moment to read our contributing guidelines if you haven't yet done so."),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/webpack-contrib/style-loader/blob/master/.github/CONTRIBUTING.md",parentName:"p"},"CONTRIBUTING")),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"license",parentName:"h2"}),"License",(0,n.kt)("a",{href:"#license","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/webpack-contrib/style-loader/blob/master/LICENSE",parentName:"p"},"MIT")))}p.isMDXComponent=!0,e.default=p}}]);