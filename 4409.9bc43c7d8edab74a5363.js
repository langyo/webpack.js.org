"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4409],{4409:function(e,a,n){n.r(a),n(7378);var t=n(2682);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},p.apply(this,arguments)}const o=("Badge",e=>(console.warn("Component `%s` was not imported, exported, or provided by MDXProvider as global scope","Badge"),(0,t.kt)(t.kt.Fragment,null,e.children)));function s(e){let{components:a,...n}=e;return(0,t.kt)("wrapper",p({components:a},n),(0,t.kt)("p",null,"这些选项决定了如何处理项目中的",(0,t.kt)("a",{href:"/concepts/modules",parentName:"p"},"不同类型的模块"),"。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"modulegenerator",parentName:"h2"}),"module.generator",(0,t.kt)("a",{href:"#modulegenerator","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)(o,{text:"5.12.0+",mdxType:"Badge"}),(0,t.kt)("p",null,"可以使用 ",(0,t.kt)("inlineCode",{parentName:"p"},"module.generator")," 在一个地方配置所有生成器的选项。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    generator",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      asset",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// asseet 模块的 generator 选项"),"\n\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 自定义 asset 模块的 publicPath，自 webpack 5.28.0 起可用"),"\n        publicPath",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'assets/'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 将静态资源输出到相对于 'output.path' 的指定文件夹中，webpack 5.67.0 后可用"),"\n        outputPath",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'cdn-assets/'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/inline'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// asset/内联模块的 generator 选项"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// asset/资源模块的 generator 选项"),"\n\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 自定义 asset/resource 模块的 publicPath，自 webpack 5.28.0 起可用"),"\n        publicPath",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'assets/'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 将静态资源输出到相对于 'output.path' 的指定文件夹中，webpack 5.67.0 后可用"),"\n        outputPath",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'cdn-assets/'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 该模块类型尚不支持 generator 选项"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'javascript/auto'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 同上"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'javascript/dynamic'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 同上"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'javascript/esm'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 同上"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 其他..."),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"moduleparser",parentName:"h2"}),"module.parser",(0,t.kt)("a",{href:"#moduleparser","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)(o,{text:"5.12.0+",mdxType:"Badge"}),(0,t.kt)("p",null,"类似于 ",(0,t.kt)("a",{href:"#modulegenerator",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"module.generator")),"，你可以用 ",(0,t.kt)("inlineCode",{parentName:"p"},"module.parser")," 在一个地方配置所有解析器的选项。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      asset",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 资产模块的 parser 选项"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/inline'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 该模块类型尚不支持 parser 选项"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 同上"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/source'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 同上"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// javascript 模块的解析器选项"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 例如，启用解析 require.ensure 语法的功能"),"\n        requireEnsure",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'javascript/auto'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 同上"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'javascript/dynamic'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 同上"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'javascript/esm'"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 同上"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 其他..."),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"moduleparserjavascript",parentName:"h3"}),"module.parser.javascript",(0,t.kt)("a",{href:"#moduleparserjavascript","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"JavaScript parser 的配置项。"),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n        commonjsMagicComments",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"允许在 ",(0,t.kt)("a",{href:"/configuration/module/#ruleparser",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Rule.parser"))," 中配置这些选项。也可以是特定模块。"),(0,t.kt)("h4",null,(0,t.kt)("span",{id:"moduleparserjavascriptcommonjsmagiccomments",parentName:"h4"}),"module.parser.javascript.commonjsMagicComments",(0,t.kt)("a",{href:"#moduleparserjavascriptcommonjsmagiccomments","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"为 CommonJS 启用 ",(0,t.kt)("a",{href:"/api/module-methods/#magic-comments",parentName:"p"},"魔法注释"),"。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"},"boolean"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"可用版本：5.17.0+")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例："),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        commonjsMagicComments",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("p",null,"请注意，目前只支持 ",(0,t.kt)("inlineCode",{parentName:"p"},"webpackIgnore")," 注释："),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"const")," x ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"require"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token comment",parentName:"code"},"/* webpackIgnore: true */")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'x'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h4",null,(0,t.kt)("span",{id:"moduleparserjavascriptdynamicImportMode",parentName:"h4"}),"module.parser.javascript.dynamicImportMode",(0,t.kt)("a",{href:"#moduleparserjavascriptdynamicImportMode","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"指定动态导入的全局模式。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"},"'eager' | 'weak' | 'lazy' | 'lazy-once'"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"可用版本：5.73.0+")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例："),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        dynamicImportMode",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'lazy'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("h4",null,(0,t.kt)("span",{id:"moduleparserjavascriptdynamicImportPrefetch",parentName:"h4"}),"module.parser.javascript.dynamicImportPrefetch",(0,t.kt)("a",{href:"#moduleparserjavascriptdynamicImportPrefetch","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"指定动态导入的全局 prefetch。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"}," number | boolean"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"可用版本：5.73.0+")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例："),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        dynamicImportPrefetch",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("h4",null,(0,t.kt)("span",{id:"moduleparserjavascriptdynamicImportPreload",parentName:"h4"}),"module.parser.javascript.dynamicImportPreload",(0,t.kt)("a",{href:"#moduleparserjavascriptdynamicImportPreload","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"指定动态导入的全局 preload。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"}," number | boolean"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"可用版本：5.73.0+")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例："),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        dynamicImportPreload",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("h4",null,(0,t.kt)("span",{id:"moduleparserjavascriptexportsPresence",parentName:"h4"}),"module.parser.javascript.exportsPresence",(0,t.kt)("a",{href:"#moduleparserjavascriptexportsPresence","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"指出在 ",(0,t.kt)("inlineCode",{parentName:"p"},'\\"import ... from ...\\"')," 与 ",(0,t.kt)("inlineCode",{parentName:"p"},'\\"export ... from ...\\"')," 中无效导出名称的行为。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"},"'error' | 'warn' | 'auto' | false"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"可用版本：5.62.0+")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例："),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        exportsPresence",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'error'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("h4",null,(0,t.kt)("span",{id:"moduleparserjavascriptimportexportspresence",parentName:"h4"}),"module.parser.javascript.importExportsPresence",(0,t.kt)("a",{href:"#moduleparserjavascriptimportexportspresence","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"指出在 ",(0,t.kt)("inlineCode",{parentName:"p"},'\\"import ... from ...\\"')," 中无效导出名称的行为。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"},"'error' | 'warn' | 'auto' | false"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"可用版本：5.62.0+")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例："),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        importExportsPresence",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'error'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("h4",null,(0,t.kt)("span",{id:"moduleparserjavascriptimportMeta",parentName:"h4"}),"module.parser.javascript.importMeta",(0,t.kt)("a",{href:"#moduleparserjavascriptimportMeta","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"Enable or disable evaluating ",(0,t.kt)("inlineCode",{parentName:"p"},"import.meta"),"."),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"},"boolean = true"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"可用版本：5.68.0+")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例："),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        importMeta",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("h4",null,(0,t.kt)("span",{id:"moduleparserjavascriptimportMetaContext",parentName:"h4"}),"module.parser.javascript.importMetaContext",(0,t.kt)("a",{href:"#moduleparserjavascriptimportMetaContext","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"启用/禁用 ",(0,t.kt)("a",{href:"/api/module-variables/#importmetawebpackContext",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"import.meta.webpackContext"))," 分析。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"},"boolean"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"可用版本：5.70.0+")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例："),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        importMetaContext",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("h4",null,(0,t.kt)("span",{id:"moduleparserjavascriptreexportExportsPresence",parentName:"h4"}),"module.parser.javascript.reexportExportsPresence",(0,t.kt)("a",{href:"#moduleparserjavascriptreexportExportsPresence","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"指出在 ",(0,t.kt)("inlineCode",{parentName:"p"},'\\"export ... from ...\\"')," 中无效导出名称的行为。当在 TypeScript 重新导出类型，从 ",(0,t.kt)("inlineCode",{parentName:"p"},'\\"export ... from ...\\"')," 迁移到 ",(0,t.kt)("inlineCode",{parentName:"p"},'\\"export type ... from ...\\"')," 时禁用该配置项是有用的。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"},"'error' | 'warn' | 'auto' | false"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"可用版本：5.62.0+")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例："),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        reexportExportsPresence",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'error'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("h4",null,(0,t.kt)("span",{id:"moduleparserjavascripturl",parentName:"h4"}),"module.parser.javascript.url",(0,t.kt)("a",{href:"#moduleparserjavascripturl","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"启用 ",(0,t.kt)("inlineCode",{parentName:"p"},"new URL()")," 语法解析。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"},"boolean = true")," | ",(0,t.kt)("inlineCode",{parentName:"p"},"'relative'"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例:"),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      javascript",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        url",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// disable parsing of `new URL()` syntax"),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("p",null,"自 webpack ",(0,t.kt)(o,{text:"5.23.0",parentName:"p",mdxType:"Badge"})," 起，",(0,t.kt)("inlineCode",{parentName:"p"},"module.parser.javascript.url")," 的 ",(0,t.kt)("inlineCode",{parentName:"p"},"'relative'")," 值可用。当使用 ",(0,t.kt)("inlineCode",{parentName:"p"},"'relative'")," 时，webpack 将为 ",(0,t.kt)("inlineCode",{parentName:"p"},"new URL()")," 语法生成相对的 URL，即结果 URL 中不包含根 URL："),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-html",parentName:"pre"},(0,t.kt)("span",{className:"token comment",parentName:"code"},"\x3c!-- with 'relative' --\x3e"),"\n",(0,t.kt)("span",{className:"token tag",parentName:"code"},(0,t.kt)("span",{className:"token tag",parentName:"span"},(0,t.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"img")," ",(0,t.kt)("span",{className:"token attr-name",parentName:"span"},"src"),(0,t.kt)("span",{className:"token attr-value",parentName:"span"},(0,t.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,t.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"c43188443804f1b1f534.svg",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},"/>")),"\n\n",(0,t.kt)("span",{className:"token comment",parentName:"code"},"\x3c!-- without 'relative' --\x3e"),"\n",(0,t.kt)("span",{className:"token tag",parentName:"code"},(0,t.kt)("span",{className:"token tag",parentName:"span"},(0,t.kt)("span",{className:"token punctuation",parentName:"span"},"<"),"img")," ",(0,t.kt)("span",{className:"token attr-name",parentName:"span"},"src"),(0,t.kt)("span",{className:"token attr-value",parentName:"span"},(0,t.kt)("span",{className:"token punctuation attr-equals",parentName:"span"},"="),(0,t.kt)("span",{className:"token punctuation",parentName:"span"},'"'),"file:///path/to/project/dist/c43188443804f1b1f534.svg",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},'"'))," ",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},"/>")))),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"当服务器不知道根 URL 时，这对 SSR（服务端渲染）很有用（而且可用节省一些字节）。为了使其相同，它也必须用于客户端构建。"),(0,t.kt)("li",{parentName:"ol"},"这也适用于 SSG（静态网站生成器），mini-css-plugin 和 html-plugin 等通常需要进行服务端渲染。")),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"modulenoparse",parentName:"h2"}),"module.noParse",(0,t.kt)("a",{href:"#modulenoparse","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"RegExp")," ",(0,t.kt)("inlineCode",{parentName:"p"},"[RegExp]")," ",(0,t.kt)("inlineCode",{parentName:"p"},"function(resource)")," ",(0,t.kt)("inlineCode",{parentName:"p"},"string")," ",(0,t.kt)("inlineCode",{parentName:"p"},"[string]")),(0,t.kt)("p",null,"防止 webpack 解析那些任何与给定正则表达式相匹配的文件。忽略的文件中 ",(0,t.kt)("strong",{parentName:"p"},"不应该含有")," ",(0,t.kt)("inlineCode",{parentName:"p"},"import"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"require"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"define")," 的调用，或任何其他导入机制。忽略大型的 library 可以提高构建性能。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    noParse",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/jquery|lodash/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,t.kt)("span",{className:"token function-variable function",parentName:"code"},"noParse"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"content"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/jquery|lodash/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"test"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"moduleunsafecache",parentName:"h2"}),"module.unsafeCache",(0,t.kt)("a",{href:"#moduleunsafecache","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"boolean")," ",(0,t.kt)("inlineCode",{parentName:"p"},"function (module)")),(0,t.kt)("p",null,"缓存模块请求的解析。",(0,t.kt)("inlineCode",{parentName:"p"},"module.unsafeCache")," 包含如下几个默认值："),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"如果 ",(0,t.kt)("a",{href:"/configuration/cache",parentName:"li"},(0,t.kt)("inlineCode",{parentName:"a"},"cache"))," 未被启用，则默认值为 ",(0,t.kt)("inlineCode",{parentName:"li"},"false"),"。"),(0,t.kt)("li",{parentName:"ul"},"如果 ",(0,t.kt)("a",{href:"/configuration/cache",parentName:"li"},(0,t.kt)("inlineCode",{parentName:"a"},"cache"))," 被启用，并且此模块的来自 node_modules，则值为 ",(0,t.kt)("inlineCode",{parentName:"li"},"true"),"，否则为 ",(0,t.kt)("inlineCode",{parentName:"li"},"false"),"。")),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    unsafeCache",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"modulerules",parentName:"h2"}),"module.rules",(0,t.kt)("a",{href:"#modulerules","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"[Rule]")),(0,t.kt)("p",null,"创建模块时，匹配请求的",(0,t.kt)("a",{href:"#rule",parentName:"p"},"规则"),"数组。这些规则能够修改模块的创建方式。\n这些规则能够对模块(module)应用 loader，或者修改解析器(parser)。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"rule",parentName:"h2"}),"Rule",(0,t.kt)("a",{href:"#rule","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"object")),(0,t.kt)("p",null,"每个规则可以分为三部分 - 条件(condition)，结果(result)和嵌套规则(nested rule)。"),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"rule-conditions",parentName:"h3"}),"Rule 条件",(0,t.kt)("a",{href:"#rule-conditions","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"条件有两种输入值："),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"resource：资源文件的绝对路径。它已经根据 ",(0,t.kt)("a",{href:"/configuration/resolve",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"resolve")," 规则"),"解析。")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"issuer: 请求者的文件绝对路径。是导入时的位置。"))),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"例如：")," 从 ",(0,t.kt)("inlineCode",{parentName:"p"},"app.js")," ",(0,t.kt)("inlineCode",{parentName:"p"},"导入 './style.css'"),"，resource 是 ",(0,t.kt)("inlineCode",{parentName:"p"},"/path/to/style.css"),". issuer 是 ",(0,t.kt)("inlineCode",{parentName:"p"},"/path/to/app.js"),"。"),(0,t.kt)("p",null,"在规则中，属性 ",(0,t.kt)("a",{href:"#ruletest",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"test")),", ",(0,t.kt)("a",{href:"#ruleinclude",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"include")),", ",(0,t.kt)("a",{href:"#ruleexclude",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"exclude"))," 和 ",(0,t.kt)("a",{href:"#ruleresource",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"resource"))," 对 resource 匹配，并且属性 ",(0,t.kt)("a",{href:"#ruleissuer",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"issuer"))," 对 issuer 匹配。"),(0,t.kt)("p",null,"当使用多个条件时，所有条件都匹配。"),(0,t.kt)("aside",{className:"warning"},(0,t.kt)("h6",{className:"warning__prefix",parentName:"aside"},"警告"),(0,t.kt)("p",{parentName:"aside"},"小心！resource 是文件的 ",(0,t.kt)("em",{parentName:"p"},"解析")," 路径，这意味着符号链接的资源是真正的路径，",(0,t.kt)("em",{parentName:"p"},"而不是")," 符号链接位置。\n在使用工具来符号链接包的时候（如 ",(0,t.kt)("inlineCode",{parentName:"p"},"npm link"),"）比较好记，像 ",(0,t.kt)("inlineCode",{parentName:"p"},"/node_modules/")," 等常见条件可能会不小心错过符号链接的文件。\n注意，可以通过 ",(0,t.kt)("a",{href:"/configuration/resolve#resolve-symlinks",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"resolve.symlinks")),"\n关闭符号链接解析（以便将资源解析为符号链接路径）。")),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"rule-results",parentName:"h3"}),"Rule 结果",(0,t.kt)("a",{href:"#rule-results","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"规则结果只在规则条件匹配时使用。"),(0,t.kt)("p",null,"规则有两种输入值："),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"应用的 loader：应用在 resource 上的 loader 数组。"),(0,t.kt)("li",{parentName:"ol"},"Parser 选项：用于为模块创建解析器的选项对象。")),(0,t.kt)("p",null,"这些属性会影响 loader：",(0,t.kt)("a",{href:"#ruleloader",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"loader")),", ",(0,t.kt)("a",{href:"#ruleoptions--rulequery",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"options")),", ",(0,t.kt)("a",{href:"#ruleuse",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"use")),"。"),(0,t.kt)("p",null,"也兼容这些属性：",(0,t.kt)("a",{href:"#ruleoptions--rulequery",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"query")),", ",(0,t.kt)("a",{href:"#ruleloaders",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"loaders")),"。"),(0,t.kt)("p",null,(0,t.kt)("a",{href:"#ruleenforce",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"enforce"))," 属性会影响 loader 种类。不论是普通的，前置的，后置的 loader。"),(0,t.kt)("p",null,(0,t.kt)("a",{href:"#ruleparser",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"parser"))," 属性会影响 parser 选项。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"nested-rules",parentName:"h2"}),"嵌套的 Rule",(0,t.kt)("a",{href:"#nested-rules","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"可以使用属性 ",(0,t.kt)("a",{href:"#rulerules",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"rules"))," 和 ",(0,t.kt)("a",{href:"#ruleoneof",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"oneOf"))," 指定嵌套规则。"),(0,t.kt)("p",null,"这些规则用于在规则条件(rule condition)匹配时进行取值。每个嵌套规则包含它自己的条件。"),(0,t.kt)("p",null,"被解析的顺序基于以下规则："),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"父规则"),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("a",{href:"#rulerules",parentName:"li"},(0,t.kt)("inlineCode",{parentName:"a"},"rules"))),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("a",{href:"#ruleoneof",parentName:"li"},(0,t.kt)("inlineCode",{parentName:"a"},"oneOf")))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleenforce",parentName:"h2"}),"Rule.enforce",(0,t.kt)("a",{href:"#ruleenforce","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"string")),(0,t.kt)("p",null,"可能的值有：",(0,t.kt)("inlineCode",{parentName:"p"},'"pre" | "post"')),(0,t.kt)("p",null,"指定 loader 种类。没有值表示是普通 loader。"),(0,t.kt)("p",null,'还有一个额外的种类"行内 loader"，loader 被应用在 import/require 行内。'),(0,t.kt)("p",null,"所有一个接一个地进入的 loader，都有两个阶段："),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("strong",{parentName:"li"},"Pitching")," 阶段: loader 上的 pitch 方法，按照 ",(0,t.kt)("inlineCode",{parentName:"li"},"后置(post)、行内(inline)、普通(normal)、前置(pre)")," 的顺序调用。更多详细信息，请查看 ",(0,t.kt)("a",{href:"/api/loaders/#pitching-loader",parentName:"li"},"Pitching Loader"),"。"),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("strong",{parentName:"li"},"Normal")," 阶段: loader 上的 常规方法，按照 ",(0,t.kt)("inlineCode",{parentName:"li"},"前置(pre)、普通(normal)、行内(inline)、后置(post)")," 的顺序调用。模块源码的转换，\n发生在这个阶段。")),(0,t.kt)("p",null,"所有普通 loader 可以通过在请求中加上 ",(0,t.kt)("inlineCode",{parentName:"p"},"!")," 前缀来忽略（覆盖）。"),(0,t.kt)("p",null,"所有普通和前置 loader 可以通过在请求中加上 ",(0,t.kt)("inlineCode",{parentName:"p"},"-!")," 前缀来忽略（覆盖）。"),(0,t.kt)("p",null,"所有普通，后置和前置 loader 可以通过在请求中加上 ",(0,t.kt)("inlineCode",{parentName:"p"},"!!")," 前缀来忽略（覆盖）。"),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用普通 loaders"),"\n",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{")," a ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'!./file1.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用前置和普通 loaders"),"\n",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{")," b ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'-!./file2.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用所有的 loaders"),"\n",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{")," c ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'!!./file3.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"不应使用内联 loader 和 ",(0,t.kt)("inlineCode",{parentName:"p"},"!")," 前缀，因为它是非标准的。它们可能会被 loader 生成代码使用。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleexclude",parentName:"h2"}),"Rule.exclude",(0,t.kt)("a",{href:"#ruleexclude","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"排除所有符合条件的模块。如果你提供了 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.exclude")," 选项，就不能再提供 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.resource"),"。详细请查看 ",(0,t.kt)("a",{href:"#ruleresource",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Rule.resource"))," 和 ",(0,t.kt)("a",{href:"#condition",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Condition.exclude")),"。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleinclude",parentName:"h2"}),"Rule.include",(0,t.kt)("a",{href:"#ruleinclude","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"引入符合以下任何条件的模块。如果你提供了 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.include")," 选项，就不能再提供 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.resource"),"。详细请查看 ",(0,t.kt)("a",{href:"#ruleresource",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Rule.resource"))," 和 ",(0,t.kt)("a",{href:"#condition",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Condition.include")),"。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleissuer",parentName:"h2"}),"Rule.issuer",(0,t.kt)("a",{href:"#ruleissuer","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"一个",(0,t.kt)("a",{href:"#condition",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"条件")),"，用来与被发出的 request 对应的模块项匹配。在以下示例中，",(0,t.kt)("inlineCode",{parentName:"p"},"a.js")," request 的",(0,t.kt)("inlineCode",{parentName:"p"},"发出者(issuer)"),"\n是 index.js 文件的路径。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"index.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,t.kt)("span",{className:"token constant",parentName:"code"},"A")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'./a.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"这个选项可以用来将 loader 应用到一个特定模块或一组模块的依赖中。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleissuerlayer",parentName:"h2"}),"Rule.issuerLayer",(0,t.kt)("a",{href:"#ruleissuerlayer","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"允许按 issuer 的 layer 进行过滤/匹配。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        issuerLayer",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'other-layer'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"rulelayer",parentName:"h2"}),"Rule.layer",(0,t.kt)("a",{href:"#rulelayer","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"string")),(0,t.kt)("p",null,"指定模块应放置在哪个 layer。一组模块可以统一在一个 layer 中，然后可以被用在 ",(0,t.kt)("a",{href:"/plugins/split-chunks-plugin/#splitchunkslayer",parentName:"p"},"split chunks"),"、",(0,t.kt)("a",{href:"/configuration/stats/#statsgroupmodulesbylayer",parentName:"p"},"stats")," 或者 ",(0,t.kt)("a",{href:"/configuration/entry-context/#entry-descriptor",parentName:"p"},"entry options"),"。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/module-layer-change/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        layer",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'layer'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleloader",parentName:"h2"}),"Rule.loader",(0,t.kt)("a",{href:"#ruleloader","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"Rule.loader")," 是 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.use: [ { loader } ]")," 的简写。详细请查看 ",(0,t.kt)("a",{href:"#ruleuse",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Rule.use"))," 和 ",(0,t.kt)("a",{href:"#useentry",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"UseEntry.loader")),"。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleloaders",parentName:"h2"}),"Rule.loaders",(0,t.kt)("a",{href:"#ruleloaders","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("aside",{className:"warning"},(0,t.kt)("h6",{className:"warning__prefix",parentName:"aside"},"警告"),(0,t.kt)("p",{parentName:"aside"},"由于需要支持 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.use"),"，此选项 ",(0,t.kt)("strong",{parentName:"p"},"已废弃"),"。")),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"Rule.loaders")," 是 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.use")," 的别名。详细请查看 ",(0,t.kt)("a",{href:"#ruleuse",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Rule.use")),"。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"rulemimetype",parentName:"h2"}),"Rule.mimetype",(0,t.kt)("a",{href:"#rulemimetype","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"你可以使用 ",(0,t.kt)("inlineCode",{parentName:"p"},"mimetype")," 使 rules 配置与 data 的 uri 进行匹配。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        mimetype",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'application/json'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'json'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"mimetype 已默认包含了 ",(0,t.kt)("inlineCode",{parentName:"p"},"application/json"),"，",(0,t.kt)("inlineCode",{parentName:"p"},"text/javascript"),"，",(0,t.kt)("inlineCode",{parentName:"p"},"application/javascript"),"，",(0,t.kt)("inlineCode",{parentName:"p"},"application/node")," 以及 ",(0,t.kt)("inlineCode",{parentName:"p"},"application/wasm"),"。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleoneof",parentName:"h2"}),"Rule.oneOf",(0,t.kt)("a",{href:"#ruleoneof","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("a",{href:"#rule",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"规则")),"数组，当规则匹配时，只使用第一个匹配规则。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        oneOf",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            resourceQuery",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/inline/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// foo.css?inline"),"\n            use",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'url-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            resourceQuery",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/external/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// foo.css?external"),"\n            use",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'file-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{className:"tip__prefix",parentName:"aside"},"提示"),(0,t.kt)("p",{parentName:"aside"},"详情请参阅 ",(0,t.kt)("a",{href:"#nested-rules",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"嵌套规则")),"。")),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleoptions--rulequery",parentName:"h2"}),"Rule.options / Rule.query",(0,t.kt)("a",{href:"#ruleoptions--rulequery","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"Rule.options")," 和 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.query")," 是 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.use: [ { options } ]")," 的简写。详细请查看 ",(0,t.kt)("a",{href:"#ruleuse",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Rule.use")),"\n和 ",(0,t.kt)("a",{href:"#useentry",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"UseEntry.options")),"。"),(0,t.kt)("aside",{className:"warning"},(0,t.kt)("h6",{className:"warning__prefix",parentName:"aside"},"警告"),(0,t.kt)("p",{parentName:"aside"},"由于需要支持 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.options"),"，",(0,t.kt)("inlineCode",{parentName:"p"},"UseEntry.options")," 以及 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.use"),"，因此 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.query")," 已废弃。")),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleparser",parentName:"h2"}),"Rule.parser",(0,t.kt)("a",{href:"#ruleparser","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"解析选项对象。所有应用的解析选项都将合并。"),(0,t.kt)("p",null,"解析器(parser)可以查阅这些选项，并相应地禁用或重新配置。大多数默认插件，\n会如下解释值："),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"将选项设置为 ",(0,t.kt)("inlineCode",{parentName:"li"},"false"),"，将禁用解析器。"),(0,t.kt)("li",{parentName:"ul"},"将选项设置为 ",(0,t.kt)("inlineCode",{parentName:"li"},"true"),"，或不修改将其保留为 ",(0,t.kt)("inlineCode",{parentName:"li"},"undefined"),"，可以启用解析器。")),(0,t.kt)("p",null,"然而，一些解析器(parser)插件可能不光只接收一个布尔值。例如，内部的 ",(0,t.kt)("inlineCode",{parentName:"p"},"NodeStuffPlugin")," 插件，可以接收一个对象，而不是 ",(0,t.kt)("inlineCode",{parentName:"p"},"true"),"，\n来为特定的规则添加额外的选项。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"示例"),"（默认的插件解析器选项）："),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n        parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          amd",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用 AMD"),"\n          commonjs",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用 CommonJS"),"\n          system",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用 SystemJS"),"\n          harmony",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用 ES2015 Harmony import/export"),"\n          requireInclude",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用 require.include"),"\n          requireEnsure",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用 require.ensure"),"\n          requireContext",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用 require.context"),"\n          browserify",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用特殊处理的 browserify bundle"),"\n          requireJs",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用 requirejs.*"),"\n          node",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用 __dirname, __filename, module, require.extensions, require.main, 等。"),"\n          commonjsMagicComments",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 禁用对 CommonJS 的  magic comments 支持"),"\n          node",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// 在模块级别(module level)上重新配置 node 层(layer)"),"\n          worker",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,t.kt)("span",{className:"token string",parentName:"code"},"'default from web-worker'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'...'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},'// 自定义 WebWorker 对 JavaScript 的处理，其中 "..." 为默认值。'),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"如果 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.type")," 的值为 ",(0,t.kt)("inlineCode",{parentName:"p"},"asset"),"，那么 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rules.parser")," 选项可能是一个对象或一个函数，其作用可能是将文件内容编码为 Base64，还可能是将其当做单独文件 emit 到输出目录。"),(0,t.kt)("p",null,"如果 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.type")," 的值为 ",(0,t.kt)("inlineCode",{parentName:"p"},"asset")," 或 ",(0,t.kt)("inlineCode",{parentName:"p"},"asset/inline"),"，那么 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.generator")," 选项可能是一个描述模块源编码方式的对象，还可能是一个通过自定义算法对模块源代码进行编码的函数。"),(0,t.kt)("p",null,"更多信息及用例请查阅 ",(0,t.kt)("a",{href:"/guides/asset-modules/",parentName:"p"},"Asset 模块指南"),"。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleparserdataurlcondition",parentName:"h2"}),"Rule.parser.dataUrlCondition",(0,t.kt)("a",{href:"#ruleparserdataurlcondition","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"object = { maxSize number = 8096 }")," ",(0,t.kt)("inlineCode",{parentName:"p"},"function (source, { filename, module }) => boolean")),(0,t.kt)("p",null,"如果一个模块源码大小小于 ",(0,t.kt)("inlineCode",{parentName:"p"},"maxSize"),"，那么模块会被作为一个 Base64 编码的字符串注入到包中，\n否则模块文件会被生成到输出的目标目录中。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n        parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          dataUrlCondition",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            maxSize",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token number",parentName:"code"},"4")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"*")," ",(0,t.kt)("span",{className:"token number",parentName:"code"},"1024"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"当提供函数时，返回 ",(0,t.kt)("inlineCode",{parentName:"p"},"true")," 值时告知 webpack 将模块作为一个 Base64 编码的字符串注入到包中，\n否则模块文件会被生成到输出的目标目录中。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n        parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,t.kt)("span",{className:"token function-variable function",parentName:"code"},"dataUrlCondition"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"source",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},"{")," filename",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},",")," module ",(0,t.kt)("span",{className:"token punctuation",parentName:"span"},"}")),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"const")," content ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," source",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"toString"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"return")," content",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"includes"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'some marker'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"rulegenerator",parentName:"h2"}),"Rule.generator",(0,t.kt)("a",{href:"#rulegenerator","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"rulegeneratordataurl",parentName:"h3"}),"Rule.generator.dataUrl",(0,t.kt)("a",{href:"#rulegeneratordataurl","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"object = { encoding string = 'base64' | false, mimetype string = undefined | false }")," ",(0,t.kt)("inlineCode",{parentName:"p"},"function (content, { filename, module }) => string")),(0,t.kt)("p",null,"当 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.generator.dataUrl")," 被用作一个对象，你可以配置两个属性："),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"encoding: 当被设置为",(0,t.kt)("inlineCode",{parentName:"li"},"'base64'"),"，模块源码会用 Baes64 算法 编码。设置 ",(0,t.kt)("inlineCode",{parentName:"li"},"encoding")," 为 false，会禁用编码。"),(0,t.kt)("li",{parentName:"ul"},"mimetype: 为数据链接(data URI)设置的一个 mimetype 值。默认根据模块资源后缀设置。")),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n        generator",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          dataUrl",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            encoding",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'base64'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            mimetype",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'mimetype/png'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"当被作为一个函数使用，它必须为每个模块执行且并须返回一个数据链接(data URI)字符串。"),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n        generator",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,t.kt)("span",{className:"token function-variable function",parentName:"code"},"dataUrl"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"content"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"const")," svgToMiniDataURI ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"require"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'mini-svg-data-uri'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token keyword",parentName:"code"},"typeof")," content ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"!==")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'string'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              content ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," content",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"toString"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n            ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"svgToMiniDataURI"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"rulegeneratoremit",parentName:"h3"}),"Rule.generator.emit",(0,t.kt)("a",{href:"#rulegeneratoremit","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"配置不从 ",(0,t.kt)("a",{href:"/guides/asset-modules/",parentName:"p"},"Asset Modules")," 写入资源文件, 你可能会在 SSR 中使用它。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"类型：",(0,t.kt)("inlineCode",{parentName:"p"},"boolean = true"))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"可用版本：",(0,t.kt)(o,{text:"5.25.0+",parentName:"p",mdxType:"Badge"}))),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("p",{parentName:"li"},"示例："),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// …"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.png$/i"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        generator",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          emit",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))))),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"rulegeneratorfilename",parentName:"h3"}),"Rule.generator.filename",(0,t.kt)("a",{href:"#rulegeneratorfilename","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"对某些特定的规则而言与 ",(0,t.kt)("a",{href:"/configuration/output/#outputassetmodulefilename",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"output.assetModuleFilename"))," 相同. 覆盖了 ",(0,t.kt)("inlineCode",{parentName:"p"},"output.assetModuleFilename")," 选项并且仅与 ",(0,t.kt)("inlineCode",{parentName:"p"},"asset")," 和 ",(0,t.kt)("inlineCode",{parentName:"p"},"asset/resource")," 模块类型一同起作用。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  output",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    assetModuleFilename",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'images/[hash][ext][query]'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.png/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.html/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        generator",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          filename",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'static/[hash][ext]'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"rulegeneratorpublichpath",parentName:"h3"}),"Rule.generator.publicPath",(0,t.kt)("a",{href:"#rulegeneratorpublichpath","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"对指定的资源模式指定 ",(0,t.kt)("inlineCode",{parentName:"p"},"publicPath"),"。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"类型：",(0,t.kt)("inlineCode",{parentName:"li"},"string | ((pathData: PathData, assetInfo?: AssetInfo) => string)")),(0,t.kt)("li",{parentName:"ul"},"可用版本：",(0,t.kt)(o,{text:"5.28.0+",parentName:"li",mdxType:"Badge"}))),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  output",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    publicPath",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'static/'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.png$/i"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        generator",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          publicPath",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'assets/'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"rulegeneratoroutputpath",parentName:"h3"}),"Rule.generator.outputPath",(0,t.kt)("a",{href:"#rulegeneratoroutputpath","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"将静态资源输出到相对于 'output.path' 的指定文件夹中。只有当 'publicPath' 被用来匹配文件夹结构时才会需要设置该配置。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"类型：",(0,t.kt)("inlineCode",{parentName:"li"},"string | ((pathData: PathData, assetInfo?: AssetInfo) => string)")),(0,t.kt)("li",{parentName:"ul"},"可用：",(0,t.kt)(o,{text:"5.67.0+",parentName:"li",mdxType:"Badge"}))),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  output",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    publicPath",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'static/'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.png$/i"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        generator",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          publicPath",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'https://cdn/assets/'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          outputPath",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'cdn-assets/'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleresource",parentName:"h2"}),"Rule.resource",(0,t.kt)("a",{href:"#ruleresource","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("a",{href:"#rule",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"条件")),"会匹配 resource。在 ",(0,t.kt)("a",{href:"#rule-conditions",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Rule")," 条件")," 中查阅详情。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleresourcequery",parentName:"h2"}),"Rule.resourceQuery",(0,t.kt)("a",{href:"#ruleresourcequery","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"与资源查询相匹配的 ",(0,t.kt)("a",{href:"#condition",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Condition")),"。此选项用于测试请求字符串的查询部分（即从问号开始）。如果你需要通过 ",(0,t.kt)("inlineCode",{parentName:"p"},"import Foo from './foo.css?inline'")," 导入 Foo，则需符合以下条件："),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        resourceQuery",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/inline/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'url-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleparserparse",parentName:"h2"}),"Rule.parser.parse",(0,t.kt)("a",{href:"#ruleparserparse","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"function(input) => string | object")),(0,t.kt)("p",null,"如果 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.type")," 被设置成 ",(0,t.kt)("inlineCode",{parentName:"p"},"'json'"),"，那么 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rules.parser.parse")," 选择可能会是一个方法，该方法实现自定义的逻辑，以解析模块的源和并将它转换成 JavaScript ",(0,t.kt)("inlineCode",{parentName:"p"},"对象"),"。\n它可能在没有特定加载器的时候，对将 ",(0,t.kt)("inlineCode",{parentName:"p"},"toml"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"yaml")," 和其它非 JSON 文件导入成导入非常有用："),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"const")," toml ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"require"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'toml'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.toml/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'json'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        parser",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          parse",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," toml",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"parse",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"rulerules",parentName:"h2"}),"Rule.rules",(0,t.kt)("a",{href:"#rulerules","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("a",{href:"#rule",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"规则")),"数组，当规则匹配时使用。"),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{className:"tip__prefix",parentName:"aside"},"提示"),(0,t.kt)("p",{parentName:"aside"},"详情参阅 ",(0,t.kt)("a",{href:"#nested-rules",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"嵌套规则"))," 。")),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"rulescheme",parentName:"h2"}),"Rule.scheme",(0,t.kt)("a",{href:"#rulescheme","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"匹配使用的 schema，例如 ",(0,t.kt)("inlineCode",{parentName:"p"},"data"),"，",(0,t.kt)("inlineCode",{parentName:"p"},"http"),"。"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"类型：",(0,t.kt)("inlineCode",{parentName:"li"},"string | RegExp | ((value: string) => boolean) | RuleSetLogicalConditions | RuleSetCondition[]")),(0,t.kt)("li",{parentName:"ul"},"可用：",(0,t.kt)(o,{text:"5.38.0+",parentName:"li",mdxType:"Badge"}))),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        scheme",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'data'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'asset/resource'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"rulesideeffects",parentName:"h2"}),"Rule.sideEffects",(0,t.kt)("a",{href:"#rulesideeffects","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"bool")),(0,t.kt)("p",null,"表明模块的哪一部份包含副作用。请参阅 ",(0,t.kt)("a",{href:"/guides/tree-shaking/#mark-the-file-as-side-effect-free",parentName:"p"},"Tree Shaking")," 以了解更多信息。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruletest",parentName:"h2"}),"Rule.test",(0,t.kt)("a",{href:"#ruletest","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"引入所有通过断言测试的模块。如果你提供了一个 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.test")," 选项，就不能再提供 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.resource"),"。详细请查看 ",(0,t.kt)("a",{href:"#ruleresource",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Rule.resource"))," 和 ",(0,t.kt)("a",{href:"#condition",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"Condition.test")),"。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruletype",parentName:"h2"}),"Rule.type",(0,t.kt)("a",{href:"#ruletype","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"string")),(0,t.kt)("p",null,"可设置值: ",(0,t.kt)("inlineCode",{parentName:"p"},"'javascript/auto' | 'javascript/dynamic' | 'javascript/esm' | 'json' | 'webassembly/sync' | 'webassembly/async' | 'asset' | 'asset/source' | 'asset/resource' | 'asset/inline'")),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"Rule.type")," 设置类型用于匹配模块。它防止了 ",(0,t.kt)("inlineCode",{parentName:"p"},"defaultRules")," 和它们的默认导入行为发生。例如，如果你想\n通过自定义 loader 加载一个 ",(0,t.kt)("inlineCode",{parentName:"p"},".json")," 文件，你会需要将 ",(0,t.kt)("inlineCode",{parentName:"p"},"type")," 设置为 ",(0,t.kt)("inlineCode",{parentName:"p"},"javascript/auto")," 以绕过 webpack 内置的 json 导入。\n（详参",(0,t.kt)("a",{href:"https://github.com/webpack/webpack/releases/tag/v4.0.0",parentName:"p"},"v4.0 更新日志"),"）"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.json$/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'javascript/auto'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        loader",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'custom-json-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"关于 ",(0,t.kt)("inlineCode",{parentName:"p"},"asset*")," 类型详参 ",(0,t.kt)("a",{href:"/guides/asset-modules/",parentName:"p"},"资源模块指南")," 。")),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleuse",parentName:"h2"}),"Rule.use",(0,t.kt)("a",{href:"#ruleuse","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"[UseEntry]")," ",(0,t.kt)("inlineCode",{parentName:"p"},"function(info)")),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("inlineCode",{parentName:"strong"},"[UseEntry]"))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"Rule.use")," 可以是一个应用于模块的 ",(0,t.kt)("a",{href:"#useentry",parentName:"p"},"UseEntries")," 数组。每个入口(entry)指定使用一个 loader。"),(0,t.kt)("p",null,"传递字符串（如：",(0,t.kt)("inlineCode",{parentName:"p"},"use: [ 'style-loader' ]"),"）是 loader 属性的简写方式（如：",(0,t.kt)("inlineCode",{parentName:"p"},"use: [ { loader: 'style-loader'} ]"),"）。"),(0,t.kt)("p",null,"Loaders 可以通过传入多个 loaders 以达到链式调用的效果，它们会从右到左被应用（从最后到最先配置）。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n        use",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'style-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              importLoaders",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token number",parentName:"code"},"1"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'less-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              noIeCompat",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("inlineCode",{parentName:"strong"},"function(info)"))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"Rule.use")," 也可以是一个函数，接受对象参数，描述被加载的模块，而且必须\n返回 ",(0,t.kt)("inlineCode",{parentName:"p"},"UseEntry")," 元素的数组。"),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"info")," 对象参数有以下的字段："),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"compiler"),": 当前 webpack 的编译器（可以是 undefined 值）"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"issuer"),": 模块的路径，该元素正在导入一个被加载的模块(resource)"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"realResource"),": 总会是被加载模块的路径"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"resource"),": 被加载的模块路径，它常常与 ",(0,t.kt)("inlineCode",{parentName:"li"},"realResource")," 相等，只有当资源名称被 request 字符串中的 ",(0,t.kt)("inlineCode",{parentName:"li"},"!=!")," 覆盖时才不相等")),(0,t.kt)("p",null,"相同的作为数组的快捷方式可以用作返回值（如 ",(0,t.kt)("inlineCode",{parentName:"p"},"use: [ 'style-loader' ]"),"）。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.kt)("span",{className:"token function-variable function",parentName:"code"},"use"),(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"info"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'custom-svg-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            loader",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'svgo-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            options",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              plugins",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n                ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                  cleanupIDs",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n                    prefix",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"basename"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"info",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"resource",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n                ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n              ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"参参 ",(0,t.kt)("a",{href:"#useentry",parentName:"p"},"UseEntry"),"。"),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"ruleresolve",parentName:"h2"}),"Rule.resolve",(0,t.kt)("a",{href:"#ruleresolve","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("aside",{className:"warning"},(0,t.kt)("h6",{className:"warning__prefix",parentName:"aside"},"警告"),(0,t.kt)("p",{parentName:"aside"},(0,t.kt)("inlineCode",{parentName:"p"},"Rule.resolve")," 从 webpack 4.36.1 起可用")),(0,t.kt)("p",null,"模块解析可以在模块层被配置。",(0,t.kt)("a",{href:"/configuration/resolve/#resolve",parentName:"p"},"resolve 配置页面"),"可查看所有可用的配置。\n所有被应用的 resolve 选项被更高层级的",(0,t.kt)("a",{href:"/configuration/resolve/#resolve",parentName:"p"},"resolve"),"配置合并。"),(0,t.kt)("p",null,"例如，假设我们有一个入口文件在 ",(0,t.kt)("inlineCode",{parentName:"p"},"./src/index.js"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"./src/footer/default.js")," 和一个 ",(0,t.kt)("inlineCode",{parentName:"p"},"./src/footer/overridden.js"),"，\n用以论证模块层级的解析。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"./src/index.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import")," footer ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'footer'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\nconsole",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"log"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"footer",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"./src/footer/default.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"default")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'default footer'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"./src/footer/overridden.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"default")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'overridden footer'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.js.org")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  resolve",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    alias",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      footer",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'./footer/default.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"当用该配置创建一个包，",(0,t.kt)("inlineCode",{parentName:"p"},"console.log(footer)")," 会输出 'default footer'。让我们为 ",(0,t.kt)("inlineCode",{parentName:"p"},".js")," 文件设置 ",(0,t.kt)("inlineCode",{parentName:"p"},"Rule.resolve"),"，以及\n",(0,t.kt)("inlineCode",{parentName:"p"},"footer")," 作为 ",(0,t.kt)("inlineCode",{parentName:"p"},"overridden.js")," 的别名。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.js.org")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  resolve",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    alias",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      footer",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'./footer/default.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        resolve",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          alias",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n            footer",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'./footer/overridden.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"当用该配置创建一个包，",(0,t.kt)("inlineCode",{parentName:"p"},"console.log(footer)")," 会输出 'overridden footer'。"),(0,t.kt)("h3",null,(0,t.kt)("span",{id:"resolve-fully-specified",parentName:"h3"}),"resolve.fullySpecified",(0,t.kt)("a",{href:"#resolve-fully-specified","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"boolean = true")),(0,t.kt)("p",null,"启用后，你若在 ",(0,t.kt)("inlineCode",{parentName:"p"},".mjs")," 文件或其他 ",(0,t.kt)("inlineCode",{parentName:"p"},".js")," 文件中导入模块，并且它们最近的 ",(0,t.kt)("inlineCode",{parentName:"p"},"package.json")," 中包含 ",(0,t.kt)("inlineCode",{parentName:"p"},'"type"')," 字段，其值为 ",(0,t.kt)("inlineCode",{parentName:"p"},'"module"'),"时，你应为此文件提供扩展名，否则 webpack 会提示 ",(0,t.kt)("inlineCode",{parentName:"p"},"Module not found")," 的错误且编译失败。并且 webpack 不会解析 ",(0,t.kt)("a",{href:"/configuration/resolve/#resolvemainfiles",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"resolve.mainFiles"))," 中定义的文件目录，你必须自己指定文件名。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.m?js$/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        resolve",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          fullySpecified",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// disable the behaviour"),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("aside",{className:"warning"},(0,t.kt)("h6",{className:"warning__prefix",parentName:"aside"},"警告"),(0,t.kt)("p",{parentName:"aside"},(0,t.kt)("inlineCode",{parentName:"p"},"resolve.fullySpecified")," 不影响来自 ",(0,t.kt)("a",{href:"/configuration/resolve/#resolvemainfields",parentName:"p"},"mainFields"),"，",(0,t.kt)("a",{href:"/configuration/resolve/#resolvealiasfields",parentName:"p"},"aliasFields")," 或 ",(0,t.kt)("a",{href:"/configuration/resolve/#resolvealias",parentName:"p"},"aliases")," 的请求。")),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"condition",parentName:"h2"}),"Condition",(0,t.kt)("a",{href:"#condition","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"条件可以是这些之一："),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"字符串：匹配输入必须以提供的字符串开始。是的。目录绝对路径或文件绝对路径。"),(0,t.kt)("li",{parentName:"ul"},"正则表达式：test 输入值。"),(0,t.kt)("li",{parentName:"ul"},"函数：调用输入的函数，必须返回一个真值(truthy value)以匹配。"),(0,t.kt)("li",{parentName:"ul"},"条件数组：至少一个匹配条件。"),(0,t.kt)("li",{parentName:"ul"},"对象：匹配所有属性。每个属性都有一个定义行为。")),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"{ and: [Condition] }"),"：必须匹配数组中的所有条件"),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"{ or: [Condition] }"),"：匹配数组中任何一个条件"),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"{ not: [Condition] }"),"：必须排除这个条件"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"示例:")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"const")," path ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"require"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'path'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/\\.css$/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        include",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n          ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// will include any paths relative to the current directory starting with `app/styles`"),"\n          ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// e.g. `app/styles.css`, `app/styles/styles.css`, `app/stylesheet.css`"),"\n          path",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"resolve"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"__dirname",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'app/styles'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"// add an extra slash to only include the content of the directory `vendor/styles/`"),"\n          path",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"join"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"__dirname",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'vendor/styles/'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"useentry",parentName:"h2"}),"UseEntry",(0,t.kt)("a",{href:"#useentry","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"object")," ",(0,t.kt)("inlineCode",{parentName:"p"},"function(info)")),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("inlineCode",{parentName:"strong"},"object"))),(0,t.kt)("p",null,"必须有一个 ",(0,t.kt)("inlineCode",{parentName:"p"},"loader")," 属性是字符串。它使用 loader 解析选项（",(0,t.kt)("a",{href:"/configuration/resolve#resolveloader",parentName:"p"},"resolveLoader"),"），相对于配置中的 ",(0,t.kt)("a",{href:"/configuration/entry-context#context",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"context"))," 来解析。"),(0,t.kt)("p",null,"可以有一个 ",(0,t.kt)("inlineCode",{parentName:"p"},"options")," 属性为字符串或对象。值可以传递到 loader 中，将其理解为 loader 选项。"),(0,t.kt)("p",null,"由于兼容性原因，也可能有 ",(0,t.kt)("inlineCode",{parentName:"p"},"query")," 属性，它是 ",(0,t.kt)("inlineCode",{parentName:"p"},"options")," 属性的别名。使用 ",(0,t.kt)("inlineCode",{parentName:"p"},"options")," 属性替代。"),(0,t.kt)("p",null,"注意，webpack 需要生成资源和所有 loader 的独立模块标识，包括选项。\n它尝试对选项对象使用 ",(0,t.kt)("inlineCode",{parentName:"p"},"JSON.stringify"),"。这在 99.9% 的情况下是可以的，\n但是如果将相同的 loader 应用于相同资源的不同选项，并且选项具有一些带字符的值，则可能不是唯一的。"),(0,t.kt)("p",null,"如果选项对象不被字符化（例如循环 JSON），它也会中断。因此，你可以在选项对象使用 ",(0,t.kt)("inlineCode",{parentName:"p"},"ident")," 属性，\n作为唯一标识符。"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        loader",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'css-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          modules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("inlineCode",{parentName:"strong"},"function(info)"))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"UseEntry")," 也可以是一个函数，接受对象参数，描述被加载的模块，而且必须返回一个参数对象。这可用于按模块更改 loader 选项。"),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"info")," 对象参数有以下的字段："),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"compiler"),": 当前 webpack 的编译器（可以是 undefined 值）"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"issuer"),": 模块的路径，该元素正在导入一个被加载的模块(resource)"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"realResource"),": 总会是被加载模块的路径"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"resource"),": 被加载的模块路径，它常常与 ",(0,t.kt)("inlineCode",{parentName:"li"},"realResource")," 相等，只有当资源名称被 request 字符串中的 ",(0,t.kt)("inlineCode",{parentName:"li"},"!=!")," 覆盖时才不相等")),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        loader",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'file-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          outputPath",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'svgs'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"info"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        loader",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'svgo-loader'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        options",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          plugins",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n            ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              cleanupIDs",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{")," prefix",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token function",parentName:"code"},"basename"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"info",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"resource",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n            ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("h2",null,(0,t.kt)("span",{id:"module-contexts",parentName:"h2"}),"模块上下文(Module Contexts)",(0,t.kt)("a",{href:"#module-contexts","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"这些选项描述了当遇到动态依赖时，创建上下文的默认设置。"),(0,t.kt)("p",null,"例如，",(0,t.kt)("inlineCode",{parentName:"p"},"未知的(unknown)")," 动态依赖：",(0,t.kt)("inlineCode",{parentName:"p"},"require"),"。"),(0,t.kt)("p",null,"例如，",(0,t.kt)("inlineCode",{parentName:"p"},"表达式(expr)")," 动态依赖：",(0,t.kt)("inlineCode",{parentName:"p"},"require(expr)"),"。"),(0,t.kt)("p",null,"例如，",(0,t.kt)("inlineCode",{parentName:"p"},"包裹的(wrapped)")," 动态依赖：",(0,t.kt)("inlineCode",{parentName:"p"},"require('./templates/' + expr)"),"。"),(0,t.kt)("p",null,"以下是其",(0,t.kt)("a",{href:"https://github.com/webpack/webpack/blob/master/lib/config/defaults.js",parentName:"p"},"默认值"),"的可用选项"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    exprContextCritical",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    exprContextRecursive",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    exprContextRegExp",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    exprContextRequest",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'.'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    unknownContextCritical",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    unknownContextRecursive",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    unknownContextRegExp",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    unknownContextRequest",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'.'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    wrappedContextCritical",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    wrappedContextRecursive",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    wrappedContextRegExp",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token regex",parentName:"code"},"/.*/"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    strictExportPresence",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{className:"tip__prefix",parentName:"aside"},"提示"),(0,t.kt)("p",{parentName:"aside"},"你可以使用 ",(0,t.kt)("inlineCode",{parentName:"p"},"ContextReplacementPlugin")," 来修改这些单个依赖的值。这也会删除警告。")),(0,t.kt)("p",null,"几个用例："),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"动态依赖的警告：",(0,t.kt)("inlineCode",{parentName:"li"},"wrappedContextCritical: true"),"。"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"require(expr)")," 应该包含整个目录：",(0,t.kt)("inlineCode",{parentName:"li"},"exprContextRegExp: /^\\.\\//")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},'require("./templates/" + expr)')," 不应该包含默认子目录：",(0,t.kt)("inlineCode",{parentName:"li"},"wrappedContextRecursive: false")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"strictExportPresence")," 将缺失的导出提示成错误而不是警告"),(0,t.kt)("li",{parentName:"ul"},"为部分动态依赖项设置内部正则表达式：",(0,t.kt)("inlineCode",{parentName:"li"},"wrappedContextRegExp: /\\\\.\\\\*/"))),(0,t.kt)("aside",{className:"warning"},(0,t.kt)("h6",{className:"warning__prefix",parentName:"aside"},"警告"),(0,t.kt)("p",{parentName:"aside"},"为支持 ",(0,t.kt)("a",{href:"#moduleparserjavascript",parentName:"p"},(0,t.kt)("inlineCode",{parentName:"a"},"exportsPresence"))," 配置项，",(0,t.kt)("inlineCode",{parentName:"p"},"strictExportPresence")," 已被废弃。")))}s.isMDXComponent=!0,a.default=s}}]);