"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3436],{3436:function(e,a,t){t.r(a),t(7378);var n=t(2682);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l.apply(this,arguments)}function p(e){let{components:a,...t}=e;return(0,n.kt)("wrapper",l({components:a},t),(0,n.kt)("div",{align:"center"}),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://npmjs.com/package/eslint-webpack-plugin",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/npm/v/eslint-webpack-plugin.svg",alt:"npm",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://nodejs.org",parentName:"p"},(0,n.kt)("img",{src:"https://img.shields.io/node/v/eslint-webpack-plugin.svg",alt:"node",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://david-dm.org/webpack-contrib/eslint-webpack-plugin",parentName:"p"},(0,n.kt)("img",{src:"https://david-dm.org/webpack-contrib/eslint-webpack-plugin.svg",alt:"deps",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://github.com/webpack-contrib/eslint-webpack-plugin/actions",parentName:"p"},(0,n.kt)("img",{src:"https://github.com/webpack-contrib/eslint-webpack-plugin/workflows/eslint-webpack-plugin/badge.svg",alt:"tests",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://codecov.io/gh/webpack-contrib/eslint-webpack-plugin",parentName:"p"},(0,n.kt)("img",{src:"https://codecov.io/gh/webpack-contrib/eslint-webpack-plugin/branch/master/graph/badge.svg",alt:"coverage",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://gitter.im/webpack/webpack",parentName:"p"},(0,n.kt)("img",{src:"https://badges.gitter.im/webpack/webpack.svg",alt:"chat",parentName:"a"})),"\n",(0,n.kt)("a",{href:"https://packagephobia.now.sh/result?p=eslint-webpack-plugin",parentName:"p"},(0,n.kt)("img",{src:"https://packagephobia.now.sh/badge?p=eslint-webpack-plugin",alt:"size",parentName:"a"}))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"eslint-webpack-plugin 3.0 仅支持 webpack 5。对于 webpack 4 请查看 ",(0,n.kt)("a",{href:"https://github.com/webpack-contrib/eslint-webpack-plugin/tree/2.x",parentName:"p"},"2.x 分支"),"。")),(0,n.kt)("p",null,"该插件使用 ",(0,n.kt)("a",{href:"https://eslint.org/",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"eslint"))," 来查找和修复 JavaScript 代码中的问题。"),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"getting-started",parentName:"h2"}),"开始",(0,n.kt)("a",{href:"#getting-started","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"首先，需要安装 ",(0,n.kt)("inlineCode",{parentName:"p"},"eslint-webpack-plugin"),"："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," eslint-webpack-plugin --save-dev")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"注意"),": 如果未安装 ",(0,n.kt)("inlineCode",{parentName:"p"},"eslint >= 7")," ，你还需先通过 npm 安装："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," eslint --save-dev")),(0,n.kt)("p",null,"然后把插件添加到你的 webpack 配置。例如："),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," ESLintPlugin ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'eslint-webpack-plugin'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"ESLintPlugin"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"options",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"options",parentName:"h2"}),"选项",(0,n.kt)("a",{href:"#options","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"你可以传入 ",(0,n.kt)("a",{href:"https://eslint.org/docs/developer-guide/nodejs-api#-new-eslintoptions",parentName:"p"},"eslint 参数"),"。"),(0,n.kt)("p",null,"注意你提供的配置选项会传给 ",(0,n.kt)("inlineCode",{parentName:"p"},"ESLint")," 类。\n这是一组和你在 ",(0,n.kt)("inlineCode",{parentName:"p"},"package.json")," 与 ",(0,n.kt)("inlineCode",{parentName:"p"},".eslintrc")," 所指定选项不同的选项。\n查阅 ",(0,n.kt)("a",{href:"https://eslint.org/docs/developer-guide/nodejs-api#-new-eslintoptions",parentName:"p"},"eslint 文档")," 获取更多详情。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"警告"),": 在 eslint-webpack-plugin 1.x 版本中，配置项会传递给已废弃的 ",(0,n.kt)("a",{href:"https://eslint.org/docs/developer-guide/nodejs-api#cliengine",parentName:"p"},"CLIEngine"),"。"),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"context",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"context"),(0,n.kt)("a",{href:"#context","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"compiler.context"))),(0,n.kt)("p",null,"指定文件根目录，类型为字符串。"),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"eslintpath",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"eslintPath"),(0,n.kt)("a",{href:"#eslintpath","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"eslint"))),(0,n.kt)("p",null,"用于 linting 的 ",(0,n.kt)("inlineCode",{parentName:"p"},"eslint")," 实例的路径。如果 ",(0,n.kt)("inlineCode",{parentName:"p"},"eslintPath")," 是类似官方 eslint 的目录，或者指定了 ",(0,n.kt)("inlineCode",{parentName:"p"},"formatter")," 选项，那么就不需要安装 ",(0,n.kt)("inlineCode",{parentName:"p"},"eslint")," 了。"),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"estensions",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"extensions"),(0,n.kt)("a",{href:"#estensions","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"String|Array[String]")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"'js'"))),(0,n.kt)("p",null,"指定需要检查的扩展名。"),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"exclude",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"exclude"),(0,n.kt)("a",{href:"#exclude","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"String|Array[String]")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"'node_modules'"))),(0,n.kt)("p",null,"指定需要排除的文件及目录。必须是相对于 ",(0,n.kt)("inlineCode",{parentName:"p"},"options.context")," 的相对路径。"),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"files",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"files"),(0,n.kt)("a",{href:"#files","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"String|Array[String]")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"null"))),(0,n.kt)("p",null,"指定目录、文件或 globs ，必须是相对于 ",(0,n.kt)("inlineCode",{parentName:"p"},"options.context")," 的相对路径。\n如果是目录则递归查找所有匹配 ",(0,n.kt)("inlineCode",{parentName:"p"},"options.extensions")," 选项的文件。\n如果是文件或 globs 则忽略 ",(0,n.kt)("inlineCode",{parentName:"p"},"options.extensions")," 选项。"),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"fix",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"fix"),(0,n.kt)("a",{href:"#fix","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"Boolean")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"false"))),(0,n.kt)("p",null,"启用 ",(0,n.kt)("a",{href:"https://eslint.org/docs/developer-guide/nodejs-api#-eslintoutputfixesresults",parentName:"p"},"ESLint 自动修复特性"),"。"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"小心: 该选项会修改源文件。")),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"formatter",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"formatter"),(0,n.kt)("a",{href:"#formatter","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"String|Function")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"'stylish'"))),(0,n.kt)("p",null,"接受一个有单一参数的函数：该参数为 eslint 消息（一个对象）的数组。函数必须返回字符串格式的 output。可以使用官方的 ",(0,n.kt)("a",{href:"https://eslint.org/docs/user-guide/formatters/",parentName:"p"},"eslint formatters"),"。"),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"lintdirtymodulesonly",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"lintDirtyModulesOnly"),(0,n.kt)("a",{href:"#lintdirtymodulesonly","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"Boolean")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"false"))),(0,n.kt)("p",null,"只对内容修改了的文件进行 lint，启动时跳过 lint 。"),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"threads",parentName:"h3"}),(0,n.kt)("inlineCode",{parentName:"h3"},"threads"),(0,n.kt)("a",{href:"#threads","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"Boolean | Number")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"false"))),(0,n.kt)("p",null,"以线程池方式运行 lint 。线程池大小是自动的，除非你指定一个数值。"),(0,n.kt)("h3",null,(0,n.kt)("span",{id:"errors-and-warning",parentName:"h3"}),"错误以及警告",(0,n.kt)("a",{href:"#errors-and-warning","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"该插件默认会根据 eslint 错误/警告的数量自动调整错误报告（error reporting）。"),"\n你也可以通过 ",(0,n.kt)("inlineCode",{parentName:"p"},"emitError")," ",(0,n.kt)("strong",{parentName:"p"},"或")," ",(0,n.kt)("inlineCode",{parentName:"p"},"emitWarning")," 强制开启错误报告行为："),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"emiterror",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"emitError"),(0,n.kt)("a",{href:"#emiterror","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"Boolean")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"true"))),(0,n.kt)("p",null,"总是发送发现的错误 ，设置为 ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," 以禁用。"),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"emitwarning",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"emitWarning"),(0,n.kt)("a",{href:"#emitwarning","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"Boolean")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"true"))),(0,n.kt)("p",null,"总是发送发现的警告，设置为 ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," 以禁用。"),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"failonerror",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"failOnError"),(0,n.kt)("a",{href:"#failonerror","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"Boolean")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"true"))),(0,n.kt)("p",null,"任何错误都会导致模块构建（module build）失败，设置为 ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," 禁用。"),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"failonwarning",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"failOnWarning"),(0,n.kt)("a",{href:"#failonwarning","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"Boolean")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"false"))),(0,n.kt)("p",null,"当设置为 ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," 时，任何警告都会导致模块构建（module build）失败。"),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"quiet",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"quiet"),(0,n.kt)("a",{href:"#quiet","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"Boolean")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"false"))),(0,n.kt)("p",null,"设置为 ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," 后，仅处理和报告错误，忽略警告。"),(0,n.kt)("h4",null,(0,n.kt)("span",{id:"outputreport",parentName:"h4"}),(0,n.kt)("inlineCode",{parentName:"h4"},"outputReport"),(0,n.kt)("a",{href:"#outputreport","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"类型：",(0,n.kt)("inlineCode",{parentName:"li"},"Boolean|Object")),(0,n.kt)("li",{parentName:"ul"},"默认值：",(0,n.kt)("inlineCode",{parentName:"li"},"false"))),(0,n.kt)("p",null,"把错误输出到一个文件，例如在 Jenkins CI 使用 checkstyle xml 文件。"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"filePath")," 为绝对路径或者相对于 webpack 配置: ",(0,n.kt)("inlineCode",{parentName:"p"},"output.path")," 的相对路径。\n你可以为输出文件传入不同的 ",(0,n.kt)("inlineCode",{parentName:"p"},"formatter")," 。\n如果没有传入，则使用默认的或已配置的 formatter 。"),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"changelog",parentName:"h2"}),"更新日志",(0,n.kt)("a",{href:"#changelog","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/webpack-contrib/eslint-webpack-plugin/blob/master/CHANGELOG.md",parentName:"p"},"更新日志")),(0,n.kt)("h2",null,(0,n.kt)("span",{id:"license",parentName:"h2"}),"License",(0,n.kt)("a",{href:"#license","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/webpack-contrib/eslint-webpack-plugin/blob/master/LICENSE",parentName:"p"},"MIT")))}p.isMDXComponent=!0,a.default=p}}]);